var f8=Object.defineProperty;var CC=n=>{throw TypeError(n)};var p8=(n,e,t)=>e in n?f8(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var de=(n,e,t)=>p8(n,typeof e!="symbol"?e+"":e,t),rS=(n,e,t)=>e.has(n)||CC("Cannot "+t);var c=(n,e,t)=>(rS(n,e,"read from private field"),t?t.call(n):e.get(n)),_=(n,e,t)=>e.has(n)?CC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),E=(n,e,t,r)=>(rS(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),k=(n,e,t)=>(rS(n,e,"access private method"),t);var Qt=(n,e,t,r)=>({set _(i){E(n,e,i,t)},get _(){return c(n,e,r)}});function m8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function aF(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var oF={exports:{}},Zw={},lF={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1=Symbol.for("react.element"),g8=Symbol.for("react.portal"),v8=Symbol.for("react.fragment"),x8=Symbol.for("react.strict_mode"),y8=Symbol.for("react.profiler"),w8=Symbol.for("react.provider"),E8=Symbol.for("react.context"),S8=Symbol.for("react.forward_ref"),_8=Symbol.for("react.suspense"),A8=Symbol.for("react.memo"),T8=Symbol.for("react.lazy"),kC=Symbol.iterator;function b8(n){return n===null||typeof n!="object"?null:(n=kC&&n[kC]||n["@@iterator"],typeof n=="function"?n:null)}var cF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uF=Object.assign,hF={};function yp(n,e,t){this.props=n,this.context=e,this.refs=hF,this.updater=t||cF}yp.prototype.isReactComponent={};yp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};yp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function dF(){}dF.prototype=yp.prototype;function fT(n,e,t){this.props=n,this.context=e,this.refs=hF,this.updater=t||cF}var pT=fT.prototype=new dF;pT.constructor=fT;uF(pT,yp.prototype);pT.isPureReactComponent=!0;var PC=Array.isArray,fF=Object.prototype.hasOwnProperty,mT={current:null},pF={key:!0,ref:!0,__self:!0,__source:!0};function mF(n,e,t){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)fF.call(e,r)&&!pF.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in o=n.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:v1,type:n,key:s,ref:a,props:i,_owner:mT.current}}function C8(n,e){return{$$typeof:v1,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function gT(n){return typeof n=="object"&&n!==null&&n.$$typeof===v1}function k8(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var RC=/\/+/g;function iS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?k8(""+n.key):e.toString(36)}function Fx(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case v1:case g8:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+iS(a,0):r,PC(i)?(t="",n!=null&&(t=n.replace(RC,"$&/")+"/"),Fx(i,e,t,"",function(u){return u})):i!=null&&(gT(i)&&(i=C8(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(RC,"$&/")+"/")+n)),e.push(i)),1;if(a=0,r=r===""?".":r+":",PC(n))for(var o=0;o<n.length;o++){s=n[o];var l=r+iS(s,o);a+=Fx(s,e,t,l,i)}else if(l=b8(n),typeof l=="function")for(n=l.call(n),o=0;!(s=n.next()).done;)s=s.value,l=r+iS(s,o++),a+=Fx(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function H1(n,e,t){if(n==null)return n;var r=[],i=0;return Fx(n,r,"","",function(s){return e.call(t,s,i++)}),r}function P8(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Wr={current:null},Nx={transition:null},R8={ReactCurrentDispatcher:Wr,ReactCurrentBatchConfig:Nx,ReactCurrentOwner:mT};function gF(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:H1,forEach:function(n,e,t){H1(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return H1(n,function(){e++}),e},toArray:function(n){return H1(n,function(e){return e})||[]},only:function(n){if(!gT(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ke.Component=yp;Ke.Fragment=v8;Ke.Profiler=y8;Ke.PureComponent=fT;Ke.StrictMode=x8;Ke.Suspense=_8;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R8;Ke.act=gF;Ke.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=uF({},n.props),i=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=mT.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(l in e)fF.call(e,l)&&!pF.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:v1,type:n.type,key:i,ref:s,props:r,_owner:a}};Ke.createContext=function(n){return n={$$typeof:E8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:w8,_context:n},n.Consumer=n};Ke.createElement=mF;Ke.createFactory=function(n){var e=mF.bind(null,n);return e.type=n,e};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(n){return{$$typeof:S8,render:n}};Ke.isValidElement=gT;Ke.lazy=function(n){return{$$typeof:T8,_payload:{_status:-1,_result:n},_init:P8}};Ke.memo=function(n,e){return{$$typeof:A8,type:n,compare:e===void 0?null:e}};Ke.startTransition=function(n){var e=Nx.transition;Nx.transition={};try{n()}finally{Nx.transition=e}};Ke.unstable_act=gF;Ke.useCallback=function(n,e){return Wr.current.useCallback(n,e)};Ke.useContext=function(n){return Wr.current.useContext(n)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(n){return Wr.current.useDeferredValue(n)};Ke.useEffect=function(n,e){return Wr.current.useEffect(n,e)};Ke.useId=function(){return Wr.current.useId()};Ke.useImperativeHandle=function(n,e,t){return Wr.current.useImperativeHandle(n,e,t)};Ke.useInsertionEffect=function(n,e){return Wr.current.useInsertionEffect(n,e)};Ke.useLayoutEffect=function(n,e){return Wr.current.useLayoutEffect(n,e)};Ke.useMemo=function(n,e){return Wr.current.useMemo(n,e)};Ke.useReducer=function(n,e,t){return Wr.current.useReducer(n,e,t)};Ke.useRef=function(n){return Wr.current.useRef(n)};Ke.useState=function(n){return Wr.current.useState(n)};Ke.useSyncExternalStore=function(n,e,t){return Wr.current.useSyncExternalStore(n,e,t)};Ke.useTransition=function(){return Wr.current.useTransition()};Ke.version="18.3.1";lF.exports=Ke;var C=lF.exports;const xe=aF(C),vT=m8({__proto__:null,default:xe},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F8=C,N8=Symbol.for("react.element"),D8=Symbol.for("react.fragment"),I8=Object.prototype.hasOwnProperty,O8=F8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M8={key:!0,ref:!0,__self:!0,__source:!0};function vF(n,e,t){var r,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)I8.call(e,r)&&!M8.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:N8,type:n,key:s,ref:a,props:i,_owner:O8.current}}Zw.Fragment=D8;Zw.jsx=vF;Zw.jsxs=vF;oF.exports=Zw;var A=oF.exports,xF={exports:{}},Ji={},yF={exports:{}},wF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Y,H){var X=Y.length;Y.push(H);e:for(;0<X;){var Z=X-1>>>1,N=Y[Z];if(0<i(N,H))Y[Z]=H,Y[X]=N,X=Z;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var H=Y[0],X=Y.pop();if(X!==H){Y[0]=X;e:for(var Z=0,N=Y.length,B=N>>>1;Z<B;){var U=2*(Z+1)-1,V=Y[U],te=U+1,Q=Y[te];if(0>i(V,X))te<N&&0>i(Q,V)?(Y[Z]=Q,Y[te]=X,Z=te):(Y[Z]=V,Y[U]=X,Z=U);else if(te<N&&0>i(Q,X))Y[Z]=Q,Y[te]=X,Z=te;else break e}}return H}function i(Y,H){var X=Y.sortIndex-H.sortIndex;return X!==0?X:Y.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(Y){for(var H=t(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=Y)r(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=t(u)}}function S(Y){if(m=!1,y(Y),!g)if(t(l)!==null)g=!0,ie(T);else{var H=t(u);H!==null&&K(S,H.startTime-Y)}}function T(Y,H){g=!1,m&&(m=!1,x(F),F=-1),p=!0;var X=f;try{for(y(H),d=t(l);d!==null&&(!(d.expirationTime>H)||Y&&!W());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,f=d.priorityLevel;var N=Z(d.expirationTime<=H);H=n.unstable_now(),typeof N=="function"?d.callback=N:d===t(l)&&r(l),y(H)}else r(l);d=t(l)}if(d!==null)var B=!0;else{var U=t(u);U!==null&&K(S,U.startTime-H),B=!1}return B}finally{d=null,f=X,p=!1}}var P=!1,b=null,F=-1,D=5,M=-1;function W(){return!(n.unstable_now()-M<D)}function G(){if(b!==null){var Y=n.unstable_now();M=Y;var H=!0;try{H=b(!0,Y)}finally{H?q():(P=!1,b=null)}}else P=!1}var q;if(typeof w=="function")q=function(){w(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ae=J.port2;J.port1.onmessage=G,q=function(){ae.postMessage(null)}}else q=function(){v(G,0)};function ie(Y){b=Y,P||(P=!0,q())}function K(Y,H){F=v(function(){Y(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,ie(T))},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Y){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var X=f;f=H;try{return Y()}finally{f=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var X=f;f=Y;try{return H()}finally{f=X}},n.unstable_scheduleCallback=function(Y,H,X){var Z=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Z+X:Z):X=Z,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=X+N,Y={id:h++,callback:H,priorityLevel:Y,startTime:X,expirationTime:N,sortIndex:-1},X>Z?(Y.sortIndex=X,e(u,Y),t(l)===null&&Y===t(u)&&(m?(x(F),F=-1):m=!0,K(S,X-Z))):(Y.sortIndex=N,e(l,Y),g||p||(g=!0,ie(T))),Y},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(Y){var H=f;return function(){var X=f;f=H;try{return Y.apply(this,arguments)}finally{f=X}}}})(wF);yF.exports=wF;var L8=yF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B8=C,qi=L8;function pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EF=new Set,Vm={};function gd(n,e){op(n,e),op(n+"Capture",e)}function op(n,e){for(Vm[n]=e,n=0;n<e.length;n++)EF.add(e[n])}var ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u_=Object.prototype.hasOwnProperty,j8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FC={},NC={};function U8(n){return u_.call(NC,n)?!0:u_.call(FC,n)?!1:j8.test(n)?NC[n]=!0:(FC[n]=!0,!1)}function H8(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function $8(n,e,t,r){if(e===null||typeof e>"u"||H8(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vr(n,e,t,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ar[n]=new Vr(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ar[e]=new Vr(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ar[n]=new Vr(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ar[n]=new Vr(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ar[n]=new Vr(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ar[n]=new Vr(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ar[n]=new Vr(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ar[n]=new Vr(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ar[n]=new Vr(n,5,!1,n.toLowerCase(),null,!1,!1)});var xT=/[\-:]([a-z])/g;function yT(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(xT,yT);ar[e]=new Vr(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(xT,yT);ar[e]=new Vr(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(xT,yT);ar[e]=new Vr(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ar[n]=new Vr(n,1,!1,n.toLowerCase(),null,!1,!1)});ar.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ar[n]=new Vr(n,1,!1,n.toLowerCase(),null,!0,!0)});function wT(n,e,t,r){var i=ar.hasOwnProperty(e)?ar[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($8(e,t,i,r)&&(t=null),r||i===null?U8(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Tl=B8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$1=Symbol.for("react.element"),Gd=Symbol.for("react.portal"),Xd=Symbol.for("react.fragment"),ET=Symbol.for("react.strict_mode"),h_=Symbol.for("react.profiler"),SF=Symbol.for("react.provider"),_F=Symbol.for("react.context"),ST=Symbol.for("react.forward_ref"),d_=Symbol.for("react.suspense"),f_=Symbol.for("react.suspense_list"),_T=Symbol.for("react.memo"),Ll=Symbol.for("react.lazy"),AF=Symbol.for("react.offscreen"),DC=Symbol.iterator;function Up(n){return n===null||typeof n!="object"?null:(n=DC&&n[DC]||n["@@iterator"],typeof n=="function"?n:null)}var qt=Object.assign,sS;function nm(n){if(sS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);sS=e&&e[1]||""}return`
`+sS+n}var aS=!1;function oS(n,e){if(!n||aS)return"";aS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=a&&0<=o);break}}}finally{aS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?nm(n):""}function z8(n){switch(n.tag){case 5:return nm(n.type);case 16:return nm("Lazy");case 13:return nm("Suspense");case 19:return nm("SuspenseList");case 0:case 2:case 15:return n=oS(n.type,!1),n;case 11:return n=oS(n.type.render,!1),n;case 1:return n=oS(n.type,!0),n;default:return""}}function p_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Xd:return"Fragment";case Gd:return"Portal";case h_:return"Profiler";case ET:return"StrictMode";case d_:return"Suspense";case f_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case _F:return(n.displayName||"Context")+".Consumer";case SF:return(n._context.displayName||"Context")+".Provider";case ST:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _T:return e=n.displayName||null,e!==null?e:p_(n.type)||"Memo";case Ll:e=n._payload,n=n._init;try{return p_(n(e))}catch{}}return null}function W8(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p_(e);case 8:return e===ET?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zc(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function TF(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V8(n){var e=TF(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function z1(n){n._valueTracker||(n._valueTracker=V8(n))}function bF(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=TF(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function ky(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function m_(n,e){var t=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function IC(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Zc(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CF(n,e){e=e.checked,e!=null&&wT(n,"checked",e,!1)}function g_(n,e){CF(n,e);var t=Zc(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?v_(n,e.type,t):e.hasOwnProperty("defaultValue")&&v_(n,e.type,Zc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function OC(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function v_(n,e,t){(e!=="number"||ky(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var rm=Array.isArray;function df(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Zc(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function x_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function MC(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(pe(92));if(rm(t)){if(1<t.length)throw Error(pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Zc(t)}}function kF(n,e){var t=Zc(e.value),r=Zc(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function LC(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function PF(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?PF(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var W1,RF=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(W1=W1||document.createElement("div"),W1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=W1.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Gm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Pm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G8=["Webkit","ms","Moz","O"];Object.keys(Pm).forEach(function(n){G8.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Pm[e]=Pm[n]})});function FF(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Pm.hasOwnProperty(n)&&Pm[n]?(""+e).trim():e+"px"}function NF(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=FF(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var X8=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function w_(n,e){if(e){if(X8[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function E_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S_=null;function AT(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var __=null,ff=null,pf=null;function BC(n){if(n=w1(n)){if(typeof __!="function")throw Error(pe(280));var e=n.stateNode;e&&(e=iE(e),__(n.stateNode,n.type,e))}}function DF(n){ff?pf?pf.push(n):pf=[n]:ff=n}function IF(){if(ff){var n=ff,e=pf;if(pf=ff=null,BC(n),e)for(n=0;n<e.length;n++)BC(e[n])}}function OF(n,e){return n(e)}function MF(){}var lS=!1;function LF(n,e,t){if(lS)return n(e,t);lS=!0;try{return OF(n,e,t)}finally{lS=!1,(ff!==null||pf!==null)&&(MF(),IF())}}function Xm(n,e){var t=n.stateNode;if(t===null)return null;var r=iE(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(pe(231,e,typeof t));return t}var A_=!1;if(ml)try{var Hp={};Object.defineProperty(Hp,"passive",{get:function(){A_=!0}}),window.addEventListener("test",Hp,Hp),window.removeEventListener("test",Hp,Hp)}catch{A_=!1}function Y8(n,e,t,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var Rm=!1,Py=null,Ry=!1,T_=null,K8={onError:function(n){Rm=!0,Py=n}};function q8(n,e,t,r,i,s,a,o,l){Rm=!1,Py=null,Y8.apply(K8,arguments)}function Q8(n,e,t,r,i,s,a,o,l){if(q8.apply(this,arguments),Rm){if(Rm){var u=Py;Rm=!1,Py=null}else throw Error(pe(198));Ry||(Ry=!0,T_=u)}}function vd(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function BF(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function jC(n){if(vd(n)!==n)throw Error(pe(188))}function J8(n){var e=n.alternate;if(!e){if(e=vd(n),e===null)throw Error(pe(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return jC(i),n;if(s===r)return jC(i),e;s=s.sibling}throw Error(pe(188))}if(t.return!==r.return)t=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,r=s;break}if(o===r){a=!0,r=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,r=i;break}if(o===r){a=!0,r=s,t=i;break}o=o.sibling}if(!a)throw Error(pe(189))}}if(t.alternate!==r)throw Error(pe(190))}if(t.tag!==3)throw Error(pe(188));return t.stateNode.current===t?n:e}function jF(n){return n=J8(n),n!==null?UF(n):null}function UF(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=UF(n);if(e!==null)return e;n=n.sibling}return null}var HF=qi.unstable_scheduleCallback,UC=qi.unstable_cancelCallback,Z8=qi.unstable_shouldYield,e6=qi.unstable_requestPaint,dn=qi.unstable_now,t6=qi.unstable_getCurrentPriorityLevel,TT=qi.unstable_ImmediatePriority,$F=qi.unstable_UserBlockingPriority,Fy=qi.unstable_NormalPriority,n6=qi.unstable_LowPriority,zF=qi.unstable_IdlePriority,eE=null,no=null;function r6(n){if(no&&typeof no.onCommitFiberRoot=="function")try{no.onCommitFiberRoot(eE,n,void 0,(n.current.flags&128)===128)}catch{}}var sa=Math.clz32?Math.clz32:a6,i6=Math.log,s6=Math.LN2;function a6(n){return n>>>=0,n===0?32:31-(i6(n)/s6|0)|0}var V1=64,G1=4194304;function im(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ny(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?r=im(o):(s&=a,s!==0&&(r=im(s)))}else a=t&~i,a!==0?r=im(a):s!==0&&(r=im(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-sa(e),i=1<<t,r|=n[t],e&=~i;return r}function o6(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l6(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-sa(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&r)&&(i[a]=o6(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}}function b_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function WF(){var n=V1;return V1<<=1,!(V1&4194240)&&(V1=64),n}function cS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function x1(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-sa(e),n[e]=t}function c6(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-sa(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function bT(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-sa(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var pt=0;function VF(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var GF,CT,XF,YF,KF,C_=!1,X1=[],zc=null,Wc=null,Vc=null,Ym=new Map,Km=new Map,jl=[],u6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HC(n,e){switch(n){case"focusin":case"focusout":zc=null;break;case"dragenter":case"dragleave":Wc=null;break;case"mouseover":case"mouseout":Vc=null;break;case"pointerover":case"pointerout":Ym.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Km.delete(e.pointerId)}}function $p(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=w1(e),e!==null&&CT(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function h6(n,e,t,r,i){switch(e){case"focusin":return zc=$p(zc,n,e,t,r,i),!0;case"dragenter":return Wc=$p(Wc,n,e,t,r,i),!0;case"mouseover":return Vc=$p(Vc,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Ym.set(s,$p(Ym.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Km.set(s,$p(Km.get(s)||null,n,e,t,r,i)),!0}return!1}function qF(n){var e=ku(n.target);if(e!==null){var t=vd(e);if(t!==null){if(e=t.tag,e===13){if(e=BF(t),e!==null){n.blockedOn=e,KF(n.priority,function(){XF(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Dx(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=k_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);S_=r,t.target.dispatchEvent(r),S_=null}else return e=w1(t),e!==null&&CT(e),n.blockedOn=t,!1;e.shift()}return!0}function $C(n,e,t){Dx(n)&&t.delete(e)}function d6(){C_=!1,zc!==null&&Dx(zc)&&(zc=null),Wc!==null&&Dx(Wc)&&(Wc=null),Vc!==null&&Dx(Vc)&&(Vc=null),Ym.forEach($C),Km.forEach($C)}function zp(n,e){n.blockedOn===e&&(n.blockedOn=null,C_||(C_=!0,qi.unstable_scheduleCallback(qi.unstable_NormalPriority,d6)))}function qm(n){function e(i){return zp(i,n)}if(0<X1.length){zp(X1[0],n);for(var t=1;t<X1.length;t++){var r=X1[t];r.blockedOn===n&&(r.blockedOn=null)}}for(zc!==null&&zp(zc,n),Wc!==null&&zp(Wc,n),Vc!==null&&zp(Vc,n),Ym.forEach(e),Km.forEach(e),t=0;t<jl.length;t++)r=jl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<jl.length&&(t=jl[0],t.blockedOn===null);)qF(t),t.blockedOn===null&&jl.shift()}var mf=Tl.ReactCurrentBatchConfig,Dy=!0;function f6(n,e,t,r){var i=pt,s=mf.transition;mf.transition=null;try{pt=1,kT(n,e,t,r)}finally{pt=i,mf.transition=s}}function p6(n,e,t,r){var i=pt,s=mf.transition;mf.transition=null;try{pt=4,kT(n,e,t,r)}finally{pt=i,mf.transition=s}}function kT(n,e,t,r){if(Dy){var i=k_(n,e,t,r);if(i===null)yS(n,e,r,Iy,t),HC(n,r);else if(h6(i,n,e,t,r))r.stopPropagation();else if(HC(n,r),e&4&&-1<u6.indexOf(n)){for(;i!==null;){var s=w1(i);if(s!==null&&GF(s),s=k_(n,e,t,r),s===null&&yS(n,e,r,Iy,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else yS(n,e,r,null,t)}}var Iy=null;function k_(n,e,t,r){if(Iy=null,n=AT(r),n=ku(n),n!==null)if(e=vd(n),e===null)n=null;else if(t=e.tag,t===13){if(n=BF(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Iy=n,null}function QF(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t6()){case TT:return 1;case $F:return 4;case Fy:case n6:return 16;case zF:return 536870912;default:return 16}default:return 16}}var Bc=null,PT=null,Ix=null;function JF(){if(Ix)return Ix;var n,e=PT,t=e.length,r,i="value"in Bc?Bc.value:Bc.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(r=1;r<=a&&e[t-r]===i[s-r];r++);return Ix=i.slice(n,1<r?1-r:void 0)}function Ox(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Y1(){return!0}function zC(){return!1}function Zi(n){function e(t,r,i,s,a){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Y1:zC,this.isPropagationStopped=zC,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Y1)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Y1)},persist:function(){},isPersistent:Y1}),e}var wp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},RT=Zi(wp),y1=qt({},wp,{view:0,detail:0}),m6=Zi(y1),uS,hS,Wp,tE=qt({},y1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:FT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wp&&(Wp&&n.type==="mousemove"?(uS=n.screenX-Wp.screenX,hS=n.screenY-Wp.screenY):hS=uS=0,Wp=n),uS)},movementY:function(n){return"movementY"in n?n.movementY:hS}}),WC=Zi(tE),g6=qt({},tE,{dataTransfer:0}),v6=Zi(g6),x6=qt({},y1,{relatedTarget:0}),dS=Zi(x6),y6=qt({},wp,{animationName:0,elapsedTime:0,pseudoElement:0}),w6=Zi(y6),E6=qt({},wp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),S6=Zi(E6),_6=qt({},wp,{data:0}),VC=Zi(_6),A6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=b6[n])?!!e[n]:!1}function FT(){return C6}var k6=qt({},y1,{key:function(n){if(n.key){var e=A6[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Ox(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?T6[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:FT,charCode:function(n){return n.type==="keypress"?Ox(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ox(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),P6=Zi(k6),R6=qt({},tE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GC=Zi(R6),F6=qt({},y1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:FT}),N6=Zi(F6),D6=qt({},wp,{propertyName:0,elapsedTime:0,pseudoElement:0}),I6=Zi(D6),O6=qt({},tE,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),M6=Zi(O6),L6=[9,13,27,32],NT=ml&&"CompositionEvent"in window,Fm=null;ml&&"documentMode"in document&&(Fm=document.documentMode);var B6=ml&&"TextEvent"in window&&!Fm,ZF=ml&&(!NT||Fm&&8<Fm&&11>=Fm),XC=" ",YC=!1;function eN(n,e){switch(n){case"keyup":return L6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tN(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yd=!1;function j6(n,e){switch(n){case"compositionend":return tN(e);case"keypress":return e.which!==32?null:(YC=!0,XC);case"textInput":return n=e.data,n===XC&&YC?null:n;default:return null}}function U6(n,e){if(Yd)return n==="compositionend"||!NT&&eN(n,e)?(n=JF(),Ix=PT=Bc=null,Yd=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZF&&e.locale!=="ko"?null:e.data;default:return null}}var H6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KC(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!H6[n.type]:e==="textarea"}function nN(n,e,t,r){DF(r),e=Oy(e,"onChange"),0<e.length&&(t=new RT("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Nm=null,Qm=null;function $6(n){fN(n,0)}function nE(n){var e=Qd(n);if(bF(e))return n}function z6(n,e){if(n==="change")return e}var rN=!1;if(ml){var fS;if(ml){var pS="oninput"in document;if(!pS){var qC=document.createElement("div");qC.setAttribute("oninput","return;"),pS=typeof qC.oninput=="function"}fS=pS}else fS=!1;rN=fS&&(!document.documentMode||9<document.documentMode)}function QC(){Nm&&(Nm.detachEvent("onpropertychange",iN),Qm=Nm=null)}function iN(n){if(n.propertyName==="value"&&nE(Qm)){var e=[];nN(e,Qm,n,AT(n)),LF($6,e)}}function W6(n,e,t){n==="focusin"?(QC(),Nm=e,Qm=t,Nm.attachEvent("onpropertychange",iN)):n==="focusout"&&QC()}function V6(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nE(Qm)}function G6(n,e){if(n==="click")return nE(e)}function X6(n,e){if(n==="input"||n==="change")return nE(e)}function Y6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var la=typeof Object.is=="function"?Object.is:Y6;function Jm(n,e){if(la(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!u_.call(e,i)||!la(n[i],e[i]))return!1}return!0}function JC(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ZC(n,e){var t=JC(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=JC(t)}}function sN(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?sN(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function aN(){for(var n=window,e=ky();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=ky(n.document)}return e}function DT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function K6(n){var e=aN(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&sN(t.ownerDocument.documentElement,t)){if(r!==null&&DT(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=ZC(t,s);var a=ZC(t,r);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var q6=ml&&"documentMode"in document&&11>=document.documentMode,Kd=null,P_=null,Dm=null,R_=!1;function ek(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;R_||Kd==null||Kd!==ky(r)||(r=Kd,"selectionStart"in r&&DT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dm&&Jm(Dm,r)||(Dm=r,r=Oy(P_,"onSelect"),0<r.length&&(e=new RT("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Kd)))}function K1(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var qd={animationend:K1("Animation","AnimationEnd"),animationiteration:K1("Animation","AnimationIteration"),animationstart:K1("Animation","AnimationStart"),transitionend:K1("Transition","TransitionEnd")},mS={},oN={};ml&&(oN=document.createElement("div").style,"AnimationEvent"in window||(delete qd.animationend.animation,delete qd.animationiteration.animation,delete qd.animationstart.animation),"TransitionEvent"in window||delete qd.transitionend.transition);function rE(n){if(mS[n])return mS[n];if(!qd[n])return n;var e=qd[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in oN)return mS[n]=e[t];return n}var lN=rE("animationend"),cN=rE("animationiteration"),uN=rE("animationstart"),hN=rE("transitionend"),dN=new Map,tk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cu(n,e){dN.set(n,e),gd(e,[n])}for(var gS=0;gS<tk.length;gS++){var vS=tk[gS],Q6=vS.toLowerCase(),J6=vS[0].toUpperCase()+vS.slice(1);cu(Q6,"on"+J6)}cu(lN,"onAnimationEnd");cu(cN,"onAnimationIteration");cu(uN,"onAnimationStart");cu("dblclick","onDoubleClick");cu("focusin","onFocus");cu("focusout","onBlur");cu(hN,"onTransitionEnd");op("onMouseEnter",["mouseout","mouseover"]);op("onMouseLeave",["mouseout","mouseover"]);op("onPointerEnter",["pointerout","pointerover"]);op("onPointerLeave",["pointerout","pointerover"]);gd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gd("onBeforeInput",["compositionend","keypress","textInput","paste"]);gd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z6=new Set("cancel close invalid load scroll toggle".split(" ").concat(sm));function nk(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Q8(r,e,void 0,n),n.currentTarget=null}function fN(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;nk(i,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;nk(i,o,u),s=l}}}if(Ry)throw n=T_,Ry=!1,T_=null,n}function It(n,e){var t=e[O_];t===void 0&&(t=e[O_]=new Set);var r=n+"__bubble";t.has(r)||(pN(e,n,2,!1),t.add(r))}function xS(n,e,t){var r=0;e&&(r|=4),pN(t,n,r,e)}var q1="_reactListening"+Math.random().toString(36).slice(2);function Zm(n){if(!n[q1]){n[q1]=!0,EF.forEach(function(t){t!=="selectionchange"&&(Z6.has(t)||xS(t,!1,n),xS(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[q1]||(e[q1]=!0,xS("selectionchange",!1,e))}}function pN(n,e,t,r){switch(QF(e)){case 1:var i=f6;break;case 4:i=p6;break;default:i=kT}t=i.bind(null,e,t,n),i=void 0,!A_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function yS(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=ku(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}LF(function(){var u=s,h=AT(t),d=[];e:{var f=dN.get(n);if(f!==void 0){var p=RT,g=n;switch(n){case"keypress":if(Ox(t)===0)break e;case"keydown":case"keyup":p=P6;break;case"focusin":g="focus",p=dS;break;case"focusout":g="blur",p=dS;break;case"beforeblur":case"afterblur":p=dS;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=WC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=v6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=N6;break;case lN:case cN:case uN:p=w6;break;case hN:p=I6;break;case"scroll":p=m6;break;case"wheel":p=M6;break;case"copy":case"cut":case"paste":p=S6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=GC}var m=(e&4)!==0,v=!m&&n==="scroll",x=m?f!==null?f+"Capture":null:f;m=[];for(var w=u,y;w!==null;){y=w;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,x!==null&&(S=Xm(w,x),S!=null&&m.push(eg(w,S,y)))),v)break;w=w.return}0<m.length&&(f=new p(f,g,null,t,h),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==S_&&(g=t.relatedTarget||t.fromElement)&&(ku(g)||g[gl]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=u,g=g?ku(g):null,g!==null&&(v=vd(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=WC,S="onMouseLeave",x="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(m=GC,S="onPointerLeave",x="onPointerEnter",w="pointer"),v=p==null?f:Qd(p),y=g==null?f:Qd(g),f=new m(S,w+"leave",p,t,h),f.target=v,f.relatedTarget=y,S=null,ku(h)===u&&(m=new m(x,w+"enter",g,t,h),m.target=y,m.relatedTarget=v,S=m),v=S,p&&g)t:{for(m=p,x=g,w=0,y=m;y;y=Pd(y))w++;for(y=0,S=x;S;S=Pd(S))y++;for(;0<w-y;)m=Pd(m),w--;for(;0<y-w;)x=Pd(x),y--;for(;w--;){if(m===x||x!==null&&m===x.alternate)break t;m=Pd(m),x=Pd(x)}m=null}else m=null;p!==null&&rk(d,f,p,m,!1),g!==null&&v!==null&&rk(d,v,g,m,!0)}}e:{if(f=u?Qd(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=z6;else if(KC(f))if(rN)T=X6;else{T=V6;var P=W6}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=G6);if(T&&(T=T(n,u))){nN(d,T,t,h);break e}P&&P(n,f,u),n==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&v_(f,"number",f.value)}switch(P=u?Qd(u):window,n){case"focusin":(KC(P)||P.contentEditable==="true")&&(Kd=P,P_=u,Dm=null);break;case"focusout":Dm=P_=Kd=null;break;case"mousedown":R_=!0;break;case"contextmenu":case"mouseup":case"dragend":R_=!1,ek(d,t,h);break;case"selectionchange":if(q6)break;case"keydown":case"keyup":ek(d,t,h)}var b;if(NT)e:{switch(n){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Yd?eN(n,t)&&(F="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(F="onCompositionStart");F&&(ZF&&t.locale!=="ko"&&(Yd||F!=="onCompositionStart"?F==="onCompositionEnd"&&Yd&&(b=JF()):(Bc=h,PT="value"in Bc?Bc.value:Bc.textContent,Yd=!0)),P=Oy(u,F),0<P.length&&(F=new VC(F,n,null,t,h),d.push({event:F,listeners:P}),b?F.data=b:(b=tN(t),b!==null&&(F.data=b)))),(b=B6?j6(n,t):U6(n,t))&&(u=Oy(u,"onBeforeInput"),0<u.length&&(h=new VC("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:u}),h.data=b))}fN(d,e)})}function eg(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Oy(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xm(n,t),s!=null&&r.unshift(eg(n,s,i)),s=Xm(n,e),s!=null&&r.push(eg(n,s,i))),n=n.return}return r}function Pd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function rk(n,e,t,r,i){for(var s=e._reactName,a=[];t!==null&&t!==r;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Xm(t,s),l!=null&&a.unshift(eg(t,l,o))):i||(l=Xm(t,s),l!=null&&a.push(eg(t,l,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var e5=/\r\n?/g,t5=/\u0000|\uFFFD/g;function ik(n){return(typeof n=="string"?n:""+n).replace(e5,`
`).replace(t5,"")}function Q1(n,e,t){if(e=ik(e),ik(n)!==e&&t)throw Error(pe(425))}function My(){}var F_=null,N_=null;function D_(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var I_=typeof setTimeout=="function"?setTimeout:void 0,n5=typeof clearTimeout=="function"?clearTimeout:void 0,sk=typeof Promise=="function"?Promise:void 0,r5=typeof queueMicrotask=="function"?queueMicrotask:typeof sk<"u"?function(n){return sk.resolve(null).then(n).catch(i5)}:I_;function i5(n){setTimeout(function(){throw n})}function wS(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),qm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);qm(e)}function Gc(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function ak(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ep=Math.random().toString(36).slice(2),Ja="__reactFiber$"+Ep,tg="__reactProps$"+Ep,gl="__reactContainer$"+Ep,O_="__reactEvents$"+Ep,s5="__reactListeners$"+Ep,a5="__reactHandles$"+Ep;function ku(n){var e=n[Ja];if(e)return e;for(var t=n.parentNode;t;){if(e=t[gl]||t[Ja]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=ak(n);n!==null;){if(t=n[Ja])return t;n=ak(n)}return e}n=t,t=n.parentNode}return null}function w1(n){return n=n[Ja]||n[gl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Qd(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(pe(33))}function iE(n){return n[tg]||null}var M_=[],Jd=-1;function uu(n){return{current:n}}function Mt(n){0>Jd||(n.current=M_[Jd],M_[Jd]=null,Jd--)}function Ft(n,e){Jd++,M_[Jd]=n.current,n.current=e}var eu={},br=uu(eu),ai=uu(!1),td=eu;function lp(n,e){var t=n.type.contextTypes;if(!t)return eu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function oi(n){return n=n.childContextTypes,n!=null}function Ly(){Mt(ai),Mt(br)}function ok(n,e,t){if(br.current!==eu)throw Error(pe(168));Ft(br,e),Ft(ai,t)}function mN(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,W8(n)||"Unknown",i));return qt({},t,r)}function By(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||eu,td=br.current,Ft(br,n),Ft(ai,ai.current),!0}function lk(n,e,t){var r=n.stateNode;if(!r)throw Error(pe(169));t?(n=mN(n,e,td),r.__reactInternalMemoizedMergedChildContext=n,Mt(ai),Mt(br),Ft(br,n)):Mt(ai),Ft(ai,t)}var _o=null,sE=!1,ES=!1;function gN(n){_o===null?_o=[n]:_o.push(n)}function o5(n){sE=!0,gN(n)}function hu(){if(!ES&&_o!==null){ES=!0;var n=0,e=pt;try{var t=_o;for(pt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}_o=null,sE=!1}catch(i){throw _o!==null&&(_o=_o.slice(n+1)),HF(TT,hu),i}finally{pt=e,ES=!1}}return null}var Zd=[],ef=0,jy=null,Uy=0,ys=[],ws=0,nd=null,al=1,ol="";function xu(n,e){Zd[ef++]=Uy,Zd[ef++]=jy,jy=n,Uy=e}function vN(n,e,t){ys[ws++]=al,ys[ws++]=ol,ys[ws++]=nd,nd=n;var r=al;n=ol;var i=32-sa(r)-1;r&=~(1<<i),t+=1;var s=32-sa(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,al=1<<32-sa(e)+i|t<<i|r,ol=s+n}else al=1<<s|t<<i|r,ol=n}function IT(n){n.return!==null&&(xu(n,1),vN(n,1,0))}function OT(n){for(;n===jy;)jy=Zd[--ef],Zd[ef]=null,Uy=Zd[--ef],Zd[ef]=null;for(;n===nd;)nd=ys[--ws],ys[ws]=null,ol=ys[--ws],ys[ws]=null,al=ys[--ws],ys[ws]=null}var Xi=null,Gi=null,Ht=!1,ta=null;function xN(n,e){var t=Ss(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function ck(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Xi=n,Gi=Gc(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Xi=n,Gi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=nd!==null?{id:al,overflow:ol}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Ss(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Xi=n,Gi=null,!0):!1;default:return!1}}function L_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function B_(n){if(Ht){var e=Gi;if(e){var t=e;if(!ck(n,e)){if(L_(n))throw Error(pe(418));e=Gc(t.nextSibling);var r=Xi;e&&ck(n,e)?xN(r,t):(n.flags=n.flags&-4097|2,Ht=!1,Xi=n)}}else{if(L_(n))throw Error(pe(418));n.flags=n.flags&-4097|2,Ht=!1,Xi=n}}}function uk(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Xi=n}function J1(n){if(n!==Xi)return!1;if(!Ht)return uk(n),Ht=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!D_(n.type,n.memoizedProps)),e&&(e=Gi)){if(L_(n))throw yN(),Error(pe(418));for(;e;)xN(n,e),e=Gc(e.nextSibling)}if(uk(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(pe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Gi=Gc(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Gi=null}}else Gi=Xi?Gc(n.stateNode.nextSibling):null;return!0}function yN(){for(var n=Gi;n;)n=Gc(n.nextSibling)}function cp(){Gi=Xi=null,Ht=!1}function MT(n){ta===null?ta=[n]:ta.push(n)}var l5=Tl.ReactCurrentBatchConfig;function Vp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(pe(309));var r=t.stateNode}if(!r)throw Error(pe(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(pe(284));if(!t._owner)throw Error(pe(290,n))}return n}function Z1(n,e){throw n=Object.prototype.toString.call(e),Error(pe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function hk(n){var e=n._init;return e(n._payload)}function wN(n){function e(x,w){if(n){var y=x.deletions;y===null?(x.deletions=[w],x.flags|=16):y.push(w)}}function t(x,w){if(!n)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=qc(x,w),x.index=0,x.sibling=null,x}function s(x,w,y){return x.index=y,n?(y=x.alternate,y!==null?(y=y.index,y<w?(x.flags|=2,w):y):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function o(x,w,y,S){return w===null||w.tag!==6?(w=kS(y,x.mode,S),w.return=x,w):(w=i(w,y),w.return=x,w)}function l(x,w,y,S){var T=y.type;return T===Xd?h(x,w,y.props.children,S,y.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ll&&hk(T)===w.type)?(S=i(w,y.props),S.ref=Vp(x,w,y),S.return=x,S):(S=$x(y.type,y.key,y.props,null,x.mode,S),S.ref=Vp(x,w,y),S.return=x,S)}function u(x,w,y,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=PS(y,x.mode,S),w.return=x,w):(w=i(w,y.children||[]),w.return=x,w)}function h(x,w,y,S,T){return w===null||w.tag!==7?(w=Zh(y,x.mode,S,T),w.return=x,w):(w=i(w,y),w.return=x,w)}function d(x,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=kS(""+w,x.mode,y),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case $1:return y=$x(w.type,w.key,w.props,null,x.mode,y),y.ref=Vp(x,null,w),y.return=x,y;case Gd:return w=PS(w,x.mode,y),w.return=x,w;case Ll:var S=w._init;return d(x,S(w._payload),y)}if(rm(w)||Up(w))return w=Zh(w,x.mode,y,null),w.return=x,w;Z1(x,w)}return null}function f(x,w,y,S){var T=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:o(x,w,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $1:return y.key===T?l(x,w,y,S):null;case Gd:return y.key===T?u(x,w,y,S):null;case Ll:return T=y._init,f(x,w,T(y._payload),S)}if(rm(y)||Up(y))return T!==null?null:h(x,w,y,S,null);Z1(x,y)}return null}function p(x,w,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(y)||null,o(w,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $1:return x=x.get(S.key===null?y:S.key)||null,l(w,x,S,T);case Gd:return x=x.get(S.key===null?y:S.key)||null,u(w,x,S,T);case Ll:var P=S._init;return p(x,w,y,P(S._payload),T)}if(rm(S)||Up(S))return x=x.get(y)||null,h(w,x,S,T,null);Z1(w,S)}return null}function g(x,w,y,S){for(var T=null,P=null,b=w,F=w=0,D=null;b!==null&&F<y.length;F++){b.index>F?(D=b,b=null):D=b.sibling;var M=f(x,b,y[F],S);if(M===null){b===null&&(b=D);break}n&&b&&M.alternate===null&&e(x,b),w=s(M,w,F),P===null?T=M:P.sibling=M,P=M,b=D}if(F===y.length)return t(x,b),Ht&&xu(x,F),T;if(b===null){for(;F<y.length;F++)b=d(x,y[F],S),b!==null&&(w=s(b,w,F),P===null?T=b:P.sibling=b,P=b);return Ht&&xu(x,F),T}for(b=r(x,b);F<y.length;F++)D=p(b,x,F,y[F],S),D!==null&&(n&&D.alternate!==null&&b.delete(D.key===null?F:D.key),w=s(D,w,F),P===null?T=D:P.sibling=D,P=D);return n&&b.forEach(function(W){return e(x,W)}),Ht&&xu(x,F),T}function m(x,w,y,S){var T=Up(y);if(typeof T!="function")throw Error(pe(150));if(y=T.call(y),y==null)throw Error(pe(151));for(var P=T=null,b=w,F=w=0,D=null,M=y.next();b!==null&&!M.done;F++,M=y.next()){b.index>F?(D=b,b=null):D=b.sibling;var W=f(x,b,M.value,S);if(W===null){b===null&&(b=D);break}n&&b&&W.alternate===null&&e(x,b),w=s(W,w,F),P===null?T=W:P.sibling=W,P=W,b=D}if(M.done)return t(x,b),Ht&&xu(x,F),T;if(b===null){for(;!M.done;F++,M=y.next())M=d(x,M.value,S),M!==null&&(w=s(M,w,F),P===null?T=M:P.sibling=M,P=M);return Ht&&xu(x,F),T}for(b=r(x,b);!M.done;F++,M=y.next())M=p(b,x,F,M.value,S),M!==null&&(n&&M.alternate!==null&&b.delete(M.key===null?F:M.key),w=s(M,w,F),P===null?T=M:P.sibling=M,P=M);return n&&b.forEach(function(G){return e(x,G)}),Ht&&xu(x,F),T}function v(x,w,y,S){if(typeof y=="object"&&y!==null&&y.type===Xd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $1:e:{for(var T=y.key,P=w;P!==null;){if(P.key===T){if(T=y.type,T===Xd){if(P.tag===7){t(x,P.sibling),w=i(P,y.props.children),w.return=x,x=w;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ll&&hk(T)===P.type){t(x,P.sibling),w=i(P,y.props),w.ref=Vp(x,P,y),w.return=x,x=w;break e}t(x,P);break}else e(x,P);P=P.sibling}y.type===Xd?(w=Zh(y.props.children,x.mode,S,y.key),w.return=x,x=w):(S=$x(y.type,y.key,y.props,null,x.mode,S),S.ref=Vp(x,w,y),S.return=x,x=S)}return a(x);case Gd:e:{for(P=y.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){t(x,w.sibling),w=i(w,y.children||[]),w.return=x,x=w;break e}else{t(x,w);break}else e(x,w);w=w.sibling}w=PS(y,x.mode,S),w.return=x,x=w}return a(x);case Ll:return P=y._init,v(x,w,P(y._payload),S)}if(rm(y))return g(x,w,y,S);if(Up(y))return m(x,w,y,S);Z1(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(t(x,w.sibling),w=i(w,y),w.return=x,x=w):(t(x,w),w=kS(y,x.mode,S),w.return=x,x=w),a(x)):t(x,w)}return v}var up=wN(!0),EN=wN(!1),Hy=uu(null),$y=null,tf=null,LT=null;function BT(){LT=tf=$y=null}function jT(n){var e=Hy.current;Mt(Hy),n._currentValue=e}function j_(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function gf(n,e){$y=n,LT=tf=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(si=!0),n.firstContext=null)}function Ts(n){var e=n._currentValue;if(LT!==n)if(n={context:n,memoizedValue:e,next:null},tf===null){if($y===null)throw Error(pe(308));tf=n,$y.dependencies={lanes:0,firstContext:n}}else tf=tf.next=n;return e}var Pu=null;function UT(n){Pu===null?Pu=[n]:Pu.push(n)}function SN(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,UT(e)):(t.next=i.next,i.next=t),e.interleaved=t,vl(n,r)}function vl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Bl=!1;function HT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _N(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ll(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Xc(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vl(n,t)}return i=r.interleaved,i===null?(e.next=e,UT(r)):(e.next=i.next,i.next=e),r.interleaved=e,vl(n,t)}function Mx(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,bT(n,t)}}function dk(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function zy(n,e,t,r){var i=n.updateQueue;Bl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=n.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,h=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=n,m=o;switch(f=e,p=t,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=qt({},d,f);break e;case 2:Bl=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=p,l=d):h=h.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);id|=a,n.lanes=a,n.memoizedState=d}}function fk(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var E1={},ro=uu(E1),ng=uu(E1),rg=uu(E1);function Ru(n){if(n===E1)throw Error(pe(174));return n}function $T(n,e){switch(Ft(rg,e),Ft(ng,n),Ft(ro,E1),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:y_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=y_(e,n)}Mt(ro),Ft(ro,e)}function hp(){Mt(ro),Mt(ng),Mt(rg)}function AN(n){Ru(rg.current);var e=Ru(ro.current),t=y_(e,n.type);e!==t&&(Ft(ng,n),Ft(ro,t))}function zT(n){ng.current===n&&(Mt(ro),Mt(ng))}var Xt=uu(0);function Wy(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var SS=[];function WT(){for(var n=0;n<SS.length;n++)SS[n]._workInProgressVersionPrimary=null;SS.length=0}var Lx=Tl.ReactCurrentDispatcher,_S=Tl.ReactCurrentBatchConfig,rd=0,Yt=null,bn=null,Ln=null,Vy=!1,Im=!1,ig=0,c5=0;function dr(){throw Error(pe(321))}function VT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!la(n[t],e[t]))return!1;return!0}function GT(n,e,t,r,i,s){if(rd=s,Yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lx.current=n===null||n.memoizedState===null?f5:p5,n=t(r,i),Im){s=0;do{if(Im=!1,ig=0,25<=s)throw Error(pe(301));s+=1,Ln=bn=null,e.updateQueue=null,Lx.current=m5,n=t(r,i)}while(Im)}if(Lx.current=Gy,e=bn!==null&&bn.next!==null,rd=0,Ln=bn=Yt=null,Vy=!1,e)throw Error(pe(300));return n}function XT(){var n=ig!==0;return ig=0,n}function ba(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Yt.memoizedState=Ln=n:Ln=Ln.next=n,Ln}function bs(){if(bn===null){var n=Yt.alternate;n=n!==null?n.memoizedState:null}else n=bn.next;var e=Ln===null?Yt.memoizedState:Ln.next;if(e!==null)Ln=e,bn=n;else{if(n===null)throw Error(pe(310));bn=n,n={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Ln===null?Yt.memoizedState=Ln=n:Ln=Ln.next=n}return Ln}function sg(n,e){return typeof e=="function"?e(n):e}function AS(n){var e=bs(),t=e.queue;if(t===null)throw Error(pe(311));t.lastRenderedReducer=n;var r=bn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((rd&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,Yt.lanes|=h,id|=h}u=u.next}while(u!==null&&u!==s);l===null?a=r:l.next=o,la(r,e.memoizedState)||(si=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Yt.lanes|=s,id|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function TS(n){var e=bs(),t=e.queue;if(t===null)throw Error(pe(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=n(s,a.action),a=a.next;while(a!==i);la(s,e.memoizedState)||(si=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function TN(){}function bN(n,e){var t=Yt,r=bs(),i=e(),s=!la(r.memoizedState,i);if(s&&(r.memoizedState=i,si=!0),r=r.queue,YT(PN.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Ln!==null&&Ln.memoizedState.tag&1){if(t.flags|=2048,ag(9,kN.bind(null,t,r,i,e),void 0,null),Hn===null)throw Error(pe(349));rd&30||CN(t,e,i)}return i}function CN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function kN(n,e,t,r){e.value=t,e.getSnapshot=r,RN(e)&&FN(n)}function PN(n,e,t){return t(function(){RN(e)&&FN(n)})}function RN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!la(n,t)}catch{return!0}}function FN(n){var e=vl(n,1);e!==null&&aa(e,n,1,-1)}function pk(n){var e=ba();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},e.queue=n,n=n.dispatch=d5.bind(null,Yt,n),[e.memoizedState,n]}function ag(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function NN(){return bs().memoizedState}function Bx(n,e,t,r){var i=ba();Yt.flags|=n,i.memoizedState=ag(1|e,t,void 0,r===void 0?null:r)}function aE(n,e,t,r){var i=bs();r=r===void 0?null:r;var s=void 0;if(bn!==null){var a=bn.memoizedState;if(s=a.destroy,r!==null&&VT(r,a.deps)){i.memoizedState=ag(e,t,s,r);return}}Yt.flags|=n,i.memoizedState=ag(1|e,t,s,r)}function mk(n,e){return Bx(8390656,8,n,e)}function YT(n,e){return aE(2048,8,n,e)}function DN(n,e){return aE(4,2,n,e)}function IN(n,e){return aE(4,4,n,e)}function ON(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function MN(n,e,t){return t=t!=null?t.concat([n]):null,aE(4,4,ON.bind(null,e,n),t)}function KT(){}function LN(n,e){var t=bs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&VT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function BN(n,e){var t=bs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&VT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function jN(n,e,t){return rd&21?(la(t,e)||(t=WF(),Yt.lanes|=t,id|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,si=!0),n.memoizedState=t)}function u5(n,e){var t=pt;pt=t!==0&&4>t?t:4,n(!0);var r=_S.transition;_S.transition={};try{n(!1),e()}finally{pt=t,_S.transition=r}}function UN(){return bs().memoizedState}function h5(n,e,t){var r=Kc(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},HN(n))$N(e,t);else if(t=SN(n,e,t,r),t!==null){var i=Hr();aa(t,n,r,i),zN(t,e,r)}}function d5(n,e,t){var r=Kc(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(HN(n))$N(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,la(o,a)){var l=e.interleaved;l===null?(i.next=i,UT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=SN(n,e,i,r),t!==null&&(i=Hr(),aa(t,n,r,i),zN(t,e,r))}}function HN(n){var e=n.alternate;return n===Yt||e!==null&&e===Yt}function $N(n,e){Im=Vy=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function zN(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,bT(n,t)}}var Gy={readContext:Ts,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},f5={readContext:Ts,useCallback:function(n,e){return ba().memoizedState=[n,e===void 0?null:e],n},useContext:Ts,useEffect:mk,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Bx(4194308,4,ON.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Bx(4194308,4,n,e)},useInsertionEffect:function(n,e){return Bx(4,2,n,e)},useMemo:function(n,e){var t=ba();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ba();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=h5.bind(null,Yt,n),[r.memoizedState,n]},useRef:function(n){var e=ba();return n={current:n},e.memoizedState=n},useState:pk,useDebugValue:KT,useDeferredValue:function(n){return ba().memoizedState=n},useTransition:function(){var n=pk(!1),e=n[0];return n=u5.bind(null,n[1]),ba().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Yt,i=ba();if(Ht){if(t===void 0)throw Error(pe(407));t=t()}else{if(t=e(),Hn===null)throw Error(pe(349));rd&30||CN(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,mk(PN.bind(null,r,s,n),[n]),r.flags|=2048,ag(9,kN.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ba(),e=Hn.identifierPrefix;if(Ht){var t=ol,r=al;t=(r&~(1<<32-sa(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=ig++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=c5++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},p5={readContext:Ts,useCallback:LN,useContext:Ts,useEffect:YT,useImperativeHandle:MN,useInsertionEffect:DN,useLayoutEffect:IN,useMemo:BN,useReducer:AS,useRef:NN,useState:function(){return AS(sg)},useDebugValue:KT,useDeferredValue:function(n){var e=bs();return jN(e,bn.memoizedState,n)},useTransition:function(){var n=AS(sg)[0],e=bs().memoizedState;return[n,e]},useMutableSource:TN,useSyncExternalStore:bN,useId:UN,unstable_isNewReconciler:!1},m5={readContext:Ts,useCallback:LN,useContext:Ts,useEffect:YT,useImperativeHandle:MN,useInsertionEffect:DN,useLayoutEffect:IN,useMemo:BN,useReducer:TS,useRef:NN,useState:function(){return TS(sg)},useDebugValue:KT,useDeferredValue:function(n){var e=bs();return bn===null?e.memoizedState=n:jN(e,bn.memoizedState,n)},useTransition:function(){var n=TS(sg)[0],e=bs().memoizedState;return[n,e]},useMutableSource:TN,useSyncExternalStore:bN,useId:UN,unstable_isNewReconciler:!1};function Bs(n,e){if(n&&n.defaultProps){e=qt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function U_(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:qt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var oE={isMounted:function(n){return(n=n._reactInternals)?vd(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Hr(),i=Kc(n),s=ll(r,i);s.payload=e,t!=null&&(s.callback=t),e=Xc(n,s,i),e!==null&&(aa(e,n,i,r),Mx(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Hr(),i=Kc(n),s=ll(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Xc(n,s,i),e!==null&&(aa(e,n,i,r),Mx(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Hr(),r=Kc(n),i=ll(t,r);i.tag=2,e!=null&&(i.callback=e),e=Xc(n,i,r),e!==null&&(aa(e,n,r,t),Mx(e,n,r))}};function gk(n,e,t,r,i,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Jm(t,r)||!Jm(i,s):!0}function WN(n,e,t){var r=!1,i=eu,s=e.contextType;return typeof s=="object"&&s!==null?s=Ts(s):(i=oi(e)?td:br.current,r=e.contextTypes,s=(r=r!=null)?lp(n,i):eu),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oE,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function vk(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&oE.enqueueReplaceState(e,e.state,null)}function H_(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},HT(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ts(s):(s=oi(e)?td:br.current,i.context=lp(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(U_(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oE.enqueueReplaceState(i,i.state,null),zy(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function dp(n,e){try{var t="",r=e;do t+=z8(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function bS(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function $_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var g5=typeof WeakMap=="function"?WeakMap:Map;function VN(n,e,t){t=ll(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Yy||(Yy=!0,J_=r),$_(n,e)},t}function GN(n,e,t){t=ll(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){$_(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){$_(n,e),typeof r!="function"&&(Yc===null?Yc=new Set([this]):Yc.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function xk(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new g5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=R5.bind(null,n,e,t),e.then(n,n))}function yk(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function wk(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ll(-1,1),e.tag=2,Xc(t,e,1))),t.lanes|=1),n)}var v5=Tl.ReactCurrentOwner,si=!1;function Mr(n,e,t,r){e.child=n===null?EN(e,null,t,r):up(e,n.child,t,r)}function Ek(n,e,t,r,i){t=t.render;var s=e.ref;return gf(e,i),r=GT(n,e,t,r,s,i),t=XT(),n!==null&&!si?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,xl(n,e,i)):(Ht&&t&&IT(e),e.flags|=1,Mr(n,e,r,i),e.child)}function Sk(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!rb(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,XN(n,e,s,r,i)):(n=$x(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:Jm,t(a,r)&&n.ref===e.ref)return xl(n,e,i)}return e.flags|=1,n=qc(s,r),n.ref=e.ref,n.return=e,e.child=n}function XN(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(Jm(s,r)&&n.ref===e.ref)if(si=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(si=!0);else return e.lanes=n.lanes,xl(n,e,i)}return z_(n,e,t,r,i)}function YN(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(rf,Bi),Bi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ft(rf,Bi),Bi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,Ft(rf,Bi),Bi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,Ft(rf,Bi),Bi|=r;return Mr(n,e,i,t),e.child}function KN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function z_(n,e,t,r,i){var s=oi(t)?td:br.current;return s=lp(e,s),gf(e,i),t=GT(n,e,t,r,s,i),r=XT(),n!==null&&!si?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,xl(n,e,i)):(Ht&&r&&IT(e),e.flags|=1,Mr(n,e,t,i),e.child)}function _k(n,e,t,r,i){if(oi(t)){var s=!0;By(e)}else s=!1;if(gf(e,i),e.stateNode===null)jx(n,e),WN(e,t,r),H_(e,t,r,i),r=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=Ts(u):(u=oi(t)?td:br.current,u=lp(e,u));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&vk(e,a,r,u),Bl=!1;var f=e.memoizedState;a.state=f,zy(e,r,a,i),l=e.memoizedState,o!==r||f!==l||ai.current||Bl?(typeof h=="function"&&(U_(e,t,h,r),l=e.memoizedState),(o=Bl||gk(e,t,o,r,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,_N(n,e),o=e.memoizedProps,u=e.type===e.elementType?o:Bs(e.type,o),a.props=u,d=e.pendingProps,f=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ts(l):(l=oi(t)?td:br.current,l=lp(e,l));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&vk(e,a,r,l),Bl=!1,f=e.memoizedState,a.state=f,zy(e,r,a,i);var g=e.memoizedState;o!==d||f!==g||ai.current||Bl?(typeof p=="function"&&(U_(e,t,p,r),g=e.memoizedState),(u=Bl||gk(e,t,u,r,f,g,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return W_(n,e,t,r,s,i)}function W_(n,e,t,r,i,s){KN(n,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&lk(e,t,!1),xl(n,e,s);r=e.stateNode,v5.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&a?(e.child=up(e,n.child,null,s),e.child=up(e,null,o,s)):Mr(n,e,o,s),e.memoizedState=r.state,i&&lk(e,t,!0),e.child}function qN(n){var e=n.stateNode;e.pendingContext?ok(n,e.pendingContext,e.pendingContext!==e.context):e.context&&ok(n,e.context,!1),$T(n,e.containerInfo)}function Ak(n,e,t,r,i){return cp(),MT(i),e.flags|=256,Mr(n,e,t,r),e.child}var V_={dehydrated:null,treeContext:null,retryLane:0};function G_(n){return{baseLanes:n,cachePool:null,transitions:null}}function QN(n,e,t){var r=e.pendingProps,i=Xt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),Ft(Xt,i&1),n===null)return B_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,n=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=uE(a,r,0,null),n=Zh(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=G_(t),e.memoizedState=V_,n):qT(e,a));if(i=n.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return x5(n,e,a,r,o,i,t);if(s){s=r.fallback,a=e.mode,i=n.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=qc(o,s):(s=Zh(s,a,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=n.child.memoizedState,a=a===null?G_(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=V_,r}return s=n.child,n=s.sibling,r=qc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function qT(n,e){return e=uE({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ex(n,e,t,r){return r!==null&&MT(r),up(e,n.child,null,t),n=qT(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function x5(n,e,t,r,i,s,a){if(t)return e.flags&256?(e.flags&=-257,r=bS(Error(pe(422))),ex(n,e,a,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uE({mode:"visible",children:r.children},i,0,null),s=Zh(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&up(e,n.child,null,a),e.child.memoizedState=G_(a),e.memoizedState=V_,s);if(!(e.mode&1))return ex(n,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(pe(419)),r=bS(s,r,void 0),ex(n,e,a,r)}if(o=(a&n.childLanes)!==0,si||o){if(r=Hn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vl(n,i),aa(r,n,i,-1))}return nb(),r=bS(Error(pe(421))),ex(n,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=F5.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Gi=Gc(i.nextSibling),Xi=e,Ht=!0,ta=null,n!==null&&(ys[ws++]=al,ys[ws++]=ol,ys[ws++]=nd,al=n.id,ol=n.overflow,nd=e),e=qT(e,r.children),e.flags|=4096,e)}function Tk(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),j_(n.return,e,t)}function CS(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function JN(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Mr(n,e,r.children,t),r=Xt.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tk(n,t,e);else if(n.tag===19)Tk(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ft(Xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Wy(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),CS(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Wy(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}CS(e,!0,t,null,s);break;case"together":CS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jx(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function xl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),id|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(pe(153));if(e.child!==null){for(n=e.child,t=qc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=qc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function y5(n,e,t){switch(e.tag){case 3:qN(e),cp();break;case 5:AN(e);break;case 1:oi(e.type)&&By(e);break;case 4:$T(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ft(Hy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ft(Xt,Xt.current&1),e.flags|=128,null):t&e.child.childLanes?QN(n,e,t):(Ft(Xt,Xt.current&1),n=xl(n,e,t),n!==null?n.sibling:null);Ft(Xt,Xt.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return JN(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ft(Xt,Xt.current),r)break;return null;case 22:case 23:return e.lanes=0,YN(n,e,t)}return xl(n,e,t)}var ZN,X_,eD,tD;ZN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};X_=function(){};eD=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Ru(ro.current);var s=null;switch(t){case"input":i=m_(n,i),r=m_(n,r),s=[];break;case"select":i=qt({},i,{value:void 0}),r=qt({},r,{value:void 0}),s=[];break;case"textarea":i=x_(n,i),r=x_(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=My)}w_(t,r);var a;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vm.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&It("scroll",n),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tD=function(n,e,t,r){t!==r&&(e.flags|=4)};function Gp(n,e){if(!Ht)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function fr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function w5(n,e,t){var r=e.pendingProps;switch(OT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return oi(e.type)&&Ly(),fr(e),null;case 3:return r=e.stateNode,hp(),Mt(ai),Mt(br),WT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(J1(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ta!==null&&(t2(ta),ta=null))),X_(n,e),fr(e),null;case 5:zT(e);var i=Ru(rg.current);if(t=e.type,n!==null&&e.stateNode!=null)eD(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return fr(e),null}if(n=Ru(ro.current),J1(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ja]=e,r[tg]=s,n=(e.mode&1)!==0,t){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(i=0;i<sm.length;i++)It(sm[i],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":IC(r,s),It("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},It("invalid",r);break;case"textarea":MC(r,s),It("invalid",r)}w_(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Q1(r.textContent,o,n),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Q1(r.textContent,o,n),i=["children",""+o]):Vm.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&It("scroll",r)}switch(t){case"input":z1(r),OC(r,s,!0);break;case"textarea":z1(r),LC(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=My)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=PF(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(t,{is:r.is}):(n=a.createElement(t),t==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,t),n[Ja]=e,n[tg]=r,ZN(n,e,!1,!1),e.stateNode=n;e:{switch(a=E_(t,r),t){case"dialog":It("cancel",n),It("close",n),i=r;break;case"iframe":case"object":case"embed":It("load",n),i=r;break;case"video":case"audio":for(i=0;i<sm.length;i++)It(sm[i],n);i=r;break;case"source":It("error",n),i=r;break;case"img":case"image":case"link":It("error",n),It("load",n),i=r;break;case"details":It("toggle",n),i=r;break;case"input":IC(n,r),i=m_(n,r),It("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=qt({},r,{value:void 0}),It("invalid",n);break;case"textarea":MC(n,r),i=x_(n,r),It("invalid",n);break;default:i=r}w_(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?NF(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RF(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Gm(n,l):typeof l=="number"&&Gm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&It("scroll",n):l!=null&&wT(n,s,l,a))}switch(t){case"input":z1(n),OC(n,r,!1);break;case"textarea":z1(n),LC(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Zc(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?df(n,!!r.multiple,s,!1):r.defaultValue!=null&&df(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=My)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(n&&e.stateNode!=null)tD(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(t=Ru(rg.current),Ru(ro.current),J1(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ja]=e,(s=r.nodeValue!==t)&&(n=Xi,n!==null))switch(n.tag){case 3:Q1(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Q1(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ja]=e,e.stateNode=r}return fr(e),null;case 13:if(Mt(Xt),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ht&&Gi!==null&&e.mode&1&&!(e.flags&128))yN(),cp(),e.flags|=98560,s=!1;else if(s=J1(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[Ja]=e}else cp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),s=!1}else ta!==null&&(t2(ta),ta=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Xt.current&1?Cn===0&&(Cn=3):nb())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return hp(),X_(n,e),n===null&&Zm(e.stateNode.containerInfo),fr(e),null;case 10:return jT(e.type._context),fr(e),null;case 17:return oi(e.type)&&Ly(),fr(e),null;case 19:if(Mt(Xt),s=e.memoizedState,s===null)return fr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Gp(s,!1);else{if(Cn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Wy(n),a!==null){for(e.flags|=128,Gp(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ft(Xt,Xt.current&1|2),e.child}n=n.sibling}s.tail!==null&&dn()>fp&&(e.flags|=128,r=!0,Gp(s,!1),e.lanes=4194304)}else{if(!r)if(n=Wy(a),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Gp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ht)return fr(e),null}else 2*dn()-s.renderingStartTime>fp&&t!==1073741824&&(e.flags|=128,r=!0,Gp(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dn(),e.sibling=null,t=Xt.current,Ft(Xt,r?t&1|2:t&1),e):(fr(e),null);case 22:case 23:return tb(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Bi&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function E5(n,e){switch(OT(e),e.tag){case 1:return oi(e.type)&&Ly(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return hp(),Mt(ai),Mt(br),WT(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return zT(e),null;case 13:if(Mt(Xt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));cp()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Mt(Xt),null;case 4:return hp(),null;case 10:return jT(e.type._context),null;case 22:case 23:return tb(),null;case 24:return null;default:return null}}var tx=!1,Sr=!1,S5=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function nf(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){sn(n,e,r)}else t.current=null}function Y_(n,e,t){try{t()}catch(r){sn(n,e,r)}}var bk=!1;function _5(n,e){if(F_=Dy,n=aN(),DT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++u===i&&(o=a),f===s&&++h===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(N_={focusedElem:n,selectionRange:t},Dy=!1,Pe=e;Pe!==null;)if(e=Pe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Pe=n;else for(;Pe!==null;){e=Pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:Bs(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(S){sn(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,Pe=n;break}Pe=e.return}return g=bk,bk=!1,g}function Om(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Y_(e,t,s)}i=i.next}while(i!==r)}}function lE(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function K_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function nD(n){var e=n.alternate;e!==null&&(n.alternate=null,nD(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ja],delete e[tg],delete e[O_],delete e[s5],delete e[a5])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rD(n){return n.tag===5||n.tag===3||n.tag===4}function Ck(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rD(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function q_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=My));else if(r!==4&&(n=n.child,n!==null))for(q_(n,e,t),n=n.sibling;n!==null;)q_(n,e,t),n=n.sibling}function Q_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Q_(n,e,t),n=n.sibling;n!==null;)Q_(n,e,t),n=n.sibling}var qn=null,ea=!1;function Rl(n,e,t){for(t=t.child;t!==null;)iD(n,e,t),t=t.sibling}function iD(n,e,t){if(no&&typeof no.onCommitFiberUnmount=="function")try{no.onCommitFiberUnmount(eE,t)}catch{}switch(t.tag){case 5:Sr||nf(t,e);case 6:var r=qn,i=ea;qn=null,Rl(n,e,t),qn=r,ea=i,qn!==null&&(ea?(n=qn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):qn.removeChild(t.stateNode));break;case 18:qn!==null&&(ea?(n=qn,t=t.stateNode,n.nodeType===8?wS(n.parentNode,t):n.nodeType===1&&wS(n,t),qm(n)):wS(qn,t.stateNode));break;case 4:r=qn,i=ea,qn=t.stateNode.containerInfo,ea=!0,Rl(n,e,t),qn=r,ea=i;break;case 0:case 11:case 14:case 15:if(!Sr&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Y_(t,e,a),i=i.next}while(i!==r)}Rl(n,e,t);break;case 1:if(!Sr&&(nf(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(o){sn(t,e,o)}Rl(n,e,t);break;case 21:Rl(n,e,t);break;case 22:t.mode&1?(Sr=(r=Sr)||t.memoizedState!==null,Rl(n,e,t),Sr=r):Rl(n,e,t);break;default:Rl(n,e,t)}}function kk(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new S5),e.forEach(function(r){var i=N5.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Fs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:qn=o.stateNode,ea=!1;break e;case 3:qn=o.stateNode.containerInfo,ea=!0;break e;case 4:qn=o.stateNode.containerInfo,ea=!0;break e}o=o.return}if(qn===null)throw Error(pe(160));iD(s,a,i),qn=null,ea=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){sn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sD(e,n),e=e.sibling}function sD(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Fs(e,n),va(n),r&4){try{Om(3,n,n.return),lE(3,n)}catch(m){sn(n,n.return,m)}try{Om(5,n,n.return)}catch(m){sn(n,n.return,m)}}break;case 1:Fs(e,n),va(n),r&512&&t!==null&&nf(t,t.return);break;case 5:if(Fs(e,n),va(n),r&512&&t!==null&&nf(t,t.return),n.flags&32){var i=n.stateNode;try{Gm(i,"")}catch(m){sn(n,n.return,m)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&CF(i,s),E_(o,a);var u=E_(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?NF(i,d):h==="dangerouslySetInnerHTML"?RF(i,d):h==="children"?Gm(i,d):wT(i,h,d,u)}switch(o){case"input":g_(i,s);break;case"textarea":kF(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?df(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?df(i,!!s.multiple,s.defaultValue,!0):df(i,!!s.multiple,s.multiple?[]:"",!1))}i[tg]=s}catch(m){sn(n,n.return,m)}}break;case 6:if(Fs(e,n),va(n),r&4){if(n.stateNode===null)throw Error(pe(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(m){sn(n,n.return,m)}}break;case 3:if(Fs(e,n),va(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{qm(e.containerInfo)}catch(m){sn(n,n.return,m)}break;case 4:Fs(e,n),va(n);break;case 13:Fs(e,n),va(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ZT=dn())),r&4&&kk(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(Sr=(u=Sr)||h,Fs(e,n),Sr=u):Fs(e,n),va(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!h&&n.mode&1)for(Pe=n,h=n.child;h!==null;){for(d=Pe=h;Pe!==null;){switch(f=Pe,p=f.child,f.tag){case 0:case 11:case 14:case 15:Om(4,f,f.return);break;case 1:nf(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){sn(r,t,m)}}break;case 5:nf(f,f.return);break;case 22:if(f.memoizedState!==null){Rk(d);continue}}p!==null?(p.return=f,Pe=p):Rk(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=FF("display",a))}catch(m){sn(n,n.return,m)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){sn(n,n.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Fs(e,n),va(n),r&4&&kk(n);break;case 21:break;default:Fs(e,n),va(n)}}function va(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(rD(t)){var r=t;break e}t=t.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gm(i,""),r.flags&=-33);var s=Ck(n);Q_(n,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Ck(n);q_(n,o,a);break;default:throw Error(pe(161))}}catch(l){sn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function A5(n,e,t){Pe=n,aD(n)}function aD(n,e,t){for(var r=(n.mode&1)!==0;Pe!==null;){var i=Pe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||tx;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Sr;o=tx;var u=Sr;if(tx=a,(Sr=l)&&!u)for(Pe=i;Pe!==null;)a=Pe,l=a.child,a.tag===22&&a.memoizedState!==null?Fk(i):l!==null?(l.return=a,Pe=l):Fk(i);for(;s!==null;)Pe=s,aD(s),s=s.sibling;Pe=i,tx=o,Sr=u}Pk(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Pe=s):Pk(n)}}function Pk(n){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sr||lE(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sr)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Bs(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fk(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}fk(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&qm(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Sr||e.flags&512&&K_(e)}catch(f){sn(e,e.return,f)}}if(e===n){Pe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}}function Rk(n){for(;Pe!==null;){var e=Pe;if(e===n){Pe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Pe=t;break}Pe=e.return}}function Fk(n){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{lE(4,e)}catch(l){sn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){sn(e,i,l)}}var s=e.return;try{K_(e)}catch(l){sn(e,s,l)}break;case 5:var a=e.return;try{K_(e)}catch(l){sn(e,a,l)}}}catch(l){sn(e,e.return,l)}if(e===n){Pe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Pe=o;break}Pe=e.return}}var T5=Math.ceil,Xy=Tl.ReactCurrentDispatcher,QT=Tl.ReactCurrentOwner,_s=Tl.ReactCurrentBatchConfig,et=0,Hn=null,vn=null,rr=0,Bi=0,rf=uu(0),Cn=0,og=null,id=0,cE=0,JT=0,Mm=null,ri=null,ZT=0,fp=1/0,wo=null,Yy=!1,J_=null,Yc=null,nx=!1,jc=null,Ky=0,Lm=0,Z_=null,Ux=-1,Hx=0;function Hr(){return et&6?dn():Ux!==-1?Ux:Ux=dn()}function Kc(n){return n.mode&1?et&2&&rr!==0?rr&-rr:l5.transition!==null?(Hx===0&&(Hx=WF()),Hx):(n=pt,n!==0||(n=window.event,n=n===void 0?16:QF(n.type)),n):1}function aa(n,e,t,r){if(50<Lm)throw Lm=0,Z_=null,Error(pe(185));x1(n,t,r),(!(et&2)||n!==Hn)&&(n===Hn&&(!(et&2)&&(cE|=t),Cn===4&&Ul(n,rr)),li(n,r),t===1&&et===0&&!(e.mode&1)&&(fp=dn()+500,sE&&hu()))}function li(n,e){var t=n.callbackNode;l6(n,e);var r=Ny(n,n===Hn?rr:0);if(r===0)t!==null&&UC(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&UC(t),e===1)n.tag===0?o5(Nk.bind(null,n)):gN(Nk.bind(null,n)),r5(function(){!(et&6)&&hu()}),t=null;else{switch(VF(r)){case 1:t=TT;break;case 4:t=$F;break;case 16:t=Fy;break;case 536870912:t=zF;break;default:t=Fy}t=pD(t,oD.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function oD(n,e){if(Ux=-1,Hx=0,et&6)throw Error(pe(327));var t=n.callbackNode;if(vf()&&n.callbackNode!==t)return null;var r=Ny(n,n===Hn?rr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=qy(n,r);else{e=r;var i=et;et|=2;var s=cD();(Hn!==n||rr!==e)&&(wo=null,fp=dn()+500,Jh(n,e));do try{k5();break}catch(o){lD(n,o)}while(!0);BT(),Xy.current=s,et=i,vn!==null?e=0:(Hn=null,rr=0,e=Cn)}if(e!==0){if(e===2&&(i=b_(n),i!==0&&(r=i,e=e2(n,i))),e===1)throw t=og,Jh(n,0),Ul(n,r),li(n,dn()),t;if(e===6)Ul(n,r);else{if(i=n.current.alternate,!(r&30)&&!b5(i)&&(e=qy(n,r),e===2&&(s=b_(n),s!==0&&(r=s,e=e2(n,s))),e===1))throw t=og,Jh(n,0),Ul(n,r),li(n,dn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:yu(n,ri,wo);break;case 3:if(Ul(n,r),(r&130023424)===r&&(e=ZT+500-dn(),10<e)){if(Ny(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Hr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=I_(yu.bind(null,n,ri,wo),e);break}yu(n,ri,wo);break;case 4:if(Ul(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var a=31-sa(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=dn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T5(r/1960))-r,10<r){n.timeoutHandle=I_(yu.bind(null,n,ri,wo),r);break}yu(n,ri,wo);break;case 5:yu(n,ri,wo);break;default:throw Error(pe(329))}}}return li(n,dn()),n.callbackNode===t?oD.bind(null,n):null}function e2(n,e){var t=Mm;return n.current.memoizedState.isDehydrated&&(Jh(n,e).flags|=256),n=qy(n,e),n!==2&&(e=ri,ri=t,e!==null&&t2(e)),n}function t2(n){ri===null?ri=n:ri.push.apply(ri,n)}function b5(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!la(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ul(n,e){for(e&=~JT,e&=~cE,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-sa(e),r=1<<t;n[t]=-1,e&=~r}}function Nk(n){if(et&6)throw Error(pe(327));vf();var e=Ny(n,0);if(!(e&1))return li(n,dn()),null;var t=qy(n,e);if(n.tag!==0&&t===2){var r=b_(n);r!==0&&(e=r,t=e2(n,r))}if(t===1)throw t=og,Jh(n,0),Ul(n,e),li(n,dn()),t;if(t===6)throw Error(pe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,yu(n,ri,wo),li(n,dn()),null}function eb(n,e){var t=et;et|=1;try{return n(e)}finally{et=t,et===0&&(fp=dn()+500,sE&&hu())}}function sd(n){jc!==null&&jc.tag===0&&!(et&6)&&vf();var e=et;et|=1;var t=_s.transition,r=pt;try{if(_s.transition=null,pt=1,n)return n()}finally{pt=r,_s.transition=t,et=e,!(et&6)&&hu()}}function tb(){Bi=rf.current,Mt(rf)}function Jh(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,n5(t)),vn!==null)for(t=vn.return;t!==null;){var r=t;switch(OT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ly();break;case 3:hp(),Mt(ai),Mt(br),WT();break;case 5:zT(r);break;case 4:hp();break;case 13:Mt(Xt);break;case 19:Mt(Xt);break;case 10:jT(r.type._context);break;case 22:case 23:tb()}t=t.return}if(Hn=n,vn=n=qc(n.current,null),rr=Bi=e,Cn=0,og=null,JT=cE=id=0,ri=Mm=null,Pu!==null){for(e=0;e<Pu.length;e++)if(t=Pu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}t.pending=r}Pu=null}return n}function lD(n,e){do{var t=vn;try{if(BT(),Lx.current=Gy,Vy){for(var r=Yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vy=!1}if(rd=0,Ln=bn=Yt=null,Im=!1,ig=0,QT.current=null,t===null||t.return===null){Cn=1,og=e,vn=null;break}e:{var s=n,a=t.return,o=t,l=e;if(e=rr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=yk(a);if(p!==null){p.flags&=-257,wk(p,a,o,s,e),p.mode&1&&xk(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){xk(s,u,e),nb();break e}l=Error(pe(426))}}else if(Ht&&o.mode&1){var v=yk(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),wk(v,a,o,s,e),MT(dp(l,o));break e}}s=l=dp(l,o),Cn!==4&&(Cn=2),Mm===null?Mm=[s]:Mm.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=VN(s,l,e);dk(s,x);break e;case 1:o=l;var w=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yc===null||!Yc.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=GN(s,o,e);dk(s,S);break e}}s=s.return}while(s!==null)}hD(t)}catch(T){e=T,vn===t&&t!==null&&(vn=t=t.return);continue}break}while(!0)}function cD(){var n=Xy.current;return Xy.current=Gy,n===null?Gy:n}function nb(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Hn===null||!(id&268435455)&&!(cE&268435455)||Ul(Hn,rr)}function qy(n,e){var t=et;et|=2;var r=cD();(Hn!==n||rr!==e)&&(wo=null,Jh(n,e));do try{C5();break}catch(i){lD(n,i)}while(!0);if(BT(),et=t,Xy.current=r,vn!==null)throw Error(pe(261));return Hn=null,rr=0,Cn}function C5(){for(;vn!==null;)uD(vn)}function k5(){for(;vn!==null&&!Z8();)uD(vn)}function uD(n){var e=fD(n.alternate,n,Bi);n.memoizedProps=n.pendingProps,e===null?hD(n):vn=e,QT.current=null}function hD(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=E5(t,e),t!==null){t.flags&=32767,vn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Cn=6,vn=null;return}}else if(t=w5(t,e,Bi),t!==null){vn=t;return}if(e=e.sibling,e!==null){vn=e;return}vn=e=n}while(e!==null);Cn===0&&(Cn=5)}function yu(n,e,t){var r=pt,i=_s.transition;try{_s.transition=null,pt=1,P5(n,e,t,r)}finally{_s.transition=i,pt=r}return null}function P5(n,e,t,r){do vf();while(jc!==null);if(et&6)throw Error(pe(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(pe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(c6(n,s),n===Hn&&(vn=Hn=null,rr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||nx||(nx=!0,pD(Fy,function(){return vf(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=_s.transition,_s.transition=null;var a=pt;pt=1;var o=et;et|=4,QT.current=null,_5(n,t),sD(t,n),K6(N_),Dy=!!F_,N_=F_=null,n.current=t,A5(t),e6(),et=o,pt=a,_s.transition=s}else n.current=t;if(nx&&(nx=!1,jc=n,Ky=i),s=n.pendingLanes,s===0&&(Yc=null),r6(t.stateNode),li(n,dn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yy)throw Yy=!1,n=J_,J_=null,n;return Ky&1&&n.tag!==0&&vf(),s=n.pendingLanes,s&1?n===Z_?Lm++:(Lm=0,Z_=n):Lm=0,hu(),null}function vf(){if(jc!==null){var n=VF(Ky),e=_s.transition,t=pt;try{if(_s.transition=null,pt=16>n?16:n,jc===null)var r=!1;else{if(n=jc,jc=null,Ky=0,et&6)throw Error(pe(331));var i=et;for(et|=4,Pe=n.current;Pe!==null;){var s=Pe,a=s.child;if(Pe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Pe=u;Pe!==null;){var h=Pe;switch(h.tag){case 0:case 11:case 15:Om(8,h,s)}var d=h.child;if(d!==null)d.return=h,Pe=d;else for(;Pe!==null;){h=Pe;var f=h.sibling,p=h.return;if(nD(h),h===u){Pe=null;break}if(f!==null){f.return=p,Pe=f;break}Pe=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Pe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Pe=a;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Om(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Pe=x;break e}Pe=s.return}}var w=n.current;for(Pe=w;Pe!==null;){a=Pe;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Pe=y;else e:for(a=w;Pe!==null;){if(o=Pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:lE(9,o)}}catch(T){sn(o,o.return,T)}if(o===a){Pe=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Pe=S;break e}Pe=o.return}}if(et=i,hu(),no&&typeof no.onPostCommitFiberRoot=="function")try{no.onPostCommitFiberRoot(eE,n)}catch{}r=!0}return r}finally{pt=t,_s.transition=e}}return!1}function Dk(n,e,t){e=dp(t,e),e=VN(n,e,1),n=Xc(n,e,1),e=Hr(),n!==null&&(x1(n,1,e),li(n,e))}function sn(n,e,t){if(n.tag===3)Dk(n,n,t);else for(;e!==null;){if(e.tag===3){Dk(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yc===null||!Yc.has(r))){n=dp(t,n),n=GN(e,n,1),e=Xc(e,n,1),n=Hr(),e!==null&&(x1(e,1,n),li(e,n));break}}e=e.return}}function R5(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Hr(),n.pingedLanes|=n.suspendedLanes&t,Hn===n&&(rr&t)===t&&(Cn===4||Cn===3&&(rr&130023424)===rr&&500>dn()-ZT?Jh(n,0):JT|=t),li(n,e)}function dD(n,e){e===0&&(n.mode&1?(e=G1,G1<<=1,!(G1&130023424)&&(G1=4194304)):e=1);var t=Hr();n=vl(n,e),n!==null&&(x1(n,e,t),li(n,t))}function F5(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),dD(n,t)}function N5(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),dD(n,t)}var fD;fD=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||ai.current)si=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return si=!1,y5(n,e,t);si=!!(n.flags&131072)}else si=!1,Ht&&e.flags&1048576&&vN(e,Uy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jx(n,e),n=e.pendingProps;var i=lp(e,br.current);gf(e,t),i=GT(null,e,r,n,i,t);var s=XT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,oi(r)?(s=!0,By(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HT(e),i.updater=oE,e.stateNode=i,i._reactInternals=e,H_(e,r,n,t),e=W_(null,e,r,!0,s,t)):(e.tag=0,Ht&&s&&IT(e),Mr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(jx(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=I5(r),n=Bs(r,n),i){case 0:e=z_(null,e,r,n,t);break e;case 1:e=_k(null,e,r,n,t);break e;case 11:e=Ek(null,e,r,n,t);break e;case 14:e=Sk(null,e,r,Bs(r.type,n),t);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bs(r,i),z_(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bs(r,i),_k(n,e,r,i,t);case 3:e:{if(qN(e),n===null)throw Error(pe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_N(n,e),zy(e,r,null,t);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dp(Error(pe(423)),e),e=Ak(n,e,r,t,i);break e}else if(r!==i){i=dp(Error(pe(424)),e),e=Ak(n,e,r,t,i);break e}else for(Gi=Gc(e.stateNode.containerInfo.firstChild),Xi=e,Ht=!0,ta=null,t=EN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(cp(),r===i){e=xl(n,e,t);break e}Mr(n,e,r,t)}e=e.child}return e;case 5:return AN(e),n===null&&B_(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,a=i.children,D_(r,i)?a=null:s!==null&&D_(r,s)&&(e.flags|=32),KN(n,e),Mr(n,e,a,t),e.child;case 6:return n===null&&B_(e),null;case 13:return QN(n,e,t);case 4:return $T(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=up(e,null,r,t):Mr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bs(r,i),Ek(n,e,r,i,t);case 7:return Mr(n,e,e.pendingProps,t),e.child;case 8:return Mr(n,e,e.pendingProps.children,t),e.child;case 12:return Mr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Ft(Hy,r._currentValue),r._currentValue=a,s!==null)if(la(s.value,a)){if(s.children===i.children&&!ai.current){e=xl(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ll(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),j_(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(pe(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),j_(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Mr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gf(e,t),i=Ts(i),r=r(i),e.flags|=1,Mr(n,e,r,t),e.child;case 14:return r=e.type,i=Bs(r,e.pendingProps),i=Bs(r.type,i),Sk(n,e,r,i,t);case 15:return XN(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Bs(r,i),jx(n,e),e.tag=1,oi(r)?(n=!0,By(e)):n=!1,gf(e,t),WN(e,r,i),H_(e,r,i,t),W_(null,e,r,!0,n,t);case 19:return JN(n,e,t);case 22:return YN(n,e,t)}throw Error(pe(156,e.tag))};function pD(n,e){return HF(n,e)}function D5(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(n,e,t,r){return new D5(n,e,t,r)}function rb(n){return n=n.prototype,!(!n||!n.isReactComponent)}function I5(n){if(typeof n=="function")return rb(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ST)return 11;if(n===_T)return 14}return 2}function qc(n,e){var t=n.alternate;return t===null?(t=Ss(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function $x(n,e,t,r,i,s){var a=2;if(r=n,typeof n=="function")rb(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case Xd:return Zh(t.children,i,s,e);case ET:a=8,i|=8;break;case h_:return n=Ss(12,t,e,i|2),n.elementType=h_,n.lanes=s,n;case d_:return n=Ss(13,t,e,i),n.elementType=d_,n.lanes=s,n;case f_:return n=Ss(19,t,e,i),n.elementType=f_,n.lanes=s,n;case AF:return uE(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case SF:a=10;break e;case _F:a=9;break e;case ST:a=11;break e;case _T:a=14;break e;case Ll:a=16,r=null;break e}throw Error(pe(130,n==null?n:typeof n,""))}return e=Ss(a,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Zh(n,e,t,r){return n=Ss(7,n,r,e),n.lanes=t,n}function uE(n,e,t,r){return n=Ss(22,n,r,e),n.elementType=AF,n.lanes=t,n.stateNode={isHidden:!1},n}function kS(n,e,t){return n=Ss(6,n,null,e),n.lanes=t,n}function PS(n,e,t){return e=Ss(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function O5(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cS(0),this.expirationTimes=cS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ib(n,e,t,r,i,s,a,o,l){return n=new O5(n,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ss(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},HT(s),n}function M5(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gd,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function mD(n){if(!n)return eu;n=n._reactInternals;e:{if(vd(n)!==n||n.tag!==1)throw Error(pe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(oi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(n.tag===1){var t=n.type;if(oi(t))return mN(n,t,e)}return e}function gD(n,e,t,r,i,s,a,o,l){return n=ib(t,r,!0,n,i,s,a,o,l),n.context=mD(null),t=n.current,r=Hr(),i=Kc(t),s=ll(r,i),s.callback=e??null,Xc(t,s,i),n.current.lanes=i,x1(n,i,r),li(n,r),n}function hE(n,e,t,r){var i=e.current,s=Hr(),a=Kc(i);return t=mD(t),e.context===null?e.context=t:e.pendingContext=t,e=ll(s,a),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Xc(i,e,a),n!==null&&(aa(n,i,a,s),Mx(n,i,a)),a}function Qy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ik(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function sb(n,e){Ik(n,e),(n=n.alternate)&&Ik(n,e)}function L5(){return null}var vD=typeof reportError=="function"?reportError:function(n){console.error(n)};function ab(n){this._internalRoot=n}dE.prototype.render=ab.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(pe(409));hE(n,e,null,null)};dE.prototype.unmount=ab.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;sd(function(){hE(null,n,null,null)}),e[gl]=null}};function dE(n){this._internalRoot=n}dE.prototype.unstable_scheduleHydration=function(n){if(n){var e=YF();n={blockedOn:null,target:n,priority:e};for(var t=0;t<jl.length&&e!==0&&e<jl[t].priority;t++);jl.splice(t,0,n),t===0&&qF(n)}};function ob(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function fE(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ok(){}function B5(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Qy(a);s.call(u)}}var a=gD(e,r,n,0,null,!1,!1,"",Ok);return n._reactRootContainer=a,n[gl]=a.current,Zm(n.nodeType===8?n.parentNode:n),sd(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Qy(l);o.call(u)}}var l=ib(n,0,!1,null,null,!1,!1,"",Ok);return n._reactRootContainer=l,n[gl]=l.current,Zm(n.nodeType===8?n.parentNode:n),sd(function(){hE(e,l,t,r)}),l}function pE(n,e,t,r,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Qy(a);o.call(l)}}hE(e,a,n,i)}else a=B5(t,e,n,i,r);return Qy(a)}GF=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=im(e.pendingLanes);t!==0&&(bT(e,t|1),li(e,dn()),!(et&6)&&(fp=dn()+500,hu()))}break;case 13:sd(function(){var r=vl(n,1);if(r!==null){var i=Hr();aa(r,n,1,i)}}),sb(n,1)}};CT=function(n){if(n.tag===13){var e=vl(n,134217728);if(e!==null){var t=Hr();aa(e,n,134217728,t)}sb(n,134217728)}};XF=function(n){if(n.tag===13){var e=Kc(n),t=vl(n,e);if(t!==null){var r=Hr();aa(t,n,e,r)}sb(n,e)}};YF=function(){return pt};KF=function(n,e){var t=pt;try{return pt=n,e()}finally{pt=t}};__=function(n,e,t){switch(e){case"input":if(g_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=iE(r);if(!i)throw Error(pe(90));bF(r),g_(r,i)}}}break;case"textarea":kF(n,t);break;case"select":e=t.value,e!=null&&df(n,!!t.multiple,e,!1)}};OF=eb;MF=sd;var j5={usingClientEntryPoint:!1,Events:[w1,Qd,iE,DF,IF,eb]},Xp={findFiberByHostInstance:ku,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},U5={bundleType:Xp.bundleType,version:Xp.version,rendererPackageName:Xp.rendererPackageName,rendererConfig:Xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=jF(n),n===null?null:n.stateNode},findFiberByHostInstance:Xp.findFiberByHostInstance||L5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rx.isDisabled&&rx.supportsFiber)try{eE=rx.inject(U5),no=rx}catch{}}Ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j5;Ji.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ob(e))throw Error(pe(200));return M5(n,e,null,t)};Ji.createRoot=function(n,e){if(!ob(n))throw Error(pe(299));var t=!1,r="",i=vD;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ib(n,1,!1,null,null,t,!1,r,i),n[gl]=e.current,Zm(n.nodeType===8?n.parentNode:n),new ab(e)};Ji.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(pe(188)):(n=Object.keys(n).join(","),Error(pe(268,n)));return n=jF(e),n=n===null?null:n.stateNode,n};Ji.flushSync=function(n){return sd(n)};Ji.hydrate=function(n,e,t){if(!fE(e))throw Error(pe(200));return pE(null,n,e,!0,t)};Ji.hydrateRoot=function(n,e,t){if(!ob(n))throw Error(pe(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",a=vD;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=gD(e,null,n,1,t??null,i,!1,s,a),n[gl]=e.current,Zm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new dE(e)};Ji.render=function(n,e,t){if(!fE(e))throw Error(pe(200));return pE(null,n,e,!1,t)};Ji.unmountComponentAtNode=function(n){if(!fE(n))throw Error(pe(40));return n._reactRootContainer?(sd(function(){pE(null,null,n,!1,function(){n._reactRootContainer=null,n[gl]=null})}),!0):!1};Ji.unstable_batchedUpdates=eb;Ji.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!fE(t))throw Error(pe(200));if(n==null||n._reactInternals===void 0)throw Error(pe(38));return pE(n,e,t,!1,r)};Ji.version="18.3.1-next-f1338f8080-20240426";function xD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xD)}catch(n){console.error(n)}}xD(),xF.exports=Ji;var xd=xF.exports;const yD=aF(xd);var wD,Mk=xd;wD=Mk.createRoot,Mk.hydrateRoot;const H5=1,$5=1e6;let RS=0;function z5(){return RS=(RS+1)%Number.MAX_SAFE_INTEGER,RS.toString()}const FS=new Map,Lk=n=>{if(FS.has(n))return;const e=setTimeout(()=>{FS.delete(n),Bm({type:"REMOVE_TOAST",toastId:n})},$5);FS.set(n,e)},W5=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,H5)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?Lk(t):n.toasts.forEach(r=>{Lk(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},zx=[];let Wx={toasts:[]};function Bm(n){Wx=W5(Wx,n),zx.forEach(e=>{e(Wx)})}function V5({...n}){const e=z5(),t=i=>Bm({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Bm({type:"DISMISS_TOAST",toastId:e});return Bm({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:t}}function G5(){const[n,e]=C.useState(Wx);return C.useEffect(()=>(zx.push(e),()=>{const t=zx.indexOf(e);t>-1&&zx.splice(t,1)}),[n]),{...n,toast:V5,dismiss:t=>Bm({type:"DISMISS_TOAST",toastId:t})}}function Ne(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Bk(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function ED(...n){return e=>{let t=!1;const r=n.map(i=>{const s=Bk(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Bk(n[i],null)}}}}function _t(...n){return C.useCallback(ED(...n),n)}function X5(n,e){const t=C.createContext(e),r=s=>{const{children:a,...o}=s,l=C.useMemo(()=>o,Object.values(o));return A.jsx(t.Provider,{value:l,children:a})};r.displayName=n+"Provider";function i(s){const a=C.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function bl(n,e=[]){let t=[];function r(s,a){const o=C.createContext(a),l=t.length;t=[...t,a];const u=d=>{var x;const{scope:f,children:p,...g}=d,m=((x=f==null?void 0:f[n])==null?void 0:x[l])||o,v=C.useMemo(()=>g,Object.values(g));return A.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function h(d,f){var m;const p=((m=f==null?void 0:f[n])==null?void 0:m[l])||o,g=C.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=t.map(a=>C.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return C.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,Y5(i,...e)]}function Y5(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}function pp(n){const e=q5(n),t=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Q5);if(l){const u=l.props.children,h=o.map(d=>d===l?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:d);return A.jsx(e,{...a,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,h):null})}return A.jsx(e,{...a,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var K5=pp("Slot");function q5(n){const e=C.forwardRef((t,r)=>{const{children:i,...s}=t;if(C.isValidElement(i)){const a=Z5(i),o=J5(s,i.props);return i.type!==C.Fragment&&(o.ref=r?ED(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var SD=Symbol("radix.slottable");function _D(n){const e=({children:t})=>A.jsx(A.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=SD,e}function Q5(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===SD}function J5(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function Z5(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function lb(n){const e=n+"CollectionProvider",[t,r]=bl(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=m=>{const{scope:v,children:x}=m,w=xe.useRef(null),y=xe.useRef(new Map).current;return A.jsx(i,{scope:v,itemMap:y,collectionRef:w,children:x})};a.displayName=e;const o=n+"CollectionSlot",l=pp(o),u=xe.forwardRef((m,v)=>{const{scope:x,children:w}=m,y=s(o,x),S=_t(v,y.collectionRef);return A.jsx(l,{ref:S,children:w})});u.displayName=o;const h=n+"CollectionItemSlot",d="data-radix-collection-item",f=pp(h),p=xe.forwardRef((m,v)=>{const{scope:x,children:w,...y}=m,S=xe.useRef(null),T=_t(v,S),P=s(h,x);return xe.useEffect(()=>(P.itemMap.set(S,{ref:S,...y}),()=>void P.itemMap.delete(S))),A.jsx(f,{[d]:"",ref:T,children:w})});p.displayName=h;function g(m){const v=s(n+"CollectionConsumer",m);return xe.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((P,b)=>y.indexOf(P.ref.current)-y.indexOf(b.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},g,r]}var ej=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=ej.reduce((n,e)=>{const t=pp(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),A.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function AD(n,e){n&&xd.flushSync(()=>n.dispatchEvent(e))}function Cs(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function tj(n,e=globalThis==null?void 0:globalThis.document){const t=Cs(n);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var nj="DismissableLayer",n2="dismissableLayer.update",rj="dismissableLayer.pointerDownOutside",ij="dismissableLayer.focusOutside",jk,TD=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),S1=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=n,u=C.useContext(TD),[h,d]=C.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=C.useState({}),g=_t(e,b=>d(b)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),w=h?m.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=w>=x,T=aj(b=>{const F=b.target,D=[...u.branches].some(M=>M.contains(F));!S||D||(i==null||i(b),a==null||a(b),b.defaultPrevented||o==null||o())},f),P=oj(b=>{const F=b.target;[...u.branches].some(M=>M.contains(F))||(s==null||s(b),a==null||a(b),b.defaultPrevented||o==null||o())},f);return tj(b=>{w===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&o&&(b.preventDefault(),o()))},f),C.useEffect(()=>{if(h)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jk=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Uk(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=jk)}},[h,f,t,u]),C.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Uk())},[h,u]),C.useEffect(()=>{const b=()=>p({});return document.addEventListener(n2,b),()=>document.removeEventListener(n2,b)},[]),A.jsx(Xe.div,{...l,ref:g,style:{pointerEvents:y?S?"auto":"none":void 0,...n.style},onFocusCapture:Ne(n.onFocusCapture,P.onFocusCapture),onBlurCapture:Ne(n.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ne(n.onPointerDownCapture,T.onPointerDownCapture)})});S1.displayName=nj;var sj="DismissableLayerBranch",bD=C.forwardRef((n,e)=>{const t=C.useContext(TD),r=C.useRef(null),i=_t(e,r);return C.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),A.jsx(Xe.div,{...n,ref:i})});bD.displayName=sj;function aj(n,e=globalThis==null?void 0:globalThis.document){const t=Cs(n),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){CD(rj,t,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function oj(n,e=globalThis==null?void 0:globalThis.document){const t=Cs(n),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&CD(ij,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Uk(){const n=new CustomEvent(n2);document.dispatchEvent(n)}function CD(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?AD(i,s):i.dispatchEvent(s)}var lj=S1,cj=bD,or=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},uj="Portal",mE=C.forwardRef((n,e)=>{var o;const{container:t,...r}=n,[i,s]=C.useState(!1);or(()=>s(!0),[]);const a=t||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?yD.createPortal(A.jsx(Xe.div,{...r,ref:e}),a):null});mE.displayName=uj;function hj(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var yd=n=>{const{present:e,children:t}=n,r=dj(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),s=_t(r.ref,fj(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};yd.displayName="Presence";function dj(n){const[e,t]=C.useState(),r=C.useRef(null),i=C.useRef(n),s=C.useRef("none"),a=n?"mounted":"unmounted",[o,l]=hj(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=ix(r.current);s.current=o==="mounted"?u:"none"},[o]),or(()=>{const u=r.current,h=i.current;if(h!==n){const f=s.current,p=ix(u);n?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),or(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,d=p=>{const m=ix(r.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(s.current=ix(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,t(u)},[])}}function ix(n){return(n==null?void 0:n.animationName)||"none"}function fj(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var pj=vT[" useInsertionEffect ".trim().toString()]||or;function mp({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,a]=mj({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:i;{const h=C.useRef(n!==void 0);C.useEffect(()=>{const d=h.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const u=C.useCallback(h=>{var d;if(o){const f=gj(h)?h(n):h;f!==n&&((d=a.current)==null||d.call(a,f))}else s(h)},[o,n,s,a]);return[l,u]}function mj({defaultProp:n,onChange:e}){const[t,r]=C.useState(n),i=C.useRef(t),s=C.useRef(e);return pj(()=>{s.current=e},[e]),C.useEffect(()=>{var a;i.current!==t&&((a=s.current)==null||a.call(s,t),i.current=t)},[t,i]),[t,r,s]}function gj(n){return typeof n=="function"}var kD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),vj="VisuallyHidden",gE=C.forwardRef((n,e)=>A.jsx(Xe.span,{...n,ref:e,style:{...kD,...n.style}}));gE.displayName=vj;var xj=gE,cb="ToastProvider",[ub,yj,wj]=lb("Toast"),[PD,Bte]=bl("Toast",[wj]),[Ej,vE]=PD(cb),RD=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=n,[o,l]=C.useState(null),[u,h]=C.useState(0),d=C.useRef(!1),f=C.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${cb}\`. Expected non-empty \`string\`.`),A.jsx(ub.Provider,{scope:e,children:A.jsx(Ej,{scope:e,label:t,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:C.useCallback(()=>h(p=>p+1),[]),onToastRemove:C.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:a})})};RD.displayName=cb;var FD="ToastViewport",Sj=["F8"],r2="toast.viewportPause",i2="toast.viewportResume",ND=C.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=Sj,label:i="Notifications ({hotkey})",...s}=n,a=vE(FD,t),o=yj(t),l=C.useRef(null),u=C.useRef(null),h=C.useRef(null),d=C.useRef(null),f=_t(e,d,a.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;C.useEffect(()=>{const v=x=>{var y;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),C.useEffect(()=>{const v=l.current,x=d.current;if(g&&v&&x){const w=()=>{if(!a.isClosePausedRef.current){const P=new CustomEvent(r2);x.dispatchEvent(P),a.isClosePausedRef.current=!0}},y=()=>{if(a.isClosePausedRef.current){const P=new CustomEvent(i2);x.dispatchEvent(P),a.isClosePausedRef.current=!1}},S=P=>{!v.contains(P.relatedTarget)&&y()},T=()=>{v.contains(document.activeElement)||y()};return v.addEventListener("focusin",w),v.addEventListener("focusout",S),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",T),window.addEventListener("blur",w),window.addEventListener("focus",y),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",T),window.removeEventListener("blur",w),window.removeEventListener("focus",y)}}},[g,a.isClosePausedRef]);const m=C.useCallback(({tabbingDirection:v})=>{const w=o().map(y=>{const S=y.ref.current,T=[S,...Oj(S)];return v==="forwards"?T:T.reverse()});return(v==="forwards"?w.reverse():w).flat()},[o]);return C.useEffect(()=>{const v=d.current;if(v){const x=w=>{var T,P,b;const y=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!y){const F=document.activeElement,D=w.shiftKey;if(w.target===v&&D){(T=u.current)==null||T.focus();return}const G=m({tabbingDirection:D?"backwards":"forwards"}),q=G.findIndex(J=>J===F);NS(G.slice(q+1))?w.preventDefault():D?(P=u.current)==null||P.focus():(b=h.current)==null||b.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[o,m]),A.jsxs(cj,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&A.jsx(s2,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});NS(v)}}),A.jsx(ub.Slot,{scope:t,children:A.jsx(Xe.ol,{tabIndex:-1,...s,ref:f})}),g&&A.jsx(s2,{ref:h,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});NS(v)}})]})});ND.displayName=FD;var DD="ToastFocusProxy",s2=C.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...i}=n,s=vE(DD,t);return A.jsx(gE,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&r()}})});s2.displayName=DD;var _1="Toast",_j="toast.swipeStart",Aj="toast.swipeMove",Tj="toast.swipeCancel",bj="toast.swipeEnd",ID=C.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:i,onOpenChange:s,...a}=n,[o,l]=mp({prop:r,defaultProp:i??!0,onChange:s,caller:_1});return A.jsx(yd,{present:t||o,children:A.jsx(Pj,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:Cs(n.onPause),onResume:Cs(n.onResume),onSwipeStart:Ne(n.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(n.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ne(n.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(n.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});ID.displayName=_1;var[Cj,kj]=PD(_1,{onClose(){}}),Pj=C.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...g}=n,m=vE(_1,t),[v,x]=C.useState(null),w=_t(e,J=>x(J)),y=C.useRef(null),S=C.useRef(null),T=i||m.duration,P=C.useRef(0),b=C.useRef(T),F=C.useRef(0),{onToastAdd:D,onToastRemove:M}=m,W=Cs(()=>{var ae;(v==null?void 0:v.contains(document.activeElement))&&((ae=m.viewport)==null||ae.focus()),a()}),G=C.useCallback(J=>{!J||J===1/0||(window.clearTimeout(F.current),P.current=new Date().getTime(),F.current=window.setTimeout(W,J))},[W]);C.useEffect(()=>{const J=m.viewport;if(J){const ae=()=>{G(b.current),u==null||u()},ie=()=>{const K=new Date().getTime()-P.current;b.current=b.current-K,window.clearTimeout(F.current),l==null||l()};return J.addEventListener(r2,ie),J.addEventListener(i2,ae),()=>{J.removeEventListener(r2,ie),J.removeEventListener(i2,ae)}}},[m.viewport,T,l,u,G]),C.useEffect(()=>{s&&!m.isClosePausedRef.current&&G(T)},[s,T,m.isClosePausedRef,G]),C.useEffect(()=>(D(),()=>M()),[D,M]);const q=C.useMemo(()=>v?HD(v):null,[v]);return m.viewport?A.jsxs(A.Fragment,{children:[q&&A.jsx(Rj,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),A.jsx(Cj,{scope:t,onClose:W,children:xd.createPortal(A.jsx(ub.ItemSlot,{scope:t,children:A.jsx(lj,{asChild:!0,onEscapeKeyDown:Ne(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||W(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:A.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Ne(n.onKeyDown,J=>{J.key==="Escape"&&(o==null||o(J.nativeEvent),J.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:Ne(n.onPointerDown,J=>{J.button===0&&(y.current={x:J.clientX,y:J.clientY})}),onPointerMove:Ne(n.onPointerMove,J=>{if(!y.current)return;const ae=J.clientX-y.current.x,ie=J.clientY-y.current.y,K=!!S.current,Y=["left","right"].includes(m.swipeDirection),H=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,X=Y?H(0,ae):0,Z=Y?0:H(0,ie),N=J.pointerType==="touch"?10:2,B={x:X,y:Z},U={originalEvent:J,delta:B};K?(S.current=B,sx(Aj,d,U,{discrete:!1})):Hk(B,m.swipeDirection,N)?(S.current=B,sx(_j,h,U,{discrete:!1}),J.target.setPointerCapture(J.pointerId)):(Math.abs(ae)>N||Math.abs(ie)>N)&&(y.current=null)}),onPointerUp:Ne(n.onPointerUp,J=>{const ae=S.current,ie=J.target;if(ie.hasPointerCapture(J.pointerId)&&ie.releasePointerCapture(J.pointerId),S.current=null,y.current=null,ae){const K=J.currentTarget,Y={originalEvent:J,delta:ae};Hk(ae,m.swipeDirection,m.swipeThreshold)?sx(bj,p,Y,{discrete:!0}):sx(Tj,f,Y,{discrete:!0}),K.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Rj=n=>{const{__scopeToast:e,children:t,...r}=n,i=vE(_1,e),[s,a]=C.useState(!1),[o,l]=C.useState(!1);return Dj(()=>a(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:A.jsx(mE,{asChild:!0,children:A.jsx(gE,{...r,children:s&&A.jsxs(A.Fragment,{children:[i.label," ",t]})})})},Fj="ToastTitle",OD=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return A.jsx(Xe.div,{...r,ref:e})});OD.displayName=Fj;var Nj="ToastDescription",MD=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return A.jsx(Xe.div,{...r,ref:e})});MD.displayName=Nj;var LD="ToastAction",BD=C.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?A.jsx(UD,{altText:t,asChild:!0,children:A.jsx(hb,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${LD}\`. Expected non-empty \`string\`.`),null)});BD.displayName=LD;var jD="ToastClose",hb=C.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,i=kj(jD,t);return A.jsx(UD,{asChild:!0,children:A.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ne(n.onClick,i.onClose)})})});hb.displayName=jD;var UD=C.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...i}=n;return A.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function HD(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),Ij(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...HD(r))}}),e}function sx(n,e,t,{discrete:r}){const i=t.originalEvent.currentTarget,s=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?AD(i,s):i.dispatchEvent(s)}var Hk=(n,e,t=0)=>{const r=Math.abs(n.x),i=Math.abs(n.y),s=r>i;return e==="left"||e==="right"?s&&r>t:!s&&i>t};function Dj(n=()=>{}){const e=Cs(n);or(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function Ij(n){return n.nodeType===n.ELEMENT_NODE}function Oj(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function NS(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var Mj=RD,$D=ND,zD=ID,WD=OD,VD=MD,GD=BD,XD=hb;function YD(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=YD(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function KD(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=YD(n))&&(r&&(r+=" "),r+=e);return r}const $k=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,zk=KD,xE=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return zk(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const h=t==null?void 0:t[u],d=s==null?void 0:s[u];if(h===null)return null;const f=$k(h)||$k(d);return i[u][f]}),o=t&&Object.entries(t).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:d,className:f,...p}=h;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...o}[m]):{...s,...o}[m]===v})?[...u,d,f]:u},[]);return zk(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qD=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...Bj,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:qD("lucide",i),...o},[...a.map(([u,h])=>C.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=(n,e)=>{const t=C.forwardRef(({className:r,...i},s)=>C.createElement(jj,{ref:s,iconNode:e,className:qD(`lucide-${Lj(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=fi("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=fi("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=fi("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=fi("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=fi("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=fi("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=fi("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=fi("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=fi("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=fi("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=fi("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=fi("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=fi("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=fi("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),db="-",Kj=n=>{const e=Qj(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const o=a.split(db);return o[0]===""&&o.length!==1&&o.shift(),eI(o,e)||qj(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},eI=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?eI(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(db);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Wk=/^\[(.+)\]$/,qj=n=>{if(Wk.test(n)){const e=Wk.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Qj=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return Zj(Object.entries(n.classGroups),t).forEach(([s,a])=>{o2(a,r,s,e)}),r},o2=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Vk(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(Jj(i)){o2(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,a])=>{o2(a,Vk(e,s),t,r)})})},Vk=(n,e)=>{let t=n;return e.split(db).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Jj=n=>n.isThemeGetter,Zj=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[t,i]}):n,eU=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){t.has(s)?t.set(s,a):i(s,a)}}},tI="!",tU=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,h=0,d;for(let v=0;v<o.length;v++){let x=o[v];if(u===0){if(x===i&&(r||o.slice(v,v+s)===e)){l.push(o.slice(h,v)),h=v+s;continue}if(x==="/"){d=v;continue}}x==="["?u++:x==="]"&&u--}const f=l.length===0?o:o.substring(h),p=f.startsWith(tI),g=p?f.substring(1):f,m=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return t?o=>t({className:o,parseClassName:a}):a},nU=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},rU=n=>({cache:eU(n.cacheSize),parseClassName:tU(n),...Kj(n)}),iU=/\s+/,sU=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=n.trim().split(iU);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:p}=t(u);let g=!!p,m=r(g?f.substring(0,p):f);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=r(f),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const v=nU(h).join(":"),x=d?v+tI:v,w=x+m;if(s.includes(w))continue;s.push(w);const y=i(m,g);for(let S=0;S<y.length;++S){const T=y[S];s.push(x+T)}o=u+(o.length>0?" "+o:o)}return o};function aU(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=nI(e))&&(r&&(r+=" "),r+=t);return r}const nI=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=nI(n[r]))&&(t&&(t+=" "),t+=e);return t};function oU(n,...e){let t,r,i,s=a;function a(l){const u=e.reduce((h,d)=>d(h),n());return t=rU(u),r=t.cache.get,i=t.cache.set,s=o,o(l)}function o(l){const u=r(l);if(u)return u;const h=sU(l,t);return i(l,h),h}return function(){return s(aU.apply(null,arguments))}}const Dt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},rI=/^\[(?:([a-z-]+):)?(.+)\]$/i,lU=/^\d+\/\d+$/,cU=new Set(["px","full","screen"]),uU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=n=>xf(n)||cU.has(n)||lU.test(n),Fl=n=>Sp(n,"length",SU),xf=n=>!!n&&!Number.isNaN(Number(n)),DS=n=>Sp(n,"number",xf),Yp=n=>!!n&&Number.isInteger(Number(n)),mU=n=>n.endsWith("%")&&xf(n.slice(0,-1)),ze=n=>rI.test(n),Nl=n=>uU.test(n),gU=new Set(["length","size","percentage"]),vU=n=>Sp(n,gU,iI),xU=n=>Sp(n,"position",iI),yU=new Set(["image","url"]),wU=n=>Sp(n,yU,AU),EU=n=>Sp(n,"",_U),Kp=()=>!0,Sp=(n,e,t)=>{const r=rI.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},SU=n=>hU.test(n)&&!dU.test(n),iI=()=>!1,_U=n=>fU.test(n),AU=n=>pU.test(n),TU=()=>{const n=Dt("colors"),e=Dt("spacing"),t=Dt("blur"),r=Dt("brightness"),i=Dt("borderColor"),s=Dt("borderRadius"),a=Dt("borderSpacing"),o=Dt("borderWidth"),l=Dt("contrast"),u=Dt("grayscale"),h=Dt("hueRotate"),d=Dt("invert"),f=Dt("gap"),p=Dt("gradientColorStops"),g=Dt("gradientColorStopPositions"),m=Dt("inset"),v=Dt("margin"),x=Dt("opacity"),w=Dt("padding"),y=Dt("saturate"),S=Dt("scale"),T=Dt("sepia"),P=Dt("skew"),b=Dt("space"),F=Dt("translate"),D=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",ze,e],G=()=>[ze,e],q=()=>["",mo,Fl],J=()=>["auto",xf,ze],ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",ze],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[xf,ze];return{cacheSize:500,separator:":",theme:{colors:[Kp],spacing:[mo,Fl],blur:["none","",Nl,ze],brightness:Z(),borderColor:[n],borderRadius:["none","","full",Nl,ze],borderSpacing:G(),borderWidth:q(),contrast:Z(),grayscale:H(),hueRotate:Z(),invert:H(),gap:G(),gradientColorStops:[n],gradientColorStopPositions:[mU,Fl],inset:W(),margin:W(),opacity:Z(),padding:G(),saturate:Z(),scale:Z(),sepia:H(),skew:Z(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Nl]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ae(),ze]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yp,ze]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Yp,ze]}],"grid-cols":[{"grid-cols":[Kp]}],"col-start-end":[{col:["auto",{span:["full",Yp,ze]},ze]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Kp]}],"row-start-end":[{row:["auto",{span:[Yp,ze]},ze]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,e]}],"min-w":[{"min-w":[ze,e,"min","max","fit"]}],"max-w":[{"max-w":[ze,e,"none","full","min","max","fit","prose",{screen:[Nl]},Nl]}],h:[{h:[ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Nl,Fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",DS]}],"font-family":[{font:[Kp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",xf,DS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mo,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mo,Fl]}],"underline-offset":[{"underline-offset":["auto",mo,ze]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ae(),xU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wU]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[mo,ze]}],"outline-w":[{outline:[mo,Fl]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[mo,Fl]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Nl,EU]}],"shadow-color":[{shadow:[Kp]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Nl,ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Yp,ze]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[mo,Fl,DS]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bU=oU(TU);function Ie(...n){return bU(KD(n))}const CU=Mj,sI=C.forwardRef(({className:n,...e},t)=>A.jsx($D,{ref:t,className:Ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));sI.displayName=$D.displayName;const kU=xE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aI=C.forwardRef(({className:n,variant:e,...t},r)=>A.jsx(zD,{ref:r,className:Ie(kU({variant:e}),n),...t}));aI.displayName=zD.displayName;const PU=C.forwardRef(({className:n,...e},t)=>A.jsx(GD,{ref:t,className:Ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",n),...e}));PU.displayName=GD.displayName;const oI=C.forwardRef(({className:n,...e},t)=>A.jsx(XD,{ref:t,className:Ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:A.jsx(lg,{className:"h-4 w-4"})}));oI.displayName=XD.displayName;const lI=C.forwardRef(({className:n,...e},t)=>A.jsx(WD,{ref:t,className:Ie("text-sm font-semibold",n),...e}));lI.displayName=WD.displayName;const cI=C.forwardRef(({className:n,...e},t)=>A.jsx(VD,{ref:t,className:Ie("text-sm opacity-90",n),...e}));cI.displayName=VD.displayName;function RU(){const{toasts:n}=G5();return A.jsxs(CU,{children:[n.map(function({id:e,title:t,description:r,action:i,...s}){return A.jsxs(aI,{...s,children:[A.jsxs("div",{className:"grid gap-1",children:[t&&A.jsx(lI,{children:t}),r&&A.jsx(cI,{children:r})]}),i,A.jsx(oI,{})]},e)}),A.jsx(sI,{})]})}var Gk=["light","dark"],FU="(prefers-color-scheme: dark)",NU=C.createContext(void 0),DU={setTheme:n=>{},themes:[]},IU=()=>{var n;return(n=C.useContext(NU))!=null?n:DU};C.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let u=s==="system",h=t==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${t}',s='setAttribute';`,d=i?Gk.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,m=!1,v=!0)=>{let x=a?a[g]:g,w=m?g+"|| ''":`'${x}'`,y="";return i&&v&&!m&&Gk.includes(g)&&(y+=`d.style.colorScheme = '${g}';`),t==="class"?m||x?y+=`c.add(${w})`:y+="null":x&&(y+=`d[s](n,${w})`),y},p=n?`!function(){${h}${f(n)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${FU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${d}}catch(t){}}();`;return C.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var OU=n=>{switch(n){case"success":return BU;case"info":return UU;case"warning":return jU;case"error":return HU;default:return null}},MU=Array(12).fill(0),LU=({visible:n,className:e})=>xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},xe.createElement("div",{className:"sonner-spinner"},MU.map((t,r)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),BU=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jU=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),UU=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HU=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$U=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),zU=()=>{let[n,e]=xe.useState(document.hidden);return xe.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},l2=1,WU=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...r}=n,i=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:l2++,s=this.toasts.find(o=>o.id===i),a=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...n,id:i,title:t}),{...o,...n,id:i,dismissible:a,title:t}):o):this.addToast({title:t,...r,dismissible:a,id:i}),i},this.dismiss=n=>(this.dismissedToasts.add(n),n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=n instanceof Promise?n:n(),i=t!==void 0,s,a=r.then(async l=>{if(s=["resolve",l],xe.isValidElement(l))i=!1,this.create({id:t,type:"default",message:l});else if(GU(l)&&!l.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:t,type:"error",message:u,description:h})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"success",message:u,description:h})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:t,type:"error",message:u,description:h})}}).finally(()=>{var l;i&&(this.dismiss(t),t=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,u)=>a.then(()=>s[0]==="reject"?u(s[1]):l(s[1])).catch(u));return typeof t!="string"&&typeof t!="number"?{unwrap:o}:Object.assign(t,{unwrap:o})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||l2++;return this.create({jsx:n(t),id:t,...e}),t},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ti=new WU,VU=(n,e)=>{let t=(e==null?void 0:e.id)||l2++;return ti.addToast({title:n,...e,id:t}),t},GU=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",XU=VU,YU=()=>ti.toasts,KU=()=>ti.getActiveToasts(),an=Object.assign(XU,{success:ti.success,info:ti.info,warning:ti.warning,error:ti.error,custom:ti.custom,message:ti.message,promise:ti.promise,dismiss:ti.dismiss,loading:ti.loading},{getHistory:YU,getToasts:KU});function qU(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}qU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ax(n){return n.label!==void 0}var QU=3,JU="32px",ZU="16px",Xk=4e3,e7=356,t7=14,n7=20,r7=200;function Ns(...n){return n.filter(Boolean).join(" ")}function i7(n){let[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}var s7=n=>{var e,t,r,i,s,a,o,l,u,h,d;let{invert:f,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:x,heights:w,index:y,toasts:S,expanded:T,removeToast:P,defaultRichColors:b,closeButton:F,style:D,cancelButtonStyle:M,actionButtonStyle:W,className:G="",descriptionClassName:q="",duration:J,position:ae,gap:ie,loadingIcon:K,expandByDefault:Y,classNames:H,icons:X,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:N}=n,[B,U]=xe.useState(null),[V,te]=xe.useState(null),[Q,he]=xe.useState(!1),[me,ce]=xe.useState(!1),[we,Te]=xe.useState(!1),[Qe,Oe]=xe.useState(!1),[$n,it]=xe.useState(!1),[_e,Pn]=xe.useState(0),[cr,fa]=xe.useState(0),es=xe.useRef(p.duration||J||Xk),Fp=xe.useRef(null),Rs=xe.useRef(null),ts=y===0,Cd=y+1<=x,ur=p.type,pa=p.dismissible!==!1,uo=p.className||"",JE=p.descriptionClassName||"",mu=xe.useMemo(()=>w.findIndex(Me=>Me.toastId===p.id)||0,[w,p.id]),j1=xe.useMemo(()=>{var Me;return(Me=p.closeButton)!=null?Me:F},[p.closeButton,F]),Np=xe.useMemo(()=>p.duration||J||Xk,[p.duration,J]),kd=xe.useRef(0),ho=xe.useRef(0),Dp=xe.useRef(0),Pl=xe.useRef(null),[ZE,U1]=ae.split("-"),Ip=xe.useMemo(()=>w.reduce((Me,ot,kt)=>kt>=mu?Me:Me+ot.height,0),[w,mu]),Op=zU(),eS=p.invert||f,Mp=ur==="loading";ho.current=xe.useMemo(()=>mu*ie+Ip,[mu,Ip]),xe.useEffect(()=>{es.current=Np},[Np]),xe.useEffect(()=>{he(!0)},[]),xe.useEffect(()=>{let Me=Rs.current;if(Me){let ot=Me.getBoundingClientRect().height;return fa(ot),v(kt=>[{toastId:p.id,height:ot,position:p.position},...kt]),()=>v(kt=>kt.filter(mi=>mi.toastId!==p.id))}},[v,p.id]),xe.useLayoutEffect(()=>{if(!Q)return;let Me=Rs.current,ot=Me.style.height;Me.style.height="auto";let kt=Me.getBoundingClientRect().height;Me.style.height=ot,fa(kt),v(mi=>mi.find(gi=>gi.toastId===p.id)?mi.map(gi=>gi.toastId===p.id?{...gi,height:kt}:gi):[{toastId:p.id,height:kt,position:p.position},...mi])},[Q,p.title,p.description,v,p.id]);let pi=xe.useCallback(()=>{ce(!0),Pn(ho.current),v(Me=>Me.filter(ot=>ot.toastId!==p.id)),setTimeout(()=>{P(p)},r7)},[p,P,v,ho]);xe.useEffect(()=>{if(p.promise&&ur==="loading"||p.duration===1/0||p.type==="loading")return;let Me;return T||m||N&&Op?(()=>{if(Dp.current<kd.current){let ot=new Date().getTime()-kd.current;es.current=es.current-ot}Dp.current=new Date().getTime()})():es.current!==1/0&&(kd.current=new Date().getTime(),Me=setTimeout(()=>{var ot;(ot=p.onAutoClose)==null||ot.call(p,p),pi()},es.current)),()=>clearTimeout(Me)},[T,m,p,ur,N,Op,pi]),xe.useEffect(()=>{p.delete&&pi()},[pi,p.delete]);function tS(){var Me,ot,kt;return X!=null&&X.loading?xe.createElement("div",{className:Ns(H==null?void 0:H.loader,(Me=p==null?void 0:p.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":ur==="loading"},X.loading):K?xe.createElement("div",{className:Ns(H==null?void 0:H.loader,(ot=p==null?void 0:p.classNames)==null?void 0:ot.loader,"sonner-loader"),"data-visible":ur==="loading"},K):xe.createElement(LU,{className:Ns(H==null?void 0:H.loader,(kt=p==null?void 0:p.classNames)==null?void 0:kt.loader),visible:ur==="loading"})}return xe.createElement("li",{tabIndex:0,ref:Rs,className:Ns(G,uo,H==null?void 0:H.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[ur],(t=p==null?void 0:p.classNames)==null?void 0:t[ur]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":$n,"data-removed":me,"data-visible":Cd,"data-y-position":ZE,"data-x-position":U1,"data-index":y,"data-front":ts,"data-swiping":we,"data-dismissible":pa,"data-type":ur,"data-invert":eS,"data-swipe-out":Qe,"data-swipe-direction":V,"data-expanded":!!(T||Y&&Q),style:{"--index":y,"--toasts-before":y,"--z-index":S.length-y,"--offset":`${me?_e:ho.current}px`,"--initial-height":Y?"auto":`${cr}px`,...D,...p.style},onDragEnd:()=>{Te(!1),U(null),Pl.current=null},onPointerDown:Me=>{Mp||!pa||(Fp.current=new Date,Pn(ho.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(Te(!0),Pl.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,ot,kt,mi;if(Qe||!pa)return;Pl.current=null;let gi=Number(((Me=Rs.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ma=Number(((ot=Rs.current)==null?void 0:ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fo=new Date().getTime()-((kt=Fp.current)==null?void 0:kt.getTime()),Cr=B==="x"?gi:ma,ga=Math.abs(Cr)/fo;if(Math.abs(Cr)>=n7||ga>.11){Pn(ho.current),(mi=p.onDismiss)==null||mi.call(p,p),te(B==="x"?gi>0?"right":"left":ma>0?"down":"up"),pi(),Oe(!0),it(!1);return}Te(!1),U(null)},onPointerMove:Me=>{var ot,kt,mi,gi;if(!Pl.current||!pa||((ot=window.getSelection())==null?void 0:ot.toString().length)>0)return;let ma=Me.clientY-Pl.current.y,fo=Me.clientX-Pl.current.x,Cr=(kt=n.swipeDirections)!=null?kt:i7(ae);!B&&(Math.abs(fo)>1||Math.abs(ma)>1)&&U(Math.abs(fo)>Math.abs(ma)?"x":"y");let ga={x:0,y:0};B==="y"?(Cr.includes("top")||Cr.includes("bottom"))&&(Cr.includes("top")&&ma<0||Cr.includes("bottom")&&ma>0)&&(ga.y=ma):B==="x"&&(Cr.includes("left")||Cr.includes("right"))&&(Cr.includes("left")&&fo<0||Cr.includes("right")&&fo>0)&&(ga.x=fo),(Math.abs(ga.x)>0||Math.abs(ga.y)>0)&&it(!0),(mi=Rs.current)==null||mi.style.setProperty("--swipe-amount-x",`${ga.x}px`),(gi=Rs.current)==null||gi.style.setProperty("--swipe-amount-y",`${ga.y}px`)}},j1&&!p.jsx?xe.createElement("button",{"aria-label":Z,"data-disabled":Mp,"data-close-button":!0,onClick:Mp||!pa?()=>{}:()=>{var Me;pi(),(Me=p.onDismiss)==null||Me.call(p,p)},className:Ns(H==null?void 0:H.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(s=X==null?void 0:X.close)!=null?s:$U):null,p.jsx||C.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:xe.createElement(xe.Fragment,null,ur||p.icon||p.promise?xe.createElement("div",{"data-icon":"",className:Ns(H==null?void 0:H.icon,(a=p==null?void 0:p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||tS():null,p.type!=="loading"?p.icon||(X==null?void 0:X[ur])||OU(ur):null):null,xe.createElement("div",{"data-content":"",className:Ns(H==null?void 0:H.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},xe.createElement("div",{"data-title":"",className:Ns(H==null?void 0:H.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?xe.createElement("div",{"data-description":"",className:Ns(q,JE,H==null?void 0:H.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),C.isValidElement(p.cancel)?p.cancel:p.cancel&&ax(p.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||M,onClick:Me=>{var ot,kt;ax(p.cancel)&&pa&&((kt=(ot=p.cancel).onClick)==null||kt.call(ot,Me),pi())},className:Ns(H==null?void 0:H.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,C.isValidElement(p.action)?p.action:p.action&&ax(p.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||W,onClick:Me=>{var ot,kt;ax(p.action)&&((kt=(ot=p.action).onClick)==null||kt.call(ot,Me),!Me.defaultPrevented&&pi())},className:Ns(H==null?void 0:H.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function Yk(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function a7(n,e){let t={};return[n,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?ZU:JU;function l(u){["top","right","bottom","left"].forEach(h=>{t[`${a}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?t[`${a}-${u}`]=o:t[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(o)}),t}var o7=C.forwardRef(function(n,e){let{invert:t,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:u,theme:h="light",richColors:d,duration:f,style:p,visibleToasts:g=QU,toastOptions:m,dir:v=Yk(),gap:x=t7,loadingIcon:w,icons:y,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:T}=n,[P,b]=xe.useState([]),F=xe.useMemo(()=>Array.from(new Set([r].concat(P.filter(N=>N.position).map(N=>N.position)))),[P,r]),[D,M]=xe.useState([]),[W,G]=xe.useState(!1),[q,J]=xe.useState(!1),[ae,ie]=xe.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=xe.useRef(null),Y=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=xe.useRef(null),X=xe.useRef(!1),Z=xe.useCallback(N=>{b(B=>{var U;return(U=B.find(V=>V.id===N.id))!=null&&U.delete||ti.dismiss(N.id),B.filter(({id:V})=>V!==N.id)})},[]);return xe.useEffect(()=>ti.subscribe(N=>{if(N.dismiss){b(B=>B.map(U=>U.id===N.id?{...U,delete:!0}:U));return}setTimeout(()=>{yD.flushSync(()=>{b(B=>{let U=B.findIndex(V=>V.id===N.id);return U!==-1?[...B.slice(0,U),{...B[U],...N},...B.slice(U+1)]:[N,...B]})})})}),[]),xe.useEffect(()=>{if(h!=="system"){ie(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;let N=window.matchMedia("(prefers-color-scheme: dark)");try{N.addEventListener("change",({matches:B})=>{ie(B?"dark":"light")})}catch{N.addListener(({matches:U})=>{try{ie(U?"dark":"light")}catch(V){console.error(V)}})}},[h]),xe.useEffect(()=>{P.length<=1&&G(!1)},[P]),xe.useEffect(()=>{let N=B=>{var U,V;i.every(te=>B[te]||B.code===te)&&(G(!0),(U=K.current)==null||U.focus()),B.code==="Escape"&&(document.activeElement===K.current||(V=K.current)!=null&&V.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[i]),xe.useEffect(()=>{if(K.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,X.current=!1)}},[K.current]),xe.createElement("section",{ref:e,"aria-label":`${S} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((N,B)=>{var U;let[V,te]=N.split("-");return P.length?xe.createElement("ol",{key:N,dir:v==="auto"?Yk():v,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":ae,"data-y-position":V,"data-lifted":W&&P.length>1&&!s,"data-x-position":te,style:{"--front-toast-height":`${((U=D[0])==null?void 0:U.height)||0}px`,"--width":`${e7}px`,"--gap":`${x}px`,...p,...a7(l,u)},onBlur:Q=>{X.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(X.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||X.current||(X.current=!0,H.current=Q.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{q||G(!1)},onDragEnd:()=>G(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},P.filter(Q=>!Q.position&&B===0||Q.position===N).map((Q,he)=>{var me,ce;return xe.createElement(s7,{key:Q.id,icons:y,index:he,toast:Q,defaultRichColors:d,duration:(me=m==null?void 0:m.duration)!=null?me:f,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:g,closeButton:(ce=m==null?void 0:m.closeButton)!=null?ce:a,interacting:q,position:N,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:Z,toasts:P.filter(we=>we.position==Q.position),heights:D.filter(we=>we.position==Q.position),setHeights:M,expandByDefault:s,gap:x,loadingIcon:w,expanded:W,pauseWhenPageIsHidden:T,swipeDirections:n.swipeDirections})})):null}))});const l7=({...n})=>{const{theme:e="system"}=IU();return A.jsx(o7,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...n})};var c7=vT[" useId ".trim().toString()]||(()=>{}),u7=0;function Qc(n){const[e,t]=C.useState(c7());return or(()=>{t(r=>r??String(u7++))},[n]),e?`radix-${e}`:""}const h7=["top","right","bottom","left"],tu=Math.min,$i=Math.max,Jy=Math.round,ox=Math.floor,io=n=>({x:n,y:n}),d7={left:"right",right:"left",bottom:"top",top:"bottom"},f7={start:"end",end:"start"};function c2(n,e,t){return $i(n,tu(e,t))}function yl(n,e){return typeof n=="function"?n(e):n}function wl(n){return n.split("-")[0]}function _p(n){return n.split("-")[1]}function fb(n){return n==="x"?"y":"x"}function pb(n){return n==="y"?"height":"width"}const p7=new Set(["top","bottom"]);function to(n){return p7.has(wl(n))?"y":"x"}function mb(n){return fb(to(n))}function m7(n,e,t){t===void 0&&(t=!1);const r=_p(n),i=mb(n),s=pb(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Zy(a)),[a,Zy(a)]}function g7(n){const e=Zy(n);return[u2(n),e,u2(e)]}function u2(n){return n.replace(/start|end/g,e=>f7[e])}const Kk=["left","right"],qk=["right","left"],v7=["top","bottom"],x7=["bottom","top"];function y7(n,e,t){switch(n){case"top":case"bottom":return t?e?qk:Kk:e?Kk:qk;case"left":case"right":return e?v7:x7;default:return[]}}function w7(n,e,t,r){const i=_p(n);let s=y7(wl(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(u2)))),s}function Zy(n){return n.replace(/left|right|bottom|top/g,e=>d7[e])}function E7(n){return{top:0,right:0,bottom:0,left:0,...n}}function uI(n){return typeof n!="number"?E7(n):{top:n,right:n,bottom:n,left:n}}function ew(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function Qk(n,e,t){let{reference:r,floating:i}=n;const s=to(e),a=mb(e),o=pb(a),l=wl(e),u=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:h,y:r.y-i.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(_p(e)){case"start":p[a]-=f*(t&&u?-1:1);break;case"end":p[a]+=f*(t&&u?-1:1);break}return p}const S7=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:d}=Qk(u,r,l),f=r,p={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:x}=o[m],{x:w,y,data:S,reset:T}=await x({x:h,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:n,floating:e}});h=w??h,d=y??d,p={...p,[v]:{...p[v],...S}},T&&g<=50&&(g++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):T.rects),{x:h,y:d}=Qk(u,f,l)),m=-1)}return{x:h,y:d,placement:f,strategy:i,middlewareData:p}};async function cg(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=yl(e,n),g=uI(p),v=o[f?d==="floating"?"reference":"floating":d],x=ew(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:l})),w=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},T=ew(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:y,strategy:l}):w);return{top:(x.top-T.top+g.top)/S.y,bottom:(T.bottom-x.bottom+g.bottom)/S.y,left:(x.left-T.left+g.left)/S.x,right:(T.right-x.right+g.right)/S.x}}const _7=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:h=0}=yl(n,e)||{};if(u==null)return{};const d=uI(h),f={x:t,y:r},p=mb(i),g=pb(p),m=await a.getDimensions(u),v=p==="y",x=v?"top":"left",w=v?"bottom":"right",y=v?"clientHeight":"clientWidth",S=s.reference[g]+s.reference[p]-f[p]-s.floating[g],T=f[p]-s.reference[p],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let b=P?P[y]:0;(!b||!await(a.isElement==null?void 0:a.isElement(P)))&&(b=o.floating[y]||s.floating[g]);const F=S/2-T/2,D=b/2-m[g]/2-1,M=tu(d[x],D),W=tu(d[w],D),G=M,q=b-m[g]-W,J=b/2-m[g]/2+F,ae=c2(G,J,q),ie=!l.arrow&&_p(i)!=null&&J!==ae&&s.reference[g]/2-(J<G?M:W)-m[g]/2<0,K=ie?J<G?J-G:J-q:0;return{[p]:f[p]+K,data:{[p]:ae,centerOffset:J-ae-K,...ie&&{alignmentOffset:K}},reset:ie}}}),A7=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=yl(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=wl(i),w=to(o),y=wl(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(u.floating)),T=f||(y||!m?[Zy(o)]:g7(o)),P=g!=="none";!f&&P&&T.push(...w7(o,m,g,S));const b=[o,...T],F=await cg(e,v),D=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&D.push(F[x]),d){const J=m7(i,a,S);D.push(F[J[0]],F[J[1]])}if(M=[...M,{placement:i,overflows:D}],!D.every(J=>J<=0)){var W,G;const J=(((W=s.flip)==null?void 0:W.index)||0)+1,ae=b[J];if(ae&&(!(d==="alignment"?w!==to(ae):!1)||M.every(Y=>Y.overflows[0]>0&&to(Y.placement)===w)))return{data:{index:J,overflows:M},reset:{placement:ae}};let ie=(G=M.filter(K=>K.overflows[0]<=0).sort((K,Y)=>K.overflows[1]-Y.overflows[1])[0])==null?void 0:G.placement;if(!ie)switch(p){case"bestFit":{var q;const K=(q=M.filter(Y=>{if(P){const H=to(Y.placement);return H===w||H==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(H=>H>0).reduce((H,X)=>H+X,0)]).sort((Y,H)=>Y[1]-H[1])[0])==null?void 0:q[0];K&&(ie=K);break}case"initialPlacement":ie=o;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function Jk(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Zk(n){return h7.some(e=>n[e]>=0)}const T7=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=yl(n,e);switch(r){case"referenceHidden":{const s=await cg(e,{...i,elementContext:"reference"}),a=Jk(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Zk(a)}}}case"escaped":{const s=await cg(e,{...i,altBoundary:!0}),a=Jk(s,t.floating);return{data:{escapedOffsets:a,escaped:Zk(a)}}}default:return{}}}}},hI=new Set(["left","top"]);async function b7(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=wl(t),o=_p(t),l=to(t)==="y",u=hI.has(a)?-1:1,h=s&&l?-1:1,d=yl(e,n);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*h,y:f*u}:{x:f*u,y:p*h}}const C7=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await b7(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},k7=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...l}=yl(n,e),u={x:t,y:r},h=await cg(e,l),d=to(wl(i)),f=fb(d);let p=u[f],g=u[d];if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=p+h[v],y=p-h[x];p=c2(w,p,y)}if(a){const v=d==="y"?"top":"left",x=d==="y"?"bottom":"right",w=g+h[v],y=g-h[x];g=c2(w,g,y)}const m=o.fn({...e,[f]:p,[d]:g});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[f]:s,[d]:a}}}}}},P7=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=yl(n,e),h={x:t,y:r},d=to(i),f=fb(d);let p=h[f],g=h[d];const m=yl(o,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const y=f==="y"?"height":"width",S=s.reference[f]-s.floating[y]+v.mainAxis,T=s.reference[f]+s.reference[y]-v.mainAxis;p<S?p=S:p>T&&(p=T)}if(u){var x,w;const y=f==="y"?"width":"height",S=hI.has(wl(i)),T=s.reference[d]-s.floating[y]+(S&&((x=a.offset)==null?void 0:x[d])||0)+(S?0:v.crossAxis),P=s.reference[d]+s.reference[y]+(S?0:((w=a.offset)==null?void 0:w[d])||0)-(S?v.crossAxis:0);g<T?g=T:g>P&&(g=P)}return{[f]:p,[d]:g}}}},R7=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...u}=yl(n,e),h=await cg(e,u),d=wl(i),f=_p(i),p=to(i)==="y",{width:g,height:m}=s.floating;let v,x;d==="top"||d==="bottom"?(v=d,x=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=d,v=f==="end"?"top":"bottom");const w=m-h.top-h.bottom,y=g-h.left-h.right,S=tu(m-h[v],w),T=tu(g-h[x],y),P=!e.middlewareData.shift;let b=S,F=T;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(F=y),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=w),P&&!f){const M=$i(h.left,0),W=$i(h.right,0),G=$i(h.top,0),q=$i(h.bottom,0);p?F=g-2*(M!==0||W!==0?M+W:$i(h.left,h.right)):b=m-2*(G!==0||q!==0?G+q:$i(h.top,h.bottom))}await l({...e,availableWidth:F,availableHeight:b});const D=await a.getDimensions(o.floating);return g!==D.width||m!==D.height?{reset:{rects:!0}}:{}}}};function yE(){return typeof window<"u"}function Ap(n){return dI(n)?(n.nodeName||"").toLowerCase():"#document"}function Yi(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function co(n){var e;return(e=(dI(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function dI(n){return yE()?n instanceof Node||n instanceof Yi(n).Node:!1}function ca(n){return yE()?n instanceof Element||n instanceof Yi(n).Element:!1}function so(n){return yE()?n instanceof HTMLElement||n instanceof Yi(n).HTMLElement:!1}function eP(n){return!yE()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Yi(n).ShadowRoot}const F7=new Set(["inline","contents"]);function A1(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=ua(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!F7.has(i)}const N7=new Set(["table","td","th"]);function D7(n){return N7.has(Ap(n))}const I7=[":popover-open",":modal"];function wE(n){return I7.some(e=>{try{return n.matches(e)}catch{return!1}})}const O7=["transform","translate","scale","rotate","perspective"],M7=["transform","translate","scale","rotate","perspective","filter"],L7=["paint","layout","strict","content"];function gb(n){const e=vb(),t=ca(n)?ua(n):n;return O7.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||M7.some(r=>(t.willChange||"").includes(r))||L7.some(r=>(t.contain||"").includes(r))}function B7(n){let e=nu(n);for(;so(e)&&!gp(e);){if(gb(e))return e;if(wE(e))return null;e=nu(e)}return null}function vb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const j7=new Set(["html","body","#document"]);function gp(n){return j7.has(Ap(n))}function ua(n){return Yi(n).getComputedStyle(n)}function EE(n){return ca(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function nu(n){if(Ap(n)==="html")return n;const e=n.assignedSlot||n.parentNode||eP(n)&&n.host||co(n);return eP(e)?e.host:e}function fI(n){const e=nu(n);return gp(e)?n.ownerDocument?n.ownerDocument.body:n.body:so(e)&&A1(e)?e:fI(e)}function ug(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=fI(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=Yi(i);if(s){const o=h2(a);return e.concat(a,a.visualViewport||[],A1(i)?i:[],o&&t?ug(o):[])}return e.concat(i,ug(i,[],t))}function h2(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function pI(n){const e=ua(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=so(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=Jy(t)!==s||Jy(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function xb(n){return ca(n)?n:n.contextElement}function yf(n){const e=xb(n);if(!so(e))return io(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=pI(e);let a=(s?Jy(t.width):t.width)/r,o=(s?Jy(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const U7=io(0);function mI(n){const e=Yi(n);return!vb()||!e.visualViewport?U7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function H7(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Yi(n)?!1:e}function ad(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=xb(n);let a=io(1);e&&(r?ca(r)&&(a=yf(r)):a=yf(n));const o=H7(s,t,r)?mI(s):io(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(s){const f=Yi(s),p=r&&ca(r)?Yi(r):r;let g=f,m=h2(g);for(;m&&r&&p!==g;){const v=yf(m),x=m.getBoundingClientRect(),w=ua(m),y=x.left+(m.clientLeft+parseFloat(w.paddingLeft))*v.x,S=x.top+(m.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,u*=v.y,h*=v.x,d*=v.y,l+=y,u+=S,g=Yi(m),m=h2(g)}}return ew({width:h,height:d,x:l,y:u})}function yb(n,e){const t=EE(n).scrollLeft;return e?e.left+t:ad(co(n)).left+t}function gI(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:yb(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function $7(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=co(r),o=e?wE(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},u=io(1);const h=io(0),d=so(r);if((d||!d&&!s)&&((Ap(r)!=="body"||A1(a))&&(l=EE(r)),so(r))){const p=ad(r);u=yf(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const f=a&&!d&&!s?gI(a,l,!0):io(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+h.x+f.x,y:t.y*u.y-l.scrollTop*u.y+h.y+f.y}}function z7(n){return Array.from(n.getClientRects())}function W7(n){const e=co(n),t=EE(n),r=n.ownerDocument.body,i=$i(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=$i(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+yb(n);const o=-t.scrollTop;return ua(r).direction==="rtl"&&(a+=$i(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function V7(n,e){const t=Yi(n),r=co(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=vb();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}const G7=new Set(["absolute","fixed"]);function X7(n,e){const t=ad(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=so(n)?yf(n):io(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function tP(n,e,t){let r;if(e==="viewport")r=V7(n,t);else if(e==="document")r=W7(co(n));else if(ca(e))r=X7(e,t);else{const i=mI(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ew(r)}function vI(n,e){const t=nu(n);return t===e||!ca(t)||gp(t)?!1:ua(t).position==="fixed"||vI(t,e)}function Y7(n,e){const t=e.get(n);if(t)return t;let r=ug(n,[],!1).filter(o=>ca(o)&&Ap(o)!=="body"),i=null;const s=ua(n).position==="fixed";let a=s?nu(n):n;for(;ca(a)&&!gp(a);){const o=ua(a),l=gb(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&G7.has(i.position)||A1(a)&&!l&&vI(n,a))?r=r.filter(h=>h!==a):i=o,a=nu(a)}return e.set(n,r),r}function K7(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?wE(e)?[]:Y7(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((u,h)=>{const d=tP(e,h,i);return u.top=$i(d.top,u.top),u.right=tu(d.right,u.right),u.bottom=tu(d.bottom,u.bottom),u.left=$i(d.left,u.left),u},tP(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function q7(n){const{width:e,height:t}=pI(n);return{width:e,height:t}}function Q7(n,e,t){const r=so(e),i=co(e),s=t==="fixed",a=ad(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=io(0);function u(){l.x=yb(i)}if(r||!r&&!s)if((Ap(e)!=="body"||A1(i))&&(o=EE(e)),r){const p=ad(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const h=i&&!r&&!s?gI(i,o):io(0),d=a.left+o.scrollLeft-l.x-h.x,f=a.top+o.scrollTop-l.y-h.y;return{x:d,y:f,width:a.width,height:a.height}}function IS(n){return ua(n).position==="static"}function nP(n,e){if(!so(n)||ua(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return co(n)===t&&(t=t.ownerDocument.body),t}function xI(n,e){const t=Yi(n);if(wE(n))return t;if(!so(n)){let i=nu(n);for(;i&&!gp(i);){if(ca(i)&&!IS(i))return i;i=nu(i)}return t}let r=nP(n,e);for(;r&&D7(r)&&IS(r);)r=nP(r,e);return r&&gp(r)&&IS(r)&&!gb(r)?t:r||B7(n)||t}const J7=async function(n){const e=this.getOffsetParent||xI,t=this.getDimensions,r=await t(n.floating);return{reference:Q7(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Z7(n){return ua(n).direction==="rtl"}const e9={convertOffsetParentRelativeRectToViewportRelativeRect:$7,getDocumentElement:co,getClippingRect:K7,getOffsetParent:xI,getElementRects:J7,getClientRects:z7,getDimensions:q7,getScale:yf,isElement:ca,isRTL:Z7};function yI(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function t9(n,e){let t=null,r;const i=co(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:h,top:d,width:f,height:p}=u;if(o||e(),!f||!p)return;const g=ox(d),m=ox(i.clientWidth-(h+f)),v=ox(i.clientHeight-(d+p)),x=ox(h),y={rootMargin:-g+"px "+-m+"px "+-v+"px "+-x+"px",threshold:$i(0,tu(1,l))||1};let S=!0;function T(P){const b=P[0].intersectionRatio;if(b!==l){if(!S)return a();b?a(!1,b):r=setTimeout(()=>{a(!1,1e-7)},1e3)}b===1&&!yI(u,n.getBoundingClientRect())&&a(),S=!1}try{t=new IntersectionObserver(T,{...y,root:i.ownerDocument})}catch{t=new IntersectionObserver(T,y)}t.observe(n)}return a(!0),s}function n9(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=xb(n),h=i||s?[...u?ug(u):[],...ug(e)]:[];h.forEach(x=>{i&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const d=u&&o?t9(u,t):null;let f=-1,p=null;a&&(p=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),t()}),u&&!l&&p.observe(u),p.observe(e));let g,m=l?ad(n):null;l&&v();function v(){const x=ad(n);m&&!yI(m,x)&&t(),m=x,g=requestAnimationFrame(v)}return t(),()=>{var x;h.forEach(w=>{i&&w.removeEventListener("scroll",t),s&&w.removeEventListener("resize",t)}),d==null||d(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const r9=C7,i9=k7,s9=A7,a9=R7,o9=T7,rP=_7,l9=P7,c9=(n,e,t)=>{const r=new Map,i={platform:e9,...t},s={...i.platform,_c:r};return S7(n,e,{...i,platform:s})};var u9=typeof document<"u",h9=function(){},Vx=u9?C.useLayoutEffect:h9;function tw(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!tw(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!tw(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function wI(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function iP(n,e){const t=wI(n);return Math.round(e*t)/t}function OS(n){const e=C.useRef(n);return Vx(()=>{e.current=n}),e}function d9(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=n,[h,d]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=C.useState(r);tw(f,r)||p(r);const[g,m]=C.useState(null),[v,x]=C.useState(null),w=C.useCallback(Y=>{Y!==P.current&&(P.current=Y,m(Y))},[]),y=C.useCallback(Y=>{Y!==b.current&&(b.current=Y,x(Y))},[]),S=s||g,T=a||v,P=C.useRef(null),b=C.useRef(null),F=C.useRef(h),D=l!=null,M=OS(l),W=OS(i),G=OS(u),q=C.useCallback(()=>{if(!P.current||!b.current)return;const Y={placement:e,strategy:t,middleware:f};W.current&&(Y.platform=W.current),c9(P.current,b.current,Y).then(H=>{const X={...H,isPositioned:G.current!==!1};J.current&&!tw(F.current,X)&&(F.current=X,xd.flushSync(()=>{d(X)}))})},[f,e,t,W,G]);Vx(()=>{u===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,d(Y=>({...Y,isPositioned:!1})))},[u]);const J=C.useRef(!1);Vx(()=>(J.current=!0,()=>{J.current=!1}),[]),Vx(()=>{if(S&&(P.current=S),T&&(b.current=T),S&&T){if(M.current)return M.current(S,T,q);q()}},[S,T,q,M,D]);const ae=C.useMemo(()=>({reference:P,floating:b,setReference:w,setFloating:y}),[w,y]),ie=C.useMemo(()=>({reference:S,floating:T}),[S,T]),K=C.useMemo(()=>{const Y={position:t,left:0,top:0};if(!ie.floating)return Y;const H=iP(ie.floating,h.x),X=iP(ie.floating,h.y);return o?{...Y,transform:"translate("+H+"px, "+X+"px)",...wI(ie.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:H,top:X}},[t,o,ie.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:q,refs:ae,elements:ie,floatingStyles:K}),[h,q,ae,ie,K])}const f9=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?rP({element:r.current,padding:i}).fn(t):{}:r?rP({element:r,padding:i}).fn(t):{}}}},p9=(n,e)=>({...r9(n),options:[n,e]}),m9=(n,e)=>({...i9(n),options:[n,e]}),g9=(n,e)=>({...l9(n),options:[n,e]}),v9=(n,e)=>({...s9(n),options:[n,e]}),x9=(n,e)=>({...a9(n),options:[n,e]}),y9=(n,e)=>({...o9(n),options:[n,e]}),w9=(n,e)=>({...f9(n),options:[n,e]});var E9="Arrow",EI=C.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return A.jsx(Xe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:A.jsx("polygon",{points:"0,0 30,0 15,10"})})});EI.displayName=E9;var S9=EI;function _9(n){const[e,t]=C.useState(void 0);return or(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var wb="Popper",[SI,SE]=bl(wb),[A9,_I]=SI(wb),AI=n=>{const{__scopePopper:e,children:t}=n,[r,i]=C.useState(null);return A.jsx(A9,{scope:e,anchor:r,onAnchorChange:i,children:t})};AI.displayName=wb;var TI="PopperAnchor",bI=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=_I(TI,t),a=C.useRef(null),o=_t(e,a);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:A.jsx(Xe.div,{...i,ref:o})});bI.displayName=TI;var Eb="PopperContent",[T9,b9]=SI(Eb),CI=C.forwardRef((n,e)=>{var Q,he,me,ce,we,Te;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=n,v=_I(Eb,t),[x,w]=C.useState(null),y=_t(e,Qe=>w(Qe)),[S,T]=C.useState(null),P=_9(S),b=(P==null?void 0:P.width)??0,F=(P==null?void 0:P.height)??0,D=r+(s!=="center"?"-"+s:""),M=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},W=Array.isArray(u)?u:[u],G=W.length>0,q={padding:M,boundary:W.filter(k9),altBoundary:G},{refs:J,floatingStyles:ae,placement:ie,isPositioned:K,middlewareData:Y}=d9({strategy:"fixed",placement:D,whileElementsMounted:(...Qe)=>n9(...Qe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[p9({mainAxis:i+F,alignmentAxis:a}),l&&m9({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?g9():void 0,...q}),l&&v9({...q}),x9({...q,apply:({elements:Qe,rects:Oe,availableWidth:$n,availableHeight:it})=>{const{width:_e,height:Pn}=Oe.reference,cr=Qe.floating.style;cr.setProperty("--radix-popper-available-width",`${$n}px`),cr.setProperty("--radix-popper-available-height",`${it}px`),cr.setProperty("--radix-popper-anchor-width",`${_e}px`),cr.setProperty("--radix-popper-anchor-height",`${Pn}px`)}}),S&&w9({element:S,padding:o}),P9({arrowWidth:b,arrowHeight:F}),f&&y9({strategy:"referenceHidden",...q})]}),[H,X]=RI(ie),Z=Cs(g);or(()=>{K&&(Z==null||Z())},[K,Z]);const N=(Q=Y.arrow)==null?void 0:Q.x,B=(he=Y.arrow)==null?void 0:he.y,U=((me=Y.arrow)==null?void 0:me.centerOffset)!==0,[V,te]=C.useState();return or(()=>{x&&te(window.getComputedStyle(x).zIndex)},[x]),A.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ae,transform:K?ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[(ce=Y.transformOrigin)==null?void 0:ce.x,(we=Y.transformOrigin)==null?void 0:we.y].join(" "),...((Te=Y.hide)==null?void 0:Te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:A.jsx(T9,{scope:t,placedSide:H,onArrowChange:T,arrowX:N,arrowY:B,shouldHideArrow:U,children:A.jsx(Xe.div,{"data-side":H,"data-align":X,...m,ref:y,style:{...m.style,animation:K?void 0:"none"}})})})});CI.displayName=Eb;var kI="PopperArrow",C9={top:"bottom",right:"left",bottom:"top",left:"right"},PI=C.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=b9(kI,r),a=C9[s.placedSide];return A.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:A.jsx(S9,{...i,ref:t,style:{...i.style,display:"block"}})})});PI.displayName=kI;function k9(n){return n!==null}var P9=n=>({name:"transformOrigin",options:n,fn(e){var v,x,w;const{placement:t,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[u,h]=RI(t),d={start:"0%",center:"50%",end:"100%"}[h],f=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,p=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=a?d:`${f}px`,m=`${-l}px`):u==="top"?(g=a?d:`${f}px`,m=`${r.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=a?d:`${p}px`):u==="left"&&(g=`${r.floating.width+l}px`,m=a?d:`${p}px`),{data:{x:g,y:m}}}});function RI(n){const[e,t="center"]=n.split("-");return[e,t]}var R9=AI,FI=bI,NI=CI,DI=PI,[_E,jte]=bl("Tooltip",[SE]),Sb=SE(),II="TooltipProvider",F9=700,sP="tooltip.open",[N9,OI]=_E(II),MI=n=>{const{__scopeTooltip:e,delayDuration:t=F9,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,a=C.useRef(!0),o=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),A.jsx(N9,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};MI.displayName=II;var LI="Tooltip",[Ute,AE]=_E(LI),d2="TooltipTrigger",D9=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=AE(d2,t),s=OI(d2,t),a=Sb(t),o=C.useRef(null),l=_t(e,o,i.onTriggerChange),u=C.useRef(!1),h=C.useRef(!1),d=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),A.jsx(FI,{asChild:!0,...a,children:A.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ne(n.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ne(n.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Ne(n.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ne(n.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ne(n.onBlur,i.onClose),onClick:Ne(n.onClick,i.onClose)})})});D9.displayName=d2;var I9="TooltipPortal",[Hte,O9]=_E(I9,{forceMount:void 0}),vp="TooltipContent",BI=C.forwardRef((n,e)=>{const t=O9(vp,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,a=AE(vp,n.__scopeTooltip);return A.jsx(yd,{present:r||a.open,children:a.disableHoverableContent?A.jsx(jI,{side:i,...s,ref:e}):A.jsx(M9,{side:i,...s,ref:e})})}),M9=C.forwardRef((n,e)=>{const t=AE(vp,n.__scopeTooltip),r=OI(vp,n.__scopeTooltip),i=C.useRef(null),s=_t(e,i),[a,o]=C.useState(null),{trigger:l,onClose:u}=t,h=i.current,{onPointerInTransitChange:d}=r,f=C.useCallback(()=>{o(null),d(!1)},[d]),p=C.useCallback((g,m)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},w=H9(x,v.getBoundingClientRect()),y=$9(x,w),S=z9(m.getBoundingClientRect()),T=V9([...y,...S]);o(T),d(!0)},[d]);return C.useEffect(()=>()=>f(),[f]),C.useEffect(()=>{if(l&&h){const g=v=>p(v,h),m=v=>p(v,l);return l.addEventListener("pointerleave",g),h.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),h.removeEventListener("pointerleave",m)}}},[l,h,p,f]),C.useEffect(()=>{if(a){const g=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},w=(l==null?void 0:l.contains(v))||(h==null?void 0:h.contains(v)),y=!W9(x,a);w?f():y&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,h,a,u,f]),A.jsx(jI,{...n,ref:s})}),[L9,B9]=_E(LI,{isInside:!1}),j9=_D("TooltipContent"),jI=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=n,l=AE(vp,t),u=Sb(t),{onClose:h}=l;return C.useEffect(()=>(document.addEventListener(sP,h),()=>document.removeEventListener(sP,h)),[h]),C.useEffect(()=>{if(l.trigger){const d=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,h]),A.jsx(S1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:A.jsxs(NI,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[A.jsx(j9,{children:r}),A.jsx(L9,{scope:t,isInside:!0,children:A.jsx(xj,{id:l.contentId,role:"tooltip",children:i||r})})]})})});BI.displayName=vp;var UI="TooltipArrow",U9=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Sb(t);return B9(UI,t).isInside?null:A.jsx(DI,{...i,...r,ref:e})});U9.displayName=UI;function H9(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function $9(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function z9(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function W9(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],u=o.x,h=o.y,d=l.x,f=l.y;h>r!=f>r&&t<(d-u)*(r-h)/(f-h)+u&&(i=!i)}return i}function V9(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),G9(e)}function G9(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var X9=MI,HI=BI;const Y9=X9,K9=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>A.jsx(HI,{ref:r,sideOffset:e,className:Ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));K9.displayName=HI.displayName;var TE=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bE=typeof window>"u"||"Deno"in globalThis;function js(){}function q9(n,e){return typeof n=="function"?n(e):n}function Q9(n){return typeof n=="number"&&n>=0&&n!==1/0}function J9(n,e){return Math.max(n+(e||0)-Date.now(),0)}function f2(n,e){return typeof n=="function"?n(e):n}function Z9(n,e){return typeof n=="function"?n(e):n}function aP(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=n;if(a){if(r){if(e.queryHash!==_b(a,e.options))return!1}else if(!dg(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function oP(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(hg(e.options.mutationKey)!==hg(s))return!1}else if(!dg(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function _b(n,e){return((e==null?void 0:e.queryKeyHashFn)||hg)(n)}function hg(n){return JSON.stringify(n,(e,t)=>p2(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function dg(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>dg(n[t],e[t])):!1}function $I(n,e){if(n===e)return n;const t=lP(n)&&lP(e);if(t||p2(n)&&p2(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),a=s.length,o=t?[]:{},l=new Set(r);let u=0;for(let h=0;h<a;h++){const d=t?h:s[h];(!t&&l.has(d)||t)&&n[d]===void 0&&e[d]===void 0?(o[d]=void 0,u++):(o[d]=$I(n[d],e[d]),o[d]===n[d]&&n[d]!==void 0&&u++)}return i===a&&u===i?n:o}return e}function lP(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function p2(n){if(!cP(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!cP(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function cP(n){return Object.prototype.toString.call(n)==="[object Object]"}function eH(n){return new Promise(e=>{setTimeout(e,n)})}function tH(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?$I(n,e):e}function nH(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function rH(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var Ab=Symbol();function zI(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Ab?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var Fu,$l,kf,QR,iH=(QR=class extends TE{constructor(){super();_(this,Fu);_(this,$l);_(this,kf);E(this,kf,e=>{if(!bE&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){c(this,$l)||this.setEventListener(c(this,kf))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,$l))==null||e.call(this),E(this,$l,void 0))}setEventListener(e){var t;E(this,kf,e),(t=c(this,$l))==null||t.call(this),E(this,$l,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){c(this,Fu)!==e&&(E(this,Fu,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof c(this,Fu)=="boolean"?c(this,Fu):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fu=new WeakMap,$l=new WeakMap,kf=new WeakMap,QR),WI=new iH,Pf,zl,Rf,JR,sH=(JR=class extends TE{constructor(){super();_(this,Pf,!0);_(this,zl);_(this,Rf);E(this,Rf,e=>{if(!bE&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){c(this,zl)||this.setEventListener(c(this,Rf))}onUnsubscribe(){var e;this.hasListeners()||((e=c(this,zl))==null||e.call(this),E(this,zl,void 0))}setEventListener(e){var t;E(this,Rf,e),(t=c(this,zl))==null||t.call(this),E(this,zl,e(this.setOnline.bind(this)))}setOnline(e){c(this,Pf)!==e&&(E(this,Pf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return c(this,Pf)}},Pf=new WeakMap,zl=new WeakMap,Rf=new WeakMap,JR),nw=new sH;function aH(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function oH(n){return Math.min(1e3*2**n,3e4)}function VI(n){return(n??"online")==="online"?nw.isOnline():!0}var GI=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function MS(n){return n instanceof GI}function XI(n){let e=!1,t=0,r=!1,i;const s=aH(),a=m=>{var v;r||(f(new GI(m)),(v=n.abort)==null||v.call(n))},o=()=>{e=!0},l=()=>{e=!1},u=()=>WI.isFocused()&&(n.networkMode==="always"||nw.isOnline())&&n.canRun(),h=()=>VI(n.networkMode)&&n.canRun(),d=m=>{var v;r||(r=!0,(v=n.onSuccess)==null||v.call(n,m),i==null||i(),s.resolve(m))},f=m=>{var v;r||(r=!0,(v=n.onError)==null||v.call(n,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var v;i=x=>{(r||u())&&m(x)},(v=n.onPause)==null||v.call(n)}).then(()=>{var m;i=void 0,r||(m=n.onContinue)==null||m.call(n)}),g=()=>{if(r)return;let m;const v=t===0?n.initialPromise:void 0;try{m=v??n.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(d).catch(x=>{var P;if(r)return;const w=n.retry??(bE?0:3),y=n.retryDelay??oH,S=typeof y=="function"?y(t,x):y,T=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,x);if(e||!T){f(x);return}t++,(P=n.onFail)==null||P.call(n,t,x),eH(S).then(()=>u()?void 0:p()).then(()=>{e?f(x):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?g():p().then(g),s)}}var lH=n=>setTimeout(n,0);function cH(){let n=[],e=0,t=o=>{o()},r=o=>{o()},i=lH;const s=o=>{e?n.push(o):i(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var jr=cH(),Nu,ZR,YI=(ZR=class{constructor(){_(this,Nu)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Q9(this.gcTime)&&E(this,Nu,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(bE?1/0:5*60*1e3))}clearGcTimeout(){c(this,Nu)&&(clearTimeout(c(this,Nu)),E(this,Nu,void 0))}},Nu=new WeakMap,ZR),Ff,Du,ss,Iu,gr,bg,Ou,Us,go,eF,uH=(eF=class extends YI{constructor(e){super();_(this,Us);_(this,Ff);_(this,Du);_(this,ss);_(this,Iu);_(this,gr);_(this,bg);_(this,Ou);E(this,Ou,!1),E(this,bg,e.defaultOptions),this.setOptions(e.options),this.observers=[],E(this,Iu,e.client),E(this,ss,c(this,Iu).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,E(this,Ff,dH(this.options)),this.state=e.state??c(this,Ff),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=c(this,gr))==null?void 0:e.promise}setOptions(e){this.options={...c(this,bg),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&c(this,ss).remove(this)}setData(e,t){const r=tH(this.state.data,e,this.options);return k(this,Us,go).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){k(this,Us,go).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=c(this,gr))==null?void 0:r.promise;return(i=c(this,gr))==null||i.cancel(e),t?t.then(js).catch(js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(c(this,Ff))}isActive(){return this.observers.some(e=>Z9(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ab||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>f2(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!J9(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,gr))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=c(this,gr))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),c(this,ss).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(c(this,gr)&&(c(this,Ou)?c(this,gr).cancel({revert:!0}):c(this,gr).cancelRetry()),this.scheduleGc()),c(this,ss).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,Us,go).call(this,{type:"invalidate"})}fetch(e,t){var u,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(c(this,gr))return c(this,gr).continueRetry(),c(this,gr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(E(this,Ou,!0),r.signal)})},s=()=>{const f=zI(this.options,t),g=(()=>{const m={client:c(this,Iu),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return E(this,Ou,!1),this.options.persister?this.options.persister(f,g,this):f(g)},o=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:c(this,Iu),state:this.state,fetchFn:s};return i(f),f})();(u=this.options.behavior)==null||u.onFetch(o,this),E(this,Du,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&k(this,Us,go).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var p,g,m,v;MS(f)&&f.silent||k(this,Us,go).call(this,{type:"error",error:f}),MS(f)||((g=(p=c(this,ss).config).onError)==null||g.call(p,f,this),(v=(m=c(this,ss).config).onSettled)==null||v.call(m,this.state.data,f,this)),this.scheduleGc()};return E(this,gr,XI({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,g,m,v;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(g=(p=c(this,ss).config).onSuccess)==null||g.call(p,f,this),(v=(m=c(this,ss).config).onSettled)==null||v.call(m,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{k(this,Us,go).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{k(this,Us,go).call(this,{type:"pause"})},onContinue:()=>{k(this,Us,go).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),c(this,gr).start()}},Ff=new WeakMap,Du=new WeakMap,ss=new WeakMap,Iu=new WeakMap,gr=new WeakMap,bg=new WeakMap,Ou=new WeakMap,Us=new WeakSet,go=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...hH(r.data,this.options),fetchMeta:e.meta??null};case"success":return E(this,Du,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return MS(i)&&i.revert&&c(this,Du)?{...c(this,Du),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),jr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),c(this,ss).notify({query:this,type:"updated",action:e})})},eF);function hH(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VI(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function dH(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Ca,tF,fH=(tF=class extends TE{constructor(e={}){super();_(this,Ca);this.config=e,E(this,Ca,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??_b(i,t);let a=this.get(s);return a||(a=new uH({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){c(this,Ca).has(e.queryHash)||(c(this,Ca).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=c(this,Ca).get(e.queryHash);t&&(e.destroy(),t===e&&c(this,Ca).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return c(this,Ca).get(e)}getAll(){return[...c(this,Ca).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>aP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>aP(e,r)):t}notify(e){jr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){jr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ca=new WeakMap,tF),ka,Rr,Mu,Pa,Il,nF,pH=(nF=class extends YI{constructor(e){super();_(this,Pa);_(this,ka);_(this,Rr);_(this,Mu);this.mutationId=e.mutationId,E(this,Rr,e.mutationCache),E(this,ka,[]),this.state=e.state||mH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){c(this,ka).includes(e)||(c(this,ka).push(e),this.clearGcTimeout(),c(this,Rr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){E(this,ka,c(this,ka).filter(t=>t!==e)),this.scheduleGc(),c(this,Rr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){c(this,ka).length||(this.state.status==="pending"?this.scheduleGc():c(this,Rr).remove(this))}continue(){var e;return((e=c(this,Mu))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,u,h,d,f,p,g,m,v,x,w,y,S,T,P,b,F;const t=()=>{k(this,Pa,Il).call(this,{type:"continue"})};E(this,Mu,XI({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,M)=>{k(this,Pa,Il).call(this,{type:"failed",failureCount:D,error:M})},onPause:()=>{k(this,Pa,Il).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>c(this,Rr).canRun(this)}));const r=this.state.status==="pending",i=!c(this,Mu).canStart();try{if(r)t();else{k(this,Pa,Il).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=c(this,Rr).config).onMutate)==null?void 0:a.call(s,e,this));const M=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));M!==this.state.context&&k(this,Pa,Il).call(this,{type:"pending",context:M,variables:e,isPaused:i})}const D=await c(this,Mu).start();return await((h=(u=c(this,Rr).config).onSuccess)==null?void 0:h.call(u,D,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,D,e,this.state.context)),await((g=(p=c(this,Rr).config).onSettled)==null?void 0:g.call(p,D,null,this.state.variables,this.state.context,this)),await((v=(m=this.options).onSettled)==null?void 0:v.call(m,D,null,e,this.state.context)),k(this,Pa,Il).call(this,{type:"success",data:D}),D}catch(D){try{throw await((w=(x=c(this,Rr).config).onError)==null?void 0:w.call(x,D,e,this.state.context,this)),await((S=(y=this.options).onError)==null?void 0:S.call(y,D,e,this.state.context)),await((P=(T=c(this,Rr).config).onSettled)==null?void 0:P.call(T,void 0,D,this.state.variables,this.state.context,this)),await((F=(b=this.options).onSettled)==null?void 0:F.call(b,void 0,D,e,this.state.context)),D}finally{k(this,Pa,Il).call(this,{type:"error",error:D})}}finally{c(this,Rr).runNext(this)}}},ka=new WeakMap,Rr=new WeakMap,Mu=new WeakMap,Pa=new WeakSet,Il=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),jr.batch(()=>{c(this,ka).forEach(r=>{r.onMutationUpdate(e)}),c(this,Rr).notify({mutation:this,type:"updated",action:e})})},nF);function mH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ao,Hs,Cg,rF,gH=(rF=class extends TE{constructor(e={}){super();_(this,Ao);_(this,Hs);_(this,Cg);this.config=e,E(this,Ao,new Set),E(this,Hs,new Map),E(this,Cg,0)}build(e,t,r){const i=new pH({mutationCache:this,mutationId:++Qt(this,Cg)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){c(this,Ao).add(e);const t=lx(e);if(typeof t=="string"){const r=c(this,Hs).get(t);r?r.push(e):c(this,Hs).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(c(this,Ao).delete(e)){const t=lx(e);if(typeof t=="string"){const r=c(this,Hs).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&c(this,Hs).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=lx(e);if(typeof t=="string"){const r=c(this,Hs).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=lx(e);if(typeof t=="string"){const i=(r=c(this,Hs).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){jr.batch(()=>{c(this,Ao).forEach(e=>{this.notify({type:"removed",mutation:e})}),c(this,Ao).clear(),c(this,Hs).clear()})}getAll(){return Array.from(c(this,Ao))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>oP(t,r))}findAll(e={}){return this.getAll().filter(t=>oP(e,t))}notify(e){jr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return jr.batch(()=>Promise.all(e.map(t=>t.continue().catch(js))))}},Ao=new WeakMap,Hs=new WeakMap,Cg=new WeakMap,rF);function lx(n){var e;return(e=n.options.scope)==null?void 0:e.id}function uP(n){return{onFetch:(e,t)=>{var h,d,f,p,g;const r=e.options,i=(f=(d=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const v=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},x=zI(e.options,e.fetchOptions),w=async(y,S,T)=>{if(m)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const b=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:S,direction:T?"backward":"forward",meta:e.options.meta};return v(W),W})(),F=await x(b),{maxPages:D}=e.options,M=T?rH:nH;return{pages:M(y.pages,F,D),pageParams:M(y.pageParams,S,D)}};if(i&&s.length){const y=i==="backward",S=y?vH:hP,T={pages:s,pageParams:a},P=S(r,T);o=await w(T,P,y)}else{const y=n??s.length;do{const S=l===0?a[0]??r.initialPageParam:hP(r,o);if(l>0&&S==null)break;o=await w(o,S),l++}while(l<y)}return o};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function hP(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function vH(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var Jt,Wl,Vl,Nf,Df,Gl,If,Of,iF,xH=(iF=class{constructor(n={}){_(this,Jt);_(this,Wl);_(this,Vl);_(this,Nf);_(this,Df);_(this,Gl);_(this,If);_(this,Of);E(this,Jt,n.queryCache||new fH),E(this,Wl,n.mutationCache||new gH),E(this,Vl,n.defaultOptions||{}),E(this,Nf,new Map),E(this,Df,new Map),E(this,Gl,0)}mount(){Qt(this,Gl)._++,c(this,Gl)===1&&(E(this,If,WI.subscribe(async n=>{n&&(await this.resumePausedMutations(),c(this,Jt).onFocus())})),E(this,Of,nw.subscribe(async n=>{n&&(await this.resumePausedMutations(),c(this,Jt).onOnline())})))}unmount(){var n,e;Qt(this,Gl)._--,c(this,Gl)===0&&((n=c(this,If))==null||n.call(this),E(this,If,void 0),(e=c(this,Of))==null||e.call(this),E(this,Of,void 0))}isFetching(n){return c(this,Jt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return c(this,Wl).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=c(this,Jt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=c(this,Jt).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(f2(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return c(this,Jt).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=c(this,Jt).get(r.queryHash),s=i==null?void 0:i.state.data,a=q9(e,s);if(a!==void 0)return c(this,Jt).build(this,r).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return jr.batch(()=>c(this,Jt).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=c(this,Jt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=c(this,Jt);jr.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=c(this,Jt);return jr.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=jr.batch(()=>c(this,Jt).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(js).catch(js)}invalidateQueries(n,e={}){return jr.batch(()=>(c(this,Jt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=jr.batch(()=>c(this,Jt).findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(js)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(js)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=c(this,Jt).build(this,e);return t.isStaleByTime(f2(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(js).catch(js)}fetchInfiniteQuery(n){return n.behavior=uP(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(js).catch(js)}ensureInfiniteQueryData(n){return n.behavior=uP(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return nw.isOnline()?c(this,Wl).resumePausedMutations():Promise.resolve()}getQueryCache(){return c(this,Jt)}getMutationCache(){return c(this,Wl)}getDefaultOptions(){return c(this,Vl)}setDefaultOptions(n){E(this,Vl,n)}setQueryDefaults(n,e){c(this,Nf).set(hg(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...c(this,Nf).values()],t={};return e.forEach(r=>{dg(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){c(this,Df).set(hg(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...c(this,Df).values()],t={};return e.forEach(r=>{dg(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...c(this,Vl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=_b(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ab&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...c(this,Vl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){c(this,Jt).clear(),c(this,Wl).clear()}},Jt=new WeakMap,Wl=new WeakMap,Vl=new WeakMap,Nf=new WeakMap,Df=new WeakMap,Gl=new WeakMap,If=new WeakMap,Of=new WeakMap,iF),yH=C.createContext(void 0),wH=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),A.jsx(yH.Provider,{value:n,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rw(){return rw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},rw.apply(this,arguments)}var Uc;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Uc||(Uc={}));const dP="popstate";function EH(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return m2("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:qI(i)}return _H(e,t,null,n)}function ui(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function KI(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SH(){return Math.random().toString(36).substr(2,8)}function fP(n,e){return{usr:n.state,key:n.key,idx:e}}function m2(n,e,t,r){return t===void 0&&(t=null),rw({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?CE(e):e,{state:t,key:e&&e.key||r||SH()})}function qI(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function CE(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function _H(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Uc.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(rw({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){o=Uc.Pop;let v=h(),x=v==null?null:v-u;u=v,l&&l({action:o,location:m.location,delta:x})}function f(v,x){o=Uc.Push;let w=m2(m.location,v,x);u=h()+1;let y=fP(w,u),S=m.createHref(w);try{a.pushState(y,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(S)}s&&l&&l({action:o,location:m.location,delta:1})}function p(v,x){o=Uc.Replace;let w=m2(m.location,v,x);u=h();let y=fP(w,u),S=m.createHref(w);a.replaceState(y,"",S),s&&l&&l({action:o,location:m.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:qI(v);return w=w.replace(/ $/,"%20"),ui(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let m={get action(){return o},get location(){return n(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(dP,d),l=v,()=>{i.removeEventListener(dP,d),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(v){return a.go(v)}};return m}var pP;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(pP||(pP={}));function AH(n,e,t){return t===void 0&&(t="/"),TH(n,e,t,!1)}function TH(n,e,t,r){let i=typeof e=="string"?CE(e):e,s=ZI(i.pathname||"/",t);if(s==null)return null;let a=QI(n);bH(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=LH(s);o=OH(a[l],u,r)}return o}function QI(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ui(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wf([r,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(ui(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),QI(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:DH(u,s.index),routesMeta:h})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of JI(s.path))i(s,a,l)}),e}function JI(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=JI(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function bH(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:IH(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const CH=/^:[\w-]+$/,kH=3,PH=2,RH=1,FH=10,NH=-2,mP=n=>n==="*";function DH(n,e){let t=n.split("/"),r=t.length;return t.some(mP)&&(r+=NH),e&&(r+=PH),t.filter(i=>!mP(i)).reduce((i,s)=>i+(CH.test(s)?kH:s===""?RH:FH),r)}function IH(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function OH(n,e,t){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=gP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&t&&!r[r.length-1].route.index&&(d=gP({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:wf([s,d.pathname]),pathnameBase:BH(wf([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=wf([s,d.pathnameBase]))}return a}function gP(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=MH(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:f,isOptional:p}=h;if(f==="*"){let m=o[d]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function MH(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),KI(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LH(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return KI(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function ZI(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}const wf=n=>n.join("/").replace(/\/\/+/g,"/"),BH=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/");function jH(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const eO=["post","put","patch","delete"];new Set(eO);const UH=["get",...eO];new Set(UH);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iw(){return iw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},iw.apply(this,arguments)}const HH=C.createContext(null),$H=C.createContext(null),tO=C.createContext(null),kE=C.createContext(null),PE=C.createContext({outlet:null,matches:[],isDataRoute:!1}),nO=C.createContext(null);function Tb(){return C.useContext(kE)!=null}function rO(){return Tb()||ui(!1),C.useContext(kE).location}function zH(n,e){return WH(n,e)}function WH(n,e,t,r){Tb()||ui(!1);let{navigator:i}=C.useContext(tO),{matches:s}=C.useContext(PE),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=rO(),h;if(e){var d;let v=typeof e=="string"?CE(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||ui(!1),h=v}else h=u;let f=h.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=AH(n,{pathname:p}),m=KH(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:wf([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:wf([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,t,r);return e&&m?C.createElement(kE.Provider,{value:{location:iw({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Uc.Pop}},m):m}function VH(){let n=ZH(),e=jH(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,null)}const GH=C.createElement(VH,null);class XH extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?C.createElement(PE.Provider,{value:this.props.routeContext},C.createElement(nO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YH(n){let{routeContext:e,match:t,children:r}=n,i=C.useContext(HH);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(PE.Provider,{value:e},r)}function KH(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(i=t)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||ui(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:p}=t,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,f)=>{let p,g=!1,m=null,v=null;t&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||GH,l&&(u<0&&f===0?(g=!0,v=null):u===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,f+1)),w=()=>{let y;return p?y=m:g?y=v:d.route.Component?y=C.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=h,C.createElement(YH,{match:d,routeContext:{outlet:h,matches:x,isDataRoute:t!=null},children:y})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement(XH,{location:t.location,revalidation:t.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var g2=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(g2||{});function qH(n){let e=C.useContext($H);return e||ui(!1),e}function QH(n){let e=C.useContext(PE);return e||ui(!1),e}function JH(n){let e=QH(),t=e.matches[e.matches.length-1];return t.route.id||ui(!1),t.route.id}function ZH(){var n;let e=C.useContext(nO),t=qH(g2.UseRouteError),r=JH(g2.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function e$(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function v2(n){ui(!1)}function t$(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Uc.Pop,navigator:s,static:a=!1,future:o}=n;Tb()&&ui(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:a,future:iw({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=CE(r));let{pathname:h="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,m=C.useMemo(()=>{let v=ZI(h,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:g},navigationType:i}},[l,h,d,f,p,g,i]);return m==null?null:C.createElement(tO.Provider,{value:u},C.createElement(kE.Provider,{children:t,value:m}))}function n$(n){let{children:e,location:t}=n;return zH(x2(e),t)}new Promise(()=>{});function x2(n,e){e===void 0&&(e=[]);let t=[];return C.Children.forEach(n,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){t.push.apply(t,x2(r.props.children,s));return}r.type!==v2&&ui(!1),!r.props.index||!r.props.children||ui(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=x2(r.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const r$="6";try{window.__reactRouterVersion=r$}catch{}const i$="startTransition",vP=vT[i$];function s$(n){let{basename:e,children:t,future:r,window:i}=n,s=C.useRef();s.current==null&&(s.current=EH({window:i,v5Compat:!0}));let a=s.current,[o,l]=C.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=C.useCallback(d=>{u&&vP?vP(()=>l(d)):l(d)},[l,u]);return C.useLayoutEffect(()=>a.listen(h),[a,h]),C.useEffect(()=>e$(r),[r]),C.createElement(t$,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:r})}var xP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(xP||(xP={}));var yP;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(yP||(yP={}));const bb=xE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_r=C.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const a=r?K5:"button";return A.jsx(a,{className:Ie(bb({variant:e,size:t,className:n})),ref:s,...i})});_r.displayName="Button";const ii=C.forwardRef(({className:n,type:e,...t},r)=>A.jsx("input",{type:e,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));ii.displayName="Input";var a$="Label",iO=C.forwardRef((n,e)=>A.jsx(Xe.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));iO.displayName=a$;var sO=iO;const o$=xE("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Gt=C.forwardRef(({className:n,...e},t)=>A.jsx(sO,{ref:t,className:Ie(o$(),n),...e}));Gt.displayName=sO.displayName;const Cb=C.forwardRef(({className:n,...e},t)=>A.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...e}));Cb.displayName="Textarea";function wP(n,[e,t]){return Math.min(t,Math.max(e,n))}var l$=C.createContext(void 0);function kb(n){const e=C.useContext(l$);return n||e||"ltr"}var LS=0;function aO(){C.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??EP()),document.body.insertAdjacentElement("beforeend",n[1]??EP()),LS++,()=>{LS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),LS--}},[])}function EP(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var BS="focusScope.autoFocusOnMount",jS="focusScope.autoFocusOnUnmount",SP={bubbles:!1,cancelable:!0},c$="FocusScope",Pb=C.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=n,[o,l]=C.useState(null),u=Cs(i),h=Cs(s),d=C.useRef(null),f=_t(e,m=>l(m)),p=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let m=function(y){if(p.paused||!o)return;const S=y.target;o.contains(S)?d.current=S:Ol(d.current,{select:!0})},v=function(y){if(p.paused||!o)return;const S=y.relatedTarget;S!==null&&(o.contains(S)||Ol(d.current,{select:!0}))},x=function(y){if(document.activeElement===document.body)for(const T of y)T.removedNodes.length>0&&Ol(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const w=new MutationObserver(x);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),w.disconnect()}}},[r,o,p.paused]),C.useEffect(()=>{if(o){AP.add(p);const m=document.activeElement;if(!o.contains(m)){const x=new CustomEvent(BS,SP);o.addEventListener(BS,u),o.dispatchEvent(x),x.defaultPrevented||(u$(m$(oO(o)),{select:!0}),document.activeElement===m&&Ol(o))}return()=>{o.removeEventListener(BS,u),setTimeout(()=>{const x=new CustomEvent(jS,SP);o.addEventListener(jS,h),o.dispatchEvent(x),x.defaultPrevented||Ol(m??document.body,{select:!0}),o.removeEventListener(jS,h),AP.remove(p)},0)}}},[o,u,h,p]);const g=C.useCallback(m=>{if(!t&&!r||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const w=m.currentTarget,[y,S]=h$(w);y&&S?!m.shiftKey&&x===S?(m.preventDefault(),t&&Ol(y,{select:!0})):m.shiftKey&&x===y&&(m.preventDefault(),t&&Ol(S,{select:!0})):x===w&&m.preventDefault()}},[t,r,p.paused]);return A.jsx(Xe.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});Pb.displayName=c$;function u$(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ol(r,{select:e}),document.activeElement!==t)return}function h$(n){const e=oO(n),t=_P(e,n),r=_P(e.reverse(),n);return[t,r]}function oO(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function _P(n,e){for(const t of n)if(!d$(t,{upTo:e}))return t}function d$(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function f$(n){return n instanceof HTMLInputElement&&"select"in n}function Ol(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&f$(n)&&e&&n.select()}}var AP=p$();function p$(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=TP(n,e),n.unshift(e)},remove(e){var t;n=TP(n,e),(t=n[0])==null||t.resume()}}}function TP(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function m$(n){return n.filter(e=>e.tagName!=="A")}function g$(n){const e=C.useRef({value:n,previous:n});return C.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var v$=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Rd=new WeakMap,cx=new WeakMap,ux={},US=0,lO=function(n){return n&&(n.host||lO(n.parentNode))},x$=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=lO(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},y$=function(n,e,t,r){var i=x$(e,Array.isArray(n)?n:[n]);ux[t]||(ux[t]=new WeakMap);var s=ux[t],a=[],o=new Set,l=new Set(i),u=function(d){!d||o.has(d)||(o.add(d),u(d.parentNode))};i.forEach(u);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(o.has(f))h(f);else try{var p=f.getAttribute(r),g=p!==null&&p!=="false",m=(Rd.get(f)||0)+1,v=(s.get(f)||0)+1;Rd.set(f,m),s.set(f,v),a.push(f),m===1&&g&&cx.set(f,!0),v===1&&f.setAttribute(t,"true"),g||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return h(e),o.clear(),US++,function(){a.forEach(function(d){var f=Rd.get(d)-1,p=s.get(d)-1;Rd.set(d,f),s.set(d,p),f||(cx.has(d)||d.removeAttribute(r),cx.delete(d)),p||d.removeAttribute(t)}),US--,US||(Rd=new WeakMap,Rd=new WeakMap,cx=new WeakMap,ux={})}},cO=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=v$(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),y$(r,i,t,"aria-hidden")):function(){return null}},Za=function(){return Za=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Za.apply(this,arguments)};function uO(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function w$(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var Gx="right-scroll-bar-position",Xx="width-before-scroll-bar",E$="with-scroll-bars-hidden",S$="--removed-body-scroll-bar-size";function HS(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function _$(n,e){var t=C.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var A$=typeof window<"u"?C.useLayoutEffect:C.useEffect,bP=new WeakMap;function T$(n,e){var t=_$(null,function(r){return n.forEach(function(i){return HS(i,r)})});return A$(function(){var r=bP.get(t);if(r){var i=new Set(r),s=new Set(n),a=t.current;i.forEach(function(o){s.has(o)||HS(o,null)}),s.forEach(function(o){i.has(o)||HS(o,a)})}bP.set(t,n)},[n]),t}function b$(n){return n}function C$(n,e){e===void 0&&(e=b$);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var a=e(s,r);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;t.length;){var a=t;t=[],a.forEach(s)}t={push:function(o){return s(o)},filter:function(){return t}}},assignMedium:function(s){r=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(s),a=t}var l=function(){var h=a;a=[],h.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),t}}}};return i}function k$(n){n===void 0&&(n={});var e=C$(null);return e.options=Za({async:!0,ssr:!1},n),e}var hO=function(n){var e=n.sideCar,t=uO(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,Za({},t))};hO.isSideCarExport=!0;function P$(n,e){return n.useMedium(e),hO}var dO=k$(),$S=function(){},RE=C.forwardRef(function(n,e){var t=C.useRef(null),r=C.useState({onScrollCapture:$S,onWheelCapture:$S,onTouchMoveCapture:$S}),i=r[0],s=r[1],a=n.forwardProps,o=n.children,l=n.className,u=n.removeScrollBar,h=n.enabled,d=n.shards,f=n.sideCar,p=n.noRelative,g=n.noIsolation,m=n.inert,v=n.allowPinchZoom,x=n.as,w=x===void 0?"div":x,y=n.gapMode,S=uO(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,P=T$([t,e]),b=Za(Za({},S),i);return C.createElement(C.Fragment,null,h&&C.createElement(T,{sideCar:dO,removeScrollBar:u,shards:d,noRelative:p,noIsolation:g,inert:m,setCallbacks:s,allowPinchZoom:!!v,lockRef:t,gapMode:y}),a?C.cloneElement(C.Children.only(o),Za(Za({},b),{ref:P})):C.createElement(w,Za({},b,{className:l,ref:P}),o))});RE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};RE.classNames={fullWidth:Xx,zeroRight:Gx};var R$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function F$(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=R$();return e&&n.setAttribute("nonce",e),n}function N$(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function D$(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var I$=function(){var n=0,e=null;return{add:function(t){n==0&&(e=F$())&&(N$(e,t),D$(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},O$=function(){var n=I$();return function(e,t){C.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},fO=function(){var n=O$(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},M$={left:0,top:0,right:0,gap:0},zS=function(n){return parseInt(n||"",10)||0},L$=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[zS(t),zS(r),zS(i)]},B$=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return M$;var e=L$(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},j$=fO(),Ef="data-scroll-locked",U$=function(n,e,t,r){var i=n.left,s=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(E$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Ef,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gx,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Xx,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Gx," .").concat(Gx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xx," .").concat(Xx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ef,`] {
    `).concat(S$,": ").concat(o,`px;
  }
`)},CP=function(){var n=parseInt(document.body.getAttribute(Ef)||"0",10);return isFinite(n)?n:0},H$=function(){C.useEffect(function(){return document.body.setAttribute(Ef,(CP()+1).toString()),function(){var n=CP()-1;n<=0?document.body.removeAttribute(Ef):document.body.setAttribute(Ef,n.toString())}},[])},$$=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;H$();var s=C.useMemo(function(){return B$(i)},[i]);return C.createElement(j$,{styles:U$(s,!e,i,t?"":"!important")})},y2=!1;if(typeof window<"u")try{var hx=Object.defineProperty({},"passive",{get:function(){return y2=!0,!0}});window.addEventListener("test",hx,hx),window.removeEventListener("test",hx,hx)}catch{y2=!1}var Fd=y2?{passive:!1}:!1,z$=function(n){return n.tagName==="TEXTAREA"},pO=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!z$(n)&&t[e]==="visible")},W$=function(n){return pO(n,"overflowY")},V$=function(n){return pO(n,"overflowX")},kP=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=mO(n,r);if(i){var s=gO(n,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},G$=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},X$=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},mO=function(n,e){return n==="v"?W$(e):V$(e)},gO=function(n,e){return n==="v"?G$(e):X$(e)},Y$=function(n,e){return n==="h"&&e==="rtl"?-1:1},K$=function(n,e,t,r,i){var s=Y$(n,window.getComputedStyle(e).direction),a=s*r,o=t.target,l=e.contains(o),u=!1,h=a>0,d=0,f=0;do{if(!o)break;var p=gO(n,o),g=p[0],m=p[1],v=p[2],x=m-v-s*g;(g||x)&&mO(n,o)&&(d+=x,f+=g);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(h&&(Math.abs(d)<1||!i)||!h&&(Math.abs(f)<1||!i))&&(u=!0),u},dx=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},PP=function(n){return[n.deltaX,n.deltaY]},RP=function(n){return n&&"current"in n?n.current:n},q$=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Q$=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},J$=0,Nd=[];function Z$(n){var e=C.useRef([]),t=C.useRef([0,0]),r=C.useRef(),i=C.useState(J$++)[0],s=C.useState(fO)[0],a=C.useRef(n);C.useEffect(function(){a.current=n},[n]),C.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var m=w$([n.lockRef.current],(n.shards||[]).map(RP),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var o=C.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var x=dx(m),w=t.current,y="deltaX"in m?m.deltaX:w[0]-x[0],S="deltaY"in m?m.deltaY:w[1]-x[1],T,P=m.target,b=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in m&&b==="h"&&P.type==="range")return!1;var F=kP(b,P);if(!F)return!0;if(F?T=b:(T=b==="v"?"h":"v",F=kP(b,P)),!F)return!1;if(!r.current&&"changedTouches"in m&&(y||S)&&(r.current=T),!T)return!0;var D=r.current||T;return K$(D,v,m,D==="h"?y:S,!0)},[]),l=C.useCallback(function(m){var v=m;if(!(!Nd.length||Nd[Nd.length-1]!==s)){var x="deltaY"in v?PP(v):dx(v),w=e.current.filter(function(T){return T.name===v.type&&(T.target===v.target||v.target===T.shadowParent)&&q$(T.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var y=(a.current.shards||[]).map(RP).filter(Boolean).filter(function(T){return T.contains(v.target)}),S=y.length>0?o(v,y[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),u=C.useCallback(function(m,v,x,w){var y={name:m,delta:v,target:x,should:w,shadowParent:ez(x)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(S){return S!==y})},1)},[]),h=C.useCallback(function(m){t.current=dx(m),r.current=void 0},[]),d=C.useCallback(function(m){u(m.type,PP(m),m.target,o(m,n.lockRef.current))},[]),f=C.useCallback(function(m){u(m.type,dx(m),m.target,o(m,n.lockRef.current))},[]);C.useEffect(function(){return Nd.push(s),n.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Fd),document.addEventListener("touchmove",l,Fd),document.addEventListener("touchstart",h,Fd),function(){Nd=Nd.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Fd),document.removeEventListener("touchmove",l,Fd),document.removeEventListener("touchstart",h,Fd)}},[]);var p=n.removeScrollBar,g=n.inert;return C.createElement(C.Fragment,null,g?C.createElement(s,{styles:Q$(i)}):null,p?C.createElement($$,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function ez(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const tz=P$(dO,Z$);var Rb=C.forwardRef(function(n,e){return C.createElement(RE,Za({},n,{ref:e,sideCar:tz}))});Rb.classNames=RE.classNames;var nz=[" ","Enter","ArrowUp","ArrowDown"],rz=[" ","Enter"],od="Select",[FE,NE,iz]=lb(od),[Tp,$te]=bl(od,[iz,SE]),DE=SE(),[sz,du]=Tp(od),[az,oz]=Tp(od),vO=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:u,name:h,autoComplete:d,disabled:f,required:p,form:g}=n,m=DE(e),[v,x]=C.useState(null),[w,y]=C.useState(null),[S,T]=C.useState(!1),P=kb(u),[b,F]=mp({prop:r,defaultProp:i??!1,onChange:s,caller:od}),[D,M]=mp({prop:a,defaultProp:o,onChange:l,caller:od}),W=C.useRef(null),G=v?g||!!v.closest("form"):!0,[q,J]=C.useState(new Set),ae=Array.from(q).map(ie=>ie.props.value).join(";");return A.jsx(R9,{...m,children:A.jsxs(sz,{required:p,scope:e,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:T,contentId:Qc(),value:D,onValueChange:M,open:b,onOpenChange:F,dir:P,triggerPointerDownPosRef:W,disabled:f,children:[A.jsx(FE.Provider,{scope:e,children:A.jsx(az,{scope:n.__scopeSelect,onNativeOptionAdd:C.useCallback(ie=>{J(K=>new Set(K).add(ie))},[]),onNativeOptionRemove:C.useCallback(ie=>{J(K=>{const Y=new Set(K);return Y.delete(ie),Y})},[]),children:t})}),G?A.jsxs(HO,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:d,value:D,onChange:ie=>M(ie.target.value),disabled:f,form:g,children:[D===void 0?A.jsx("option",{value:""}):null,Array.from(q)]},ae):null]})})};vO.displayName=od;var xO="SelectTrigger",yO=C.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=DE(t),a=du(xO,t),o=a.disabled||r,l=_t(e,a.onTriggerChange),u=NE(t),h=C.useRef("touch"),[d,f,p]=zO(m=>{const v=u().filter(y=>!y.disabled),x=v.find(y=>y.value===a.value),w=WO(v,m,x);w!==void 0&&a.onValueChange(w.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return A.jsx(FI,{asChild:!0,...s,children:A.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":$O(a.value)?"":void 0,...i,ref:l,onClick:Ne(i.onClick,m=>{m.currentTarget.focus(),h.current!=="mouse"&&g(m)}),onPointerDown:Ne(i.onPointerDown,m=>{h.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:Ne(i.onKeyDown,m=>{const v=d.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&nz.includes(m.key)&&(g(),m.preventDefault())})})})});yO.displayName=xO;var wO="SelectValue",EO=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:a="",...o}=n,l=du(wO,t),{onValueNodeHasChildrenChange:u}=l,h=s!==void 0,d=_t(e,l.onValueNodeChange);return or(()=>{u(h)},[u,h]),A.jsx(Xe.span,{...o,ref:d,style:{pointerEvents:"none"},children:$O(l.value)?A.jsx(A.Fragment,{children:a}):s})});EO.displayName=wO;var lz="SelectIcon",SO=C.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return A.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});SO.displayName=lz;var cz="SelectPortal",_O=n=>A.jsx(mE,{asChild:!0,...n});_O.displayName=cz;var ld="SelectContent",AO=C.forwardRef((n,e)=>{const t=du(ld,n.__scopeSelect),[r,i]=C.useState();if(or(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?xd.createPortal(A.jsx(TO,{scope:n.__scopeSelect,children:A.jsx(FE.Slot,{scope:n.__scopeSelect,children:A.jsx("div",{children:n.children})})}),s):null}return A.jsx(bO,{...n,ref:e})});AO.displayName=ld;var Ms=10,[TO,fu]=Tp(ld),uz="SelectContentImpl",hz=pp("SelectContent.RemoveScroll"),bO=C.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=n,w=du(ld,t),[y,S]=C.useState(null),[T,P]=C.useState(null),b=_t(e,Q=>S(Q)),[F,D]=C.useState(null),[M,W]=C.useState(null),G=NE(t),[q,J]=C.useState(!1),ae=C.useRef(!1);C.useEffect(()=>{if(y)return cO(y)},[y]),aO();const ie=C.useCallback(Q=>{const[he,...me]=G().map(Te=>Te.ref.current),[ce]=me.slice(-1),we=document.activeElement;for(const Te of Q)if(Te===we||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===he&&T&&(T.scrollTop=0),Te===ce&&T&&(T.scrollTop=T.scrollHeight),Te==null||Te.focus(),document.activeElement!==we))return},[G,T]),K=C.useCallback(()=>ie([F,y]),[ie,F,y]);C.useEffect(()=>{q&&K()},[q,K]);const{onOpenChange:Y,triggerPointerDownPosRef:H}=w;C.useEffect(()=>{if(y){let Q={x:0,y:0};const he=ce=>{var we,Te;Q={x:Math.abs(Math.round(ce.pageX)-(((we=H.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((Te=H.current)==null?void 0:Te.y)??0))}},me=ce=>{Q.x<=10&&Q.y<=10?ce.preventDefault():y.contains(ce.target)||Y(!1),document.removeEventListener("pointermove",he),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",me,{capture:!0})}}},[y,Y,H]),C.useEffect(()=>{const Q=()=>Y(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[Y]);const[X,Z]=zO(Q=>{const he=G().filter(we=>!we.disabled),me=he.find(we=>we.ref.current===document.activeElement),ce=WO(he,Q,me);ce&&setTimeout(()=>ce.ref.current.focus())}),N=C.useCallback((Q,he,me)=>{const ce=!ae.current&&!me;(w.value!==void 0&&w.value===he||ce)&&(D(Q),ce&&(ae.current=!0))},[w.value]),B=C.useCallback(()=>y==null?void 0:y.focus(),[y]),U=C.useCallback((Q,he,me)=>{const ce=!ae.current&&!me;(w.value!==void 0&&w.value===he||ce)&&W(Q)},[w.value]),V=r==="popper"?w2:CO,te=V===w2?{side:o,sideOffset:l,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return A.jsx(TO,{scope:t,content:y,viewport:T,onViewportChange:P,itemRefCallback:N,selectedItem:F,onItemLeave:B,itemTextRefCallback:U,focusSelectedItem:K,selectedItemText:M,position:r,isPositioned:q,searchRef:X,children:A.jsx(Rb,{as:hz,allowPinchZoom:!0,children:A.jsx(Pb,{asChild:!0,trapped:w.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Ne(i,Q=>{var he;(he=w.trigger)==null||he.focus({preventScroll:!0}),Q.preventDefault()}),children:A.jsx(S1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:A.jsx(V,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:Q=>Q.preventDefault(),...x,...te,onPlaced:()=>J(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Ne(x.onKeyDown,Q=>{const he=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!he&&Q.key.length===1&&Z(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ce=G().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const we=Q.target,Te=ce.indexOf(we);ce=ce.slice(Te+1)}setTimeout(()=>ie(ce)),Q.preventDefault()}})})})})})})});bO.displayName=uz;var dz="SelectItemAlignedPosition",CO=C.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=du(ld,t),a=fu(ld,t),[o,l]=C.useState(null),[u,h]=C.useState(null),d=_t(e,b=>h(b)),f=NE(t),p=C.useRef(!1),g=C.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=a,y=C.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&v&&x){const b=s.trigger.getBoundingClientRect(),F=u.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),M=x.getBoundingClientRect();if(s.dir!=="rtl"){const we=M.left-F.left,Te=D.left-we,Qe=b.left-Te,Oe=b.width+Qe,$n=Math.max(Oe,F.width),it=window.innerWidth-Ms,_e=wP(Te,[Ms,Math.max(Ms,it-$n)]);o.style.minWidth=Oe+"px",o.style.left=_e+"px"}else{const we=F.right-M.right,Te=window.innerWidth-D.right-we,Qe=window.innerWidth-b.right-Te,Oe=b.width+Qe,$n=Math.max(Oe,F.width),it=window.innerWidth-Ms,_e=wP(Te,[Ms,Math.max(Ms,it-$n)]);o.style.minWidth=Oe+"px",o.style.right=_e+"px"}const W=f(),G=window.innerHeight-Ms*2,q=m.scrollHeight,J=window.getComputedStyle(u),ae=parseInt(J.borderTopWidth,10),ie=parseInt(J.paddingTop,10),K=parseInt(J.borderBottomWidth,10),Y=parseInt(J.paddingBottom,10),H=ae+ie+q+Y+K,X=Math.min(v.offsetHeight*5,H),Z=window.getComputedStyle(m),N=parseInt(Z.paddingTop,10),B=parseInt(Z.paddingBottom,10),U=b.top+b.height/2-Ms,V=G-U,te=v.offsetHeight/2,Q=v.offsetTop+te,he=ae+ie+Q,me=H-he;if(he<=U){const we=W.length>0&&v===W[W.length-1].ref.current;o.style.bottom="0px";const Te=u.clientHeight-m.offsetTop-m.offsetHeight,Qe=Math.max(V,te+(we?B:0)+Te+K),Oe=he+Qe;o.style.height=Oe+"px"}else{const we=W.length>0&&v===W[0].ref.current;o.style.top="0px";const Qe=Math.max(U,ae+m.offsetTop+(we?N:0)+te)+me;o.style.height=Qe+"px",m.scrollTop=he-U+m.offsetTop}o.style.margin=`${Ms}px 0`,o.style.minHeight=X+"px",o.style.maxHeight=G+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,o,u,m,v,x,s.dir,r]);or(()=>y(),[y]);const[S,T]=C.useState();or(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const P=C.useCallback(b=>{b&&g.current===!0&&(y(),w==null||w(),g.current=!1)},[y,w]);return A.jsx(pz,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:A.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:A.jsx(Xe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});CO.displayName=dz;var fz="SelectPopperPosition",w2=C.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=Ms,...s}=n,a=DE(t);return A.jsx(NI,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});w2.displayName=fz;var[pz,Fb]=Tp(ld,{}),E2="SelectViewport",kO=C.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=fu(E2,t),a=Fb(E2,t),o=_t(e,s.onViewportChange),l=C.useRef(0);return A.jsxs(A.Fragment,{children:[A.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),A.jsx(FE.Slot,{scope:t,children:A.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ne(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&d){const p=Math.abs(l.current-h.scrollTop);if(p>0){const g=window.innerHeight-Ms*2,m=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),x=Math.max(m,v);if(x<g){const w=x+p,y=Math.min(g,w),S=w-y;d.style.height=y+"px",d.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});kO.displayName=E2;var PO="SelectGroup",[mz,gz]=Tp(PO),vz=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=Qc();return A.jsx(mz,{scope:t,id:i,children:A.jsx(Xe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});vz.displayName=PO;var RO="SelectLabel",FO=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=gz(RO,t);return A.jsx(Xe.div,{id:i.id,...r,ref:e})});FO.displayName=RO;var sw="SelectItem",[xz,NO]=Tp(sw),DO=C.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...a}=n,o=du(sw,t),l=fu(sw,t),u=o.value===r,[h,d]=C.useState(s??""),[f,p]=C.useState(!1),g=_t(e,w=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,w,r,i)}),m=Qc(),v=C.useRef("touch"),x=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return A.jsx(xz,{scope:t,value:r,disabled:i,textId:m,isSelected:u,onItemTextChange:C.useCallback(w=>{d(y=>y||((w==null?void 0:w.textContent)??"").trim())},[]),children:A.jsx(FE.ItemSlot,{scope:t,value:r,disabled:i,textValue:h,children:A.jsx(Xe.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:Ne(a.onFocus,()=>p(!0)),onBlur:Ne(a.onBlur,()=>p(!1)),onClick:Ne(a.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:Ne(a.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:Ne(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Ne(a.onPointerMove,w=>{var y;v.current=w.pointerType,i?(y=l.onItemLeave)==null||y.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ne(a.onPointerLeave,w=>{var y;w.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:Ne(a.onKeyDown,w=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(rz.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});DO.displayName=sw;var am="SelectItemText",IO=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,a=du(am,t),o=fu(am,t),l=NO(am,t),u=oz(am,t),[h,d]=C.useState(null),f=_t(e,x=>d(x),l.onItemTextChange,x=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,x,l.value,l.disabled)}),p=h==null?void 0:h.textContent,g=C.useMemo(()=>A.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return or(()=>(m(g),()=>v(g)),[m,v,g]),A.jsxs(A.Fragment,{children:[A.jsx(Xe.span,{id:l.textId,...s,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?xd.createPortal(s.children,a.valueNode):null]})});IO.displayName=am;var OO="SelectItemIndicator",MO=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return NO(OO,t).isSelected?A.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});MO.displayName=OO;var S2="SelectScrollUpButton",LO=C.forwardRef((n,e)=>{const t=fu(S2,n.__scopeSelect),r=Fb(S2,n.__scopeSelect),[i,s]=C.useState(!1),a=_t(e,r.onScrollButtonChange);return or(()=>{if(t.viewport&&t.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?A.jsx(jO,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});LO.displayName=S2;var _2="SelectScrollDownButton",BO=C.forwardRef((n,e)=>{const t=fu(_2,n.__scopeSelect),r=Fb(_2,n.__scopeSelect),[i,s]=C.useState(!1),a=_t(e,r.onScrollButtonChange);return or(()=>{if(t.viewport&&t.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;s(h)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?A.jsx(jO,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});BO.displayName=_2;var jO=C.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=fu("SelectScrollButton",t),a=C.useRef(null),o=NE(t),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),or(()=>{var h;const u=o().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[o]),A.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ne(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ne(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ne(i.onPointerLeave,()=>{l()})})}),yz="SelectSeparator",UO=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return A.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});UO.displayName=yz;var A2="SelectArrow",wz=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=DE(t),s=du(A2,t),a=fu(A2,t);return s.open&&a.position==="popper"?A.jsx(DI,{...i,...r,ref:e}):null});wz.displayName=A2;var Ez="SelectBubbleInput",HO=C.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=C.useRef(null),s=_t(r,i),a=g$(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&h){const d=new Event("change",{bubbles:!0});h.call(o,e),o.dispatchEvent(d)}},[a,e]),A.jsx(Xe.select,{...t,style:{...kD,...t.style},ref:s,defaultValue:e})});HO.displayName=Ez;function $O(n){return n===""||n===void 0}function zO(n){const e=Cs(n),t=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const o=t.current+a;e(o),function l(u){t.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=C.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function WO(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let a=Sz(n,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==t));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function Sz(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var _z=vO,VO=yO,Az=EO,Tz=SO,bz=_O,GO=AO,Cz=kO,XO=FO,YO=DO,kz=IO,Pz=MO,KO=LO,qO=BO,QO=UO;const Nb=_z,Db=Az,IE=C.forwardRef(({className:n,children:e,...t},r)=>A.jsxs(VO,{ref:r,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,A.jsx(Tz,{asChild:!0,children:A.jsx(QD,{className:"h-4 w-4 opacity-50"})})]}));IE.displayName=VO.displayName;const JO=C.forwardRef(({className:n,...e},t)=>A.jsx(KO,{ref:t,className:Ie("flex cursor-default items-center justify-center py-1",n),...e,children:A.jsx(Hj,{className:"h-4 w-4"})}));JO.displayName=KO.displayName;const ZO=C.forwardRef(({className:n,...e},t)=>A.jsx(qO,{ref:t,className:Ie("flex cursor-default items-center justify-center py-1",n),...e,children:A.jsx(QD,{className:"h-4 w-4"})}));ZO.displayName=qO.displayName;const OE=C.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>A.jsx(bz,{children:A.jsxs(GO,{ref:i,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[A.jsx(JO,{}),A.jsx(Cz,{className:Ie("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),A.jsx(ZO,{})]})}));OE.displayName=GO.displayName;const Rz=C.forwardRef(({className:n,...e},t)=>A.jsx(XO,{ref:t,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));Rz.displayName=XO.displayName;const Jc=C.forwardRef(({className:n,children:e,...t},r)=>A.jsxs(YO,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",n),...t,children:[A.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:A.jsx(Pz,{children:A.jsx(Uj,{className:"h-4 w-4"})})}),A.jsx(kz,{children:e})]}));Jc.displayName=YO.displayName;const Fz=C.forwardRef(({className:n,...e},t)=>A.jsx(QO,{ref:t,className:Ie("-mx-1 my-1 h-px bg-muted",n),...e}));Fz.displayName=QO.displayName;const fg=C.forwardRef(({className:n,...e},t)=>A.jsx("div",{ref:t,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));fg.displayName="Card";const Nz=C.forwardRef(({className:n,...e},t)=>A.jsx("div",{ref:t,className:Ie("flex flex-col space-y-1.5 p-6",n),...e}));Nz.displayName="CardHeader";const Dz=C.forwardRef(({className:n,...e},t)=>A.jsx("h3",{ref:t,className:Ie("text-2xl font-semibold leading-none tracking-tight",n),...e}));Dz.displayName="CardTitle";const Iz=C.forwardRef(({className:n,...e},t)=>A.jsx("p",{ref:t,className:Ie("text-sm text-muted-foreground",n),...e}));Iz.displayName="CardDescription";const Oz=C.forwardRef(({className:n,...e},t)=>A.jsx("div",{ref:t,className:Ie("p-6 pt-0",n),...e}));Oz.displayName="CardContent";const Mz=C.forwardRef(({className:n,...e},t)=>A.jsx("div",{ref:t,className:Ie("flex items-center p-6 pt-0",n),...e}));Mz.displayName="CardFooter";const Ir=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),T2=[.001,0,0,.001,0,0],WS=1.35,Mi={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Hl={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},pg="pdfjs_internal_editor_",Ue={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Je={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Lz={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},b2={TRIANGLES:1,LATTICE:2,PATCH:3},zn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Yx={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},mn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ld={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ME={ERRORS:0,WARNINGS:1,INFOS:5},mg={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},qp={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Bz={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let LE=ME.WARNINGS;function jz(n){Number.isInteger(n)&&(LE=n)}function Uz(){return LE}function BE(n){LE>=ME.INFOS&&console.info(`Info: ${n}`)}function Le(n){LE>=ME.WARNINGS&&console.warn(`Warning: ${n}`)}function Ct(n){throw new Error(n)}function Ze(n,e){n||Ct(e)}function Hz(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function e4(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Gz(n)}catch{}}const r=e?URL.parse(n,e):URL.parse(n);return Hz(r)?r:null}function t4(n,e,t=!1){const r=URL.parse(n);return r?(r.hash=e,r.href):t&&e4(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function $e(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const wd=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class FP extends wd{constructor(e,t){super(e,"PasswordException"),this.code=t}}class VS extends wd{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class C2 extends wd{constructor(e){super(e,"InvalidPDFException")}}class aw extends wd{constructor(e,t,r){super(e,"ResponseException"),this.status=t,this.missing=r}}class $z extends wd{constructor(e){super(e,"FormatError")}}class ru extends wd{constructor(e){super(e,"AbortException")}}function n4(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ct("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function T1(n){typeof n!="string"&&Ct("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function zz(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Wz(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Vz(){try{return new Function(""),!0}catch{return!1}}class ir{static get isLittleEndian(){return $e(this,"isLittleEndian",Wz())}static get isEvalSupported(){return $e(this,"isEvalSupported",Vz())}static get isOffscreenCanvasSupported(){return $e(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return $e(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return $e(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return $e(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return $e(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return $e(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const GS=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var dl,Kx,k2;class Re{static makeHexColor(e,t,r){return`#${GS[e]}${GS[t]}${GS[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,r=0){const i=e[r],s=e[r+1];e[r]=i*t[0]+s*t[2]+t[4],e[r+1]=i*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,r=0){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5];for(let h=0;h<6;h+=2){const d=e[r+h],f=e[r+h+1];e[r+h]=d*i+f*a+l,e[r+h+1]=d*s+f*o+u}}static applyInverseTransform(e,t){const r=e[0],i=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(r*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-r*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,r){const i=t[0],s=t[1],a=t[2],o=t[3],l=t[4],u=t[5],h=e[0],d=e[1],f=e[2],p=e[3];let g=i*h+l,m=g,v=i*f+l,x=v,w=o*d+u,y=w,S=o*p+u,T=S;if(s!==0||a!==0){const P=s*h,b=s*f,F=a*d,D=a*p;g+=F,x+=F,v+=D,m+=D,w+=P,T+=P,S+=b,y+=b}r[0]=Math.min(r[0],g,v,m,x),r[1]=Math.min(r[1],w,S,y,T),r[2]=Math.max(r[2],g,v,m,x),r[3]=Math.max(r[3],w,S,y,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,u=s**2+a**2,h=(o+u)/2,d=Math.sqrt(h**2-(o*u-l**2));t[0]=Math.sqrt(h+d||1),t[1]=Math.sqrt(h-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,t,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],t),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],t)}static rectBoundingBox(e,t,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],t,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],t,i)}static bezierBoundingBox(e,t,r,i,s,a,o,l,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l),k(this,dl,k2).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),k(this,dl,k2).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u)}}dl=new WeakSet,Kx=function(e,t,r,i,s,a,o,l,u,h){if(u<=0||u>=1)return;const d=1-u,f=u*u,p=f*u,g=d*(d*(d*e+3*u*t)+3*f*r)+p*i,m=d*(d*(d*s+3*u*a)+3*f*o)+p*l;h[0]=Math.min(h[0],g),h[1]=Math.min(h[1],m),h[2]=Math.max(h[2],g),h[3]=Math.max(h[3],m)},k2=function(e,t,r,i,s,a,o,l,u,h,d,f){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&k(this,dl,Kx).call(this,e,t,r,i,s,a,o,l,-d/h,f);return}const p=h**2-4*d*u;if(p<0)return;const g=Math.sqrt(p),m=2*u;k(this,dl,Kx).call(this,e,t,r,i,s,a,o,l,(-h+g)/m,f),k(this,dl,Kx).call(this,e,t,r,i,s,a,o,l,(-h-g)/m,f)},_(Re,dl);function Gz(n){return decodeURIComponent(escape(n))}let XS=null,NP=null;function Xz(n){return XS||(XS=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NP=new Map([["","t"]])),n.replaceAll(XS,(e,t,r)=>t?t.normalize("NFKC"):NP.get(r))}function r4(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),n4(n)}const sf="pdfjs_internal_id_";function Yz(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[r,i,...s]=t;if(!n(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Or(n,e,t){return Math.min(Math.max(n,e),t)}function i4(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(n4(n))}function Kz(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):T1(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class gg{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(gg.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class s4{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var d,f;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&gg.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const h=[[i,-1,a]];for(;h.length>0;){const[p,g,m]=h.at(-1);if(g+1===p.children.length){h.pop();continue}const v=p.children[++h.at(-1)[1]];if(v===null)continue;const{name:x}=v;if(x==="#text"){const y=document.createTextNode(v.value);u.push(y),m.append(y);continue}const w=(d=v==null?void 0:v.attributes)!=null&&d.xmlns?document.createElementNS(v.attributes.xmlns,x):document.createElement(x);if(m.append(w),v.attributes&&this.setAttributes({html:w,element:v,storage:t,intent:s,linkService:r}),((f=v.children)==null?void 0:f.length)>0)h.push([v,-1,w]);else if(v.value){const y=document.createTextNode(v.value);o&&gg.shouldBuildText(x)&&u.push(y),w.append(y)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const vo="http://www.w3.org/2000/svg",Tu=class Tu{};de(Tu,"CSS",96),de(Tu,"PDF",72),de(Tu,"PDF_TO_CSS_UNITS",Tu.CSS/Tu.PDF);let iu=Tu;async function b1(n,e="text"){if(om(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class C1{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,d,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,d=0,f=0,p=1;break;case 90:h=0,d=1,f=1,p=0;break;case 270:h=0,d=-1,f=-1,p=0;break;case 0:h=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let g,m,v,x;h===0?(g=Math.abs(u-e[1])*r+s,m=Math.abs(l-e[0])*r+a,v=(e[3]-e[1])*r,x=(e[2]-e[0])*r):(g=Math.abs(l-e[0])*r+s,m=Math.abs(u-e[1])*r+a,v=(e[2]-e[0])*r,x=(e[3]-e[1])*r),this.transform=[h*r,d*r,f*r,p*r,g-h*r*l-f*r*u,m-d*r*l-p*r*u],this.width=v,this.height=x}get rawDims(){const e=this.viewBox;return $e(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new C1({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){const r=[e,t];return Re.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const t=[e[0],e[1]];Re.applyTransform(t,this.transform);const r=[e[2],e[3]];return Re.applyTransform(r,this.transform),[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){const r=[e,t];return Re.applyInverseTransform(r,this.transform),r}}class Ib extends wd{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function jE(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function Ob(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function qz(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Qz(n,e="document.pdf"){if(typeof n!="string")return e;if(jE(n))return Le('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const u of o)if(s.test(u))return i(u);const l=Array.from(r.searchParams.keys()).reverse();for(const u of l)if(s.test(u))return i(u)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class DP{constructor(){de(this,"started",Object.create(null));de(this,"times",[])}time(e){e in this.started&&Le(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Le(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function om(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function ks(n){n.preventDefault()}function on(n){n.preventDefault(),n.stopPropagation()}function Jz(n){console.log("Deprecated API usage: "+n)}var kg;class ow{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;c(this,kg)||E(this,kg,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=c(this,kg).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,u==="-"?(a+=h,o+=d):u==="+"&&(a-=h,o-=d),new Date(Date.UTC(r,i,s,a,o,l))}}kg=new WeakMap,_(ow,kg);function Zz(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new C1({viewBox:s,userUnit:1,scale:e,rotation:t})}function k1(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Le(`Not a valid color format: "${n}"`),[0,0,0])}function eW(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,k1(r))}e.remove()}function Vt(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function xa(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function cd(n,e,t=!1,r=!0){if(e instanceof C1){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=ir.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,u=`var(--total-scale-factor) * ${s}px`,h=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=h,a.height=d):(a.width=d,a.height=h)}r&&n.setAttribute("data-main-rotation",e.rotation)}class ao{constructor(){const{pixelRatio:e}=ao;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=ao.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*t))),i!==-1&&(o=i/e,l=i/t);const u=Math.min(a,o,l);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,r):r}return e}}const P2=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class tW{static get isDarkMode(){var e;return $e(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class nW{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),$e(this,"commentForegroundColor",k1(r))}}function rW(n,e,t,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return n=Math.round(n*r+i),e=Math.round(e*r+i),t=Math.round(t*r+i),[n,e,t]}function IP(n,e){const t=n[0]/255,r=n[1]/255,i=n[2]/255,s=Math.max(t,r,i),a=Math.min(t,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case t:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-t)/l+2)*60;break;case i:e[0]=((t-r)/l+4)*60;break}}e[2]=o}function R2(n,e){const t=n[0],r=n[1],i=n[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(t/60%2-1)),o=i-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function OP(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function MP(n,e,t){R2(n,t),t.map(OP);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];R2(e,t),t.map(OP);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const LP=new Map;function iW(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=LP.get(t);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);IP(n,a);const o=i.subarray(6,9);IP(e,o);const l=o[2]<.5,u=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),MP(a,o,s)<u){let h,d;l?(h=a[2],d=1):(h=0,d=a[2]);const f=.005;for(;d-h>f;){const p=a[2]=(h+d)/2;l===MP(a,o,s)<u?h=p:d=p}a[2]=l?d:h}return R2(a,s),r=Re.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),LP.set(t,r),r}function a4({html:n,dir:e,className:t},r){const i=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const u=a[o];s.append(document.createTextNode(u)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else s4.render({xfaHtml:n,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),r.append(i)}function o4(n){const e=new Path2D;if(!n)return e;for(let t=0,r=n.length;t<r;)switch(n[t++]){case qp.moveTo:e.moveTo(n[t++],n[t++]);break;case qp.lineTo:e.lineTo(n[t++],n[t++]);break;case qp.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case qp.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case qp.closePath:e.closePath();break;default:Le(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Xl,Yl,as,os,Pg,Kl,Mf,Lf,Rg,Iw,l4,nr,c4,u4,Bd,lm;const Eo=class Eo{constructor(e){_(this,nr);_(this,Xl,null);_(this,Yl,null);_(this,as);_(this,os,null);_(this,Pg,null);_(this,Kl,null);_(this,Mf,null);_(this,Lf,null);E(this,as,e),c(Eo,Rg)||E(Eo,Rg,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=E(this,Xl,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=c(this,as)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",ks,{signal:t}),e.addEventListener("pointerdown",k(Eo,Iw,l4),{signal:t}));const r=E(this,os,document.createElement("div"));r.className="buttons",e.append(r);const i=c(this,as).toolbarPosition;if(i){const{style:s}=e,a=c(this,as)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return c(this,Xl)}hide(){var e;c(this,Xl).classList.add("hidden"),(e=c(this,Yl))==null||e.hideDropdown()}show(){var e,t;c(this,Xl).classList.remove("hidden"),(e=c(this,Pg))==null||e.shown(),(t=c(this,Kl))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=c(this,as),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",c(Eo,Rg)[e]),k(this,nr,Bd).call(this,r)&&r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),c(this,os).append(r)}async addAltText(e){const t=await e.render();k(this,nr,Bd).call(this,t),c(this,os).append(t,c(this,nr,lm)),E(this,Pg,e)}addComment(e,t=null){if(c(this,Kl))return;const r=e.renderForToolbar();if(!r)return;k(this,nr,Bd).call(this,r);const i=E(this,Mf,c(this,nr,lm));t?(c(this,os).insertBefore(r,t),c(this,os).insertBefore(i,t)):c(this,os).append(r,i),E(this,Kl,e),e.toolbar=this}addColorPicker(e){if(c(this,Yl))return;E(this,Yl,e);const t=e.renderButton();k(this,nr,Bd).call(this,t),c(this,os).append(t,c(this,nr,lm))}async addEditSignatureButton(e){const t=E(this,Lf,await e.renderEditButton(c(this,as)));k(this,nr,Bd).call(this,t),c(this,os).append(t,c(this,nr,lm))}removeButton(e){var t,r;switch(e){case"comment":(t=c(this,Kl))==null||t.removeToolbarCommentButton(),E(this,Kl,null),(r=c(this,Mf))==null||r.remove(),E(this,Mf,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,r){if(!t&&e==="comment")return;const i=c(this,os).querySelector(r);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){c(this,Lf)&&(c(this,Lf).title=e)}remove(){var e;c(this,Xl).remove(),(e=c(this,Yl))==null||e.destroy(),E(this,Yl,null)}};Xl=new WeakMap,Yl=new WeakMap,as=new WeakMap,os=new WeakMap,Pg=new WeakMap,Kl=new WeakMap,Mf=new WeakMap,Lf=new WeakMap,Rg=new WeakMap,Iw=new WeakSet,l4=function(e){e.stopPropagation()},nr=new WeakSet,c4=function(e){c(this,as)._focusEventsAllowed=!1,on(e)},u4=function(e){c(this,as)._focusEventsAllowed=!0,on(e)},Bd=function(e){const t=c(this,as)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",k(this,nr,c4).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",k(this,nr,u4).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ks,{signal:t}),!0)},lm=function(){const e=document.createElement("div");return e.className="divider",e},_(Eo,Iw),_(Eo,Rg,null);let F2=Eo;var Fg,Lu,To,_l,h4,d4,N2;class sW{constructor(e){_(this,_l);_(this,Fg,null);_(this,Lu,null);_(this,To);E(this,To,e)}show(e,t,r){const[i,s]=k(this,_l,d4).call(this,t,r),{style:a}=c(this,Lu)||E(this,Lu,k(this,_l,h4).call(this));e.append(c(this,Lu)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Lu).remove()}}Fg=new WeakMap,Lu=new WeakMap,To=new WeakMap,_l=new WeakSet,h4=function(){const e=E(this,Lu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=c(this,To)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",ks,{signal:t});const r=E(this,Fg,document.createElement("div"));return r.className="buttons",e.append(r),c(this,To).hasCommentManager()&&k(this,_l,N2).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{c(this,To).commentSelection("floating_button")}),k(this,_l,N2).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{c(this,To).highlightSelection("floating_button")}),e},d4=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},N2=function(e,t,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=c(this,To)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",ks,{signal:o}),s.addEventListener("click",i,{signal:o})),c(this,Fg).append(s)};function f4(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var Bu,ju,Bf,Uu;const gt=class gt{static initializeAndAddPointerId(e){(c(gt,ju)||E(gt,ju,new Set)).add(e)}static setPointer(e,t){c(gt,Bu)||E(gt,Bu,t),c(gt,Uu)??E(gt,Uu,e)}static setTimeStamp(e){E(gt,Bf,e)}static isSamePointerId(e){return c(gt,Bu)===e}static isSamePointerIdOrRemove(e){var t;return c(gt,Bu)===e?!0:((t=c(gt,ju))==null||t.delete(e),!1)}static isSamePointerType(e){return c(gt,Uu)===e}static isInitializedAndDifferentPointerType(e){return c(gt,Uu)!==null&&!gt.isSamePointerType(e)}static isSameTimeStamp(e){return c(gt,Bf)===e}static isUsingMultiplePointers(){var e;return((e=c(gt,ju))==null?void 0:e.size)>=1}static clearPointerType(){E(gt,Uu,null)}static clearPointerIds(){E(gt,Bu,NaN),E(gt,ju,null)}static clearTimeStamp(){E(gt,Bf,NaN)}};Bu=new WeakMap,ju=new WeakMap,Bf=new WeakMap,Uu=new WeakMap,_(gt,Bu,NaN),_(gt,ju,null),_(gt,Bf,NaN),_(gt,Uu,null);let mr=gt;var Ow;class aW{constructor(){_(this,Ow,0)}get id(){return`${pg}${Qt(this,Ow)._++}`}}Ow=new WeakMap;var jf,Ng,vr,Uf,qx;const EC=class EC{constructor(){_(this,Uf);_(this,jf,r4());_(this,Ng,0);_(this,vr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return $e(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return k(this,Uf,qx).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return k(this,Uf,qx).call(this,e,e)}async getFromBlob(e,t){const r=await t;return k(this,Uf,qx).call(this,e,r)}async getFromId(e){c(this,vr)||E(this,vr,new Map);const t=c(this,vr).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){c(this,vr)||E(this,vr,new Map);let r=c(this,vr).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${c(this,jf)}_${Qt(this,Ng)._++}`,refCounter:1,isSvg:!1},c(this,vr).set(e,r),c(this,vr).set(r.id,r),r}getSvgUrl(e){const t=c(this,vr).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;c(this,vr)||E(this,vr,new Map);const t=c(this,vr).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,jf)}_`)}};jf=new WeakMap,Ng=new WeakMap,vr=new WeakMap,Uf=new WeakSet,qx=async function(e,t){c(this,vr)||E(this,vr,new Map);let r=c(this,vr).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${c(this,jf)}_${Qt(this,Ng)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await b1(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=EC._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,h)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const d=r.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=h});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Le(i),r=null}return c(this,vr).set(e,r),r&&c(this,vr).set(r.id,r),r};let D2=EC;var un,ql,Dg,Wt;class oW{constructor(e=128){_(this,un,[]);_(this,ql,!1);_(this,Dg);_(this,Wt,-1);E(this,Dg,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),c(this,ql))return;const l={cmd:e,undo:t,post:r,type:s};if(c(this,Wt)===-1){c(this,un).length>0&&(c(this,un).length=0),E(this,Wt,0),c(this,un).push(l);return}if(a&&c(this,un)[c(this,Wt)].type===s){o&&(l.undo=c(this,un)[c(this,Wt)].undo),c(this,un)[c(this,Wt)]=l;return}const u=c(this,Wt)+1;u===c(this,Dg)?c(this,un).splice(0,1):(E(this,Wt,u),u<c(this,un).length&&c(this,un).splice(u)),c(this,un).push(l)}undo(){if(c(this,Wt)===-1)return;E(this,ql,!0);const{undo:e,post:t}=c(this,un)[c(this,Wt)];e(),t==null||t(),E(this,ql,!1),E(this,Wt,c(this,Wt)-1)}redo(){if(c(this,Wt)<c(this,un).length-1){E(this,Wt,c(this,Wt)+1),E(this,ql,!0);const{cmd:e,post:t}=c(this,un)[c(this,Wt)];e(),t==null||t(),E(this,ql,!1)}}hasSomethingToUndo(){return c(this,Wt)!==-1}hasSomethingToRedo(){return c(this,Wt)<c(this,un).length-1}cleanType(e){if(c(this,Wt)!==-1){for(let t=c(this,Wt);t>=0;t--)if(c(this,un)[t].type!==e){c(this,un).splice(t+1,c(this,Wt)-t),E(this,Wt,t);return}c(this,un).length=0,E(this,Wt,-1)}}destroy(){E(this,un,null)}}un=new WeakMap,ql=new WeakMap,Dg=new WeakMap,Wt=new WeakMap;var Mw,p4;class P1{constructor(e){_(this,Mw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=ir.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(k(this,Mw,p4).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||on(t))}}Mw=new WeakSet,p4=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Lw=class Lw{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return eW(e),$e(this,"_colors",e)}convert(e){const t=k1(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return Lw._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Re.makeHexColor(...t):e}};de(Lw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let I2=Lw;var Hf,xi,$f,Zt,An,zf,ls,Wf,cs,xr,Ql,Jl,Vf,Zl,Ra,us,Hu,Ig,Og,Gf,Mg,Fa,ec,Xf,tc,Na,Bw,nc,Yf,Lg,rc,$u,Kf,ic,Bg,gn,ct,bo,sc,ac,jg,qf,Ug,oc,Da,Co,Hg,$g,hs,Se,Qx,O2,m4,g4,cm,v4,x4,y4,M2,w4,E4,S4,_4,kr,xo,A4,T4,L2,b4,um,B2;const lf=class lf{constructor(e,t,r,i,s,a,o,l,u,h,d,f,p,g,m,v){_(this,Se);_(this,Hf,new AbortController);_(this,xi,null);_(this,$f,null);_(this,Zt,new Map);_(this,An,new Map);_(this,zf,null);_(this,ls,null);_(this,Wf,null);_(this,cs,new oW);_(this,xr,null);_(this,Ql,null);_(this,Jl,null);_(this,Vf,0);_(this,Zl,new Set);_(this,Ra,null);_(this,us,null);_(this,Hu,new Set);de(this,"_editorUndoBar",null);_(this,Ig,!1);_(this,Og,!1);_(this,Gf,!1);_(this,Mg,null);_(this,Fa,null);_(this,ec,null);_(this,Xf,null);_(this,tc,!1);_(this,Na,null);_(this,Bw,new aW);_(this,nc,!1);_(this,Yf,!1);_(this,Lg,!1);_(this,rc,null);_(this,$u,null);_(this,Kf,null);_(this,ic,null);_(this,Bg,null);_(this,gn,Ue.NONE);_(this,ct,new Set);_(this,bo,null);_(this,sc,null);_(this,ac,null);_(this,jg,null);_(this,qf,null);_(this,Ug,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});_(this,oc,[0,0]);_(this,Da,null);_(this,Co,null);_(this,Hg,null);_(this,$g,null);_(this,hs,null);const x=this._signal=c(this,Hf).signal;E(this,Co,e),E(this,Hg,t),E(this,$g,r),E(this,zf,i),E(this,xr,s),E(this,sc,a),E(this,qf,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:x}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),o._on("setpreference",this.onSetPreference.bind(this),{signal:x}),o._on("switchannotationeditorparams",w=>this.updateParams(w.type,w.value),{signal:x}),window.addEventListener("pointerdown",()=>{E(this,Yf,!0)},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{E(this,Yf,!1)},{capture:!0,signal:x}),k(this,Se,v4).call(this),k(this,Se,_4).call(this),k(this,Se,M2).call(this),E(this,ls,l.annotationStorage),E(this,Mg,l.filterFactory),E(this,ac,u),E(this,Xf,h||null),E(this,Ig,d),E(this,Og,f),E(this,Gf,p),E(this,Bg,g||null),this.viewParameters={realScale:iu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=v!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=lf.prototype,t=a=>c(a,Co).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return $e(this,"_keyboardManager",new P1([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,Co).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&c(a,Co).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s,a,o,l,u;(e=c(this,hs))==null||e.resolve(),E(this,hs,null),(t=c(this,Hf))==null||t.abort(),E(this,Hf,null),this._signal=null;for(const h of c(this,An).values())h.destroy();c(this,An).clear(),c(this,Zt).clear(),c(this,Hu).clear(),(r=c(this,ic))==null||r.clear(),E(this,xi,null),c(this,ct).clear(),c(this,cs).destroy(),(i=c(this,zf))==null||i.destroy(),(s=c(this,xr))==null||s.destroy(),(a=c(this,sc))==null||a.destroy(),(o=c(this,Na))==null||o.hide(),E(this,Na,null),(l=c(this,Kf))==null||l.destroy(),E(this,Kf,null),E(this,$f,null),c(this,Fa)&&(clearTimeout(c(this,Fa)),E(this,Fa,null)),c(this,Da)&&(clearTimeout(c(this,Da)),E(this,Da,null)),(u=this._editorUndoBar)==null||u.destroy(),E(this,qf,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,Bg)}get useNewAltTextFlow(){return c(this,Og)}get useNewAltTextWhenAddingImage(){return c(this,Gf)}get hcmFilter(){return $e(this,"hcmFilter",c(this,ac)?c(this,Mg).addHCMFilter(c(this,ac).foreground,c(this,ac).background):"none")}get direction(){return $e(this,"direction",getComputedStyle(c(this,Co)).direction)}get _highlightColors(){return $e(this,"_highlightColors",c(this,Xf)?new Map(c(this,Xf).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return $e(this,"highlightColors",null);const t=new Map,r=!!c(this,ac);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){t.set(i.replace("_HCM",""),s);continue}!r&&!a&&t.set(i,s)}return $e(this,"highlightColors",t)}get highlightColorNames(){return $e(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),E(this,Jl,e)}setMainHighlightColorPicker(e){E(this,Kf,e)}editAltText(e,t=!1){var r;(r=c(this,zf))==null||r.editAltText(this,e,t)}hasCommentManager(){return!!c(this,xr)}editComment(e,t,r,i){var s;(s=c(this,xr))==null||s.showDialog(this,e,t,r,i)}selectComment(e,t){const r=c(this,An).get(e),i=r==null?void 0:r.getEditorByUID(t);i==null||i.toggleComment(!0,!0)}updateComment(e){var t;(t=c(this,xr))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=c(this,xr))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=c(this,xr))==null||t.removeComments([e.uid])}toggleComment(e,t,r=void 0){var i;(i=c(this,xr))==null||i.toggleCommentPopup(e,t,r)}makeCommentColor(e,t){var r;return e&&((r=c(this,xr))==null?void 0:r.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=c(this,xr))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(c(this,An).has(e-1))return;const{resolve:t,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var t;(t=c(this,sc))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return c(this,sc)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":E(this,Gf,t);break}}onPageChanging({pageNumber:e}){E(this,Vf,e-1)}focusMainContainer(){c(this,Co).focus()}findParent(e,t){for(const r of c(this,An).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){c(this,Hg).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,Hu).add(e)}removeShouldRescale(e){c(this,Hu).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*iu.PDF_TO_CSS_UNITS;for(const r of c(this,Hu))r.onScaleChanging();(t=c(this,Jl))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),h=k(this,Se,Qx).call(this,r).closest(".textLayer"),d=this.getSelectionBoxes(h);if(!d)return;r.empty();const f=k(this,Se,O2).call(this,h),p=c(this,gn)===Ue.NONE,g=()=>{const m=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});p&&this.showAllEditors("highlight",!0,!0),t&&(m==null||m.editComment())};if(p){this.switchToMode(Ue.HIGHLIGHT,g);return}g()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!c(this,ls))return null;const t=`${pg}${e}`,r=c(this,ls).getRawValue(t);return r&&c(this,ls).remove(t),r}addToAnnotationStorage(e){!e.isEmpty()&&c(this,ls)&&!c(this,ls).has(e.id)&&c(this,ls).setValue(e.id,e)}a11yAlert(e,t=null){const r=c(this,$g);r&&(r.setAttribute("data-l10n-id",e),t?r.setAttribute("data-l10n-args",JSON.stringify(t)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,c(this,tc)&&(E(this,tc,!1),k(this,Se,cm).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of c(this,ct))if(t.div.contains(e)){E(this,$u,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!c(this,$u))return;const[e,t]=c(this,$u);E(this,$u,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){k(this,Se,M2).call(this),this.setEditingState(!0)}removeEditListeners(){k(this,Se,w4).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of c(this,us))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of c(this,us))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=c(this,xi))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of c(this,ct)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of c(this,us))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Le(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)k(this,Se,L2).call(this,l);k(this,Se,B2).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Le(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,gn)!==Ue.NONE&&!this.isEditorHandlingKeyboard&&lf._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,tc)&&(E(this,tc,!1),k(this,Se,cm).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(k(this,Se,x4).call(this),k(this,Se,E4).call(this),k(this,Se,kr).call(this,{isEditing:c(this,gn)!==Ue.NONE,isEmpty:k(this,Se,um).call(this),hasSomethingToUndo:c(this,cs).hasSomethingToUndo(),hasSomethingToRedo:c(this,cs).hasSomethingToRedo(),hasSelectedEditor:!1})):(k(this,Se,y4).call(this),k(this,Se,S4).call(this),k(this,Se,kr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,us)){E(this,us,e);for(const t of c(this,us))k(this,Se,xo).call(this,t.defaultPropertiesToUpdate)}}getId(){return c(this,Bw).id}get currentLayer(){return c(this,An).get(c(this,Vf))}getLayer(e){return c(this,An).get(e)}get currentPageIndex(){return c(this,Vf)}addLayer(e){c(this,An).set(e.pageIndex,e),c(this,nc)?e.enable():e.disable()}removeLayer(e){c(this,An).delete(e.pageIndex)}async updateMode(e,t=null,r=!1,i=!1,s=!1){var a,o,l,u,h,d;if(c(this,gn)!==e&&!(c(this,hs)&&(await c(this,hs).promise,!c(this,hs)))){if(E(this,hs,Promise.withResolvers()),(a=c(this,Jl))==null||a.commitOrRemove(),c(this,gn)===Ue.POPUP&&((o=c(this,xr))==null||o.hideSidebar()),(l=c(this,xr))==null||l.destroyPopup(),E(this,gn,e),e===Ue.NONE){this.setEditingState(!1),k(this,Se,T4).call(this);for(const f of c(this,Zt).values())f.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),c(this,hs).resolve();return}for(const f of c(this,Zt).values())f.addStandaloneCommentButton();e===Ue.SIGNATURE&&await((h=c(this,sc))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await k(this,Se,A4).call(this),this.unselectAll();for(const f of c(this,An).values())f.updateMode(e);if(e===Ue.POPUP){c(this,$f)||E(this,$f,await c(this,qf).getAnnotationsByType(new Set(c(this,us).map(g=>g._editorType))));const f=new Set,p=[];for(const g of c(this,Zt).values()){const{annotationElementId:m,hasComment:v,deleted:x}=g;m&&f.add(m),v&&!x&&p.push(g.getData())}for(const g of c(this,$f)){const{id:m,popupRef:v,contentsObj:x}=g;v&&(x!=null&&x.str)&&!f.has(m)&&!c(this,Zl).has(m)&&p.push(g)}(d=c(this,xr))==null||d.showSidebar(p)}if(!t){r&&this.addNewEditorFromKeyboard(),c(this,hs).resolve();return}for(const f of c(this,Zt).values())f.uid===t?(this.setSelected(f),s?f.editComment():i?f.enterInEditMode():f.focus()):f.unselect();c(this,hs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==c(this,gn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(c(this,us)){switch(e){case Je.CREATE:this.currentLayer.addNewEditor(t);return;case Je.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,jg)||E(this,jg,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const r of c(this,ct))r.updateParams(e,t);else for(const r of c(this,us))r.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of c(this,Zt).values())a.editorType===e&&a.show(t);(((s=c(this,jg))==null?void 0:s.get(Je.HIGHLIGHT_SHOW_ALL))??!0)!==t&&k(this,Se,xo).call(this,[[Je.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(c(this,Lg)!==e){E(this,Lg,e);for(const t of c(this,An).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of c(this,Zt).values())t.pageIndex===e&&(yield t)}getEditor(e){return c(this,Zt).get(e)}addEditor(e){c(this,Zt).set(e.id,e)}removeEditor(e){var t,r;e.div.contains(document.activeElement)&&(c(this,Fa)&&clearTimeout(c(this,Fa)),E(this,Fa,setTimeout(()=>{this.focusMainContainer(),E(this,Fa,null)},0))),c(this,Zt).delete(e.id),e.annotationElementId&&((t=c(this,ic))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!c(this,Zl).has(e.annotationElementId))&&((r=c(this,ls))==null||r.remove(e.id))}addDeletedAnnotationElement(e){c(this,Zl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Zl).has(e)}removeDeletedAnnotationElement(e){c(this,Zl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,xi)!==e&&(E(this,xi,e),e&&k(this,Se,xo).call(this,e.propertiesToUpdate))}updateUI(e){c(this,Se,b4)===e&&k(this,Se,xo).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){k(this,Se,xo).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(c(this,ct).has(e)){c(this,ct).delete(e),e.unselect(),k(this,Se,kr).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,ct).add(e),e.select(),k(this,Se,xo).call(this,e.propertiesToUpdate),k(this,Se,kr).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=c(this,Jl))==null||t.commitOrRemove();for(const r of c(this,ct))r!==e&&r.unselect();c(this,ct).clear(),c(this,ct).add(e),e.select(),k(this,Se,xo).call(this,e.propertiesToUpdate),k(this,Se,kr).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,ct).has(e)}get firstSelectedEditor(){return c(this,ct).values().next().value}unselect(e){e.unselect(),c(this,ct).delete(e),k(this,Se,kr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,ct).size!==0}get isEnterHandled(){return c(this,ct).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;c(this,cs).undo(),k(this,Se,kr).call(this,{hasSomethingToUndo:c(this,cs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:k(this,Se,um).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){c(this,cs).redo(),k(this,Se,kr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,cs).hasSomethingToRedo(),isEmpty:k(this,Se,um).call(this)})}addCommands(e){c(this,cs).add(e),k(this,Se,kr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:k(this,Se,um).call(this)})}cleanUndoStack(e){c(this,cs).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...c(this,ct)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)k(this,Se,L2).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=c(this,xi))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,xi)||this.hasSelection}selectAll(){for(const e of c(this,ct))e.commit();k(this,Se,B2).call(this,c(this,Zt).values())}unselectAll(){var e;if(!(c(this,xi)&&(c(this,xi).commitOrRemove(),c(this,gn)!==Ue.NONE))&&!((e=c(this,Jl))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of c(this,ct))t.unselect();c(this,ct).clear(),k(this,Se,kr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;c(this,oc)[0]+=e,c(this,oc)[1]+=t;const[i,s]=c(this,oc),a=[...c(this,ct)],o=1e3;c(this,Da)&&clearTimeout(c(this,Da)),E(this,Da,setTimeout(()=>{E(this,Da,null),c(this,oc)[0]=c(this,oc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)c(this,Zt).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)c(this,Zt).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),E(this,Ra,new Map);for(const e of c(this,ct))c(this,Ra).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Ra))return!1;this.disableUserSelect(!1);const e=c(this,Ra);E(this,Ra,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(c(this,Zt).has(i.id)){const l=c(this,An).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(c(this,Ra))for(const r of c(this,Ra).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,ct).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,xi)===e}getActive(){return c(this,xi)}getMode(){return c(this,gn)}isEditingMode(){return c(this,gn)!==Ue.NONE}get imageManager(){return $e(this,"imageManager",new D2)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,h,d,f)=>({x:(h-i)/a,y:1-(u+d-r)/s,width:f/a,height:d/s});break;case"180":o=(u,h,d,f)=>({x:1-(u+d-r)/s,y:1-(h+f-i)/a,width:d/s,height:f/a});break;case"270":o=(u,h,d,f)=>({x:1-(h+f-i)/a,y:(u-r)/s,width:f/a,height:d/s});break;default:o=(u,h,d,f)=>({x:(u-r)/s,y:(h-i)/a,width:d/s,height:f/a});break}const l=[];for(let u=0,h=t.rangeCount;u<h;u++){const d=t.getRangeAt(u);if(!d.collapsed)for(const{x:f,y:p,width:g,height:m}of d.getClientRects())g===0||m===0||l.push(o(f,p,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(c(this,Wf)||E(this,Wf,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=c(this,Wf))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=c(this,Wf))==null?void 0:i.get(e.data.id);if(!t)return;const r=c(this,ls).getRawValue(t);r&&(c(this,gn)===Ue.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,t,r){var s;const i=(s=c(this,ic))==null?void 0:s.get(e);i&&(i.setCanvas(t,r),c(this,ic).delete(e))}addMissingCanvas(e,t){(c(this,ic)||E(this,ic,new Map)).set(e,t)}};Hf=new WeakMap,xi=new WeakMap,$f=new WeakMap,Zt=new WeakMap,An=new WeakMap,zf=new WeakMap,ls=new WeakMap,Wf=new WeakMap,cs=new WeakMap,xr=new WeakMap,Ql=new WeakMap,Jl=new WeakMap,Vf=new WeakMap,Zl=new WeakMap,Ra=new WeakMap,us=new WeakMap,Hu=new WeakMap,Ig=new WeakMap,Og=new WeakMap,Gf=new WeakMap,Mg=new WeakMap,Fa=new WeakMap,ec=new WeakMap,Xf=new WeakMap,tc=new WeakMap,Na=new WeakMap,Bw=new WeakMap,nc=new WeakMap,Yf=new WeakMap,Lg=new WeakMap,rc=new WeakMap,$u=new WeakMap,Kf=new WeakMap,ic=new WeakMap,Bg=new WeakMap,gn=new WeakMap,ct=new WeakMap,bo=new WeakMap,sc=new WeakMap,ac=new WeakMap,jg=new WeakMap,qf=new WeakMap,Ug=new WeakMap,oc=new WeakMap,Da=new WeakMap,Co=new WeakMap,Hg=new WeakMap,$g=new WeakMap,hs=new WeakMap,Se=new WeakSet,Qx=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},O2=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of c(this,An).values())if(r.hasTextLayer(e))return r;return null},m4=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=k(this,Se,Qx).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(c(this,Na)||E(this,Na,new sW(this)),c(this,Na).show(r,i,this.direction==="ltr"))},g4=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){c(this,bo)&&((s=c(this,Na))==null||s.hide(),E(this,bo,null),k(this,Se,kr).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===c(this,bo))return;const i=k(this,Se,Qx).call(this,e).closest(".textLayer");if(!i){c(this,bo)&&((a=c(this,Na))==null||a.hide(),E(this,bo,null),k(this,Se,kr).call(this,{hasSelectedText:!1}));return}if((o=c(this,Na))==null||o.hide(),E(this,bo,t),k(this,Se,kr).call(this,{hasSelectedText:!0}),!(c(this,gn)!==Ue.HIGHLIGHT&&c(this,gn)!==Ue.NONE)&&(c(this,gn)===Ue.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),E(this,tc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=c(this,gn)===Ue.HIGHLIGHT?k(this,Se,O2).call(this,i):null;if(l==null||l.toggleDrawing(),c(this,Yf)){const u=new AbortController,h=this.combinedSignal(u),d=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&k(this,Se,cm).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}else l==null||l.toggleDrawing(!0),k(this,Se,cm).call(this,"main_toolbar")}},cm=function(e=""){c(this,gn)===Ue.HIGHLIGHT?this.highlightSelection(e):c(this,Ig)&&k(this,Se,m4).call(this)},v4=function(){document.addEventListener("selectionchange",k(this,Se,g4).bind(this),{signal:this._signal})},x4=function(){if(c(this,ec))return;E(this,ec,new AbortController);const e=this.combinedSignal(c(this,ec));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},y4=function(){var e;(e=c(this,ec))==null||e.abort(),E(this,ec,null)},M2=function(){if(c(this,rc))return;E(this,rc,new AbortController);const e=this.combinedSignal(c(this,rc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},w4=function(){var e;(e=c(this,rc))==null||e.abort(),E(this,rc,null)},E4=function(){if(c(this,Ql))return;E(this,Ql,new AbortController);const e=this.combinedSignal(c(this,Ql));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},S4=function(){var e;(e=c(this,Ql))==null||e.abort(),E(this,Ql,null)},_4=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},kr=function(e){Object.entries(e).some(([r,i])=>c(this,Ug)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,Ug),e)}),c(this,gn)===Ue.HIGHLIGHT&&e.hasSelectedEditor===!1&&k(this,Se,xo).call(this,[[Je.HIGHLIGHT_FREE,!0]]))},xo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},A4=async function(){if(!c(this,nc)){E(this,nc,!0);const e=[];for(const t of c(this,An).values())e.push(t.enable());await Promise.all(e);for(const t of c(this,Zt).values())t.enable()}},T4=function(){if(this.unselectAll(),c(this,nc)){E(this,nc,!1);for(const e of c(this,An).values())e.disable();for(const e of c(this,Zt).values())e.disable()}},L2=function(e){const t=c(this,An).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},b4=function(){let e=null;for(e of c(this,ct));return e},um=function(){if(c(this,Zt).size===0)return!0;if(c(this,Zt).size===1)for(const e of c(this,Zt).values())return e.isEmpty();return!1},B2=function(e){for(const t of c(this,ct))t.unselect();c(this,ct).clear();for(const t of e)t.isEmpty()||(c(this,ct).add(t),t.select());k(this,Se,kr).call(this,{hasSelectedEditor:this.hasSelection})},de(lf,"TRANSLATE_SMALL",1),de(lf,"TRANSLATE_BIG",10);let ud=lf;var Rn,Ia,$s,Qf,Oa,yi,Jf,Ma,Yr,ko,zu,La,lc,ia,hm,Jx;const Pr=class Pr{constructor(e){_(this,ia);_(this,Rn,null);_(this,Ia,!1);_(this,$s,null);_(this,Qf,null);_(this,Oa,null);_(this,yi,null);_(this,Jf,!1);_(this,Ma,null);_(this,Yr,null);_(this,ko,null);_(this,zu,null);_(this,La,!1);E(this,Yr,e),E(this,La,e._uiManager.useNewAltTextFlow),c(Pr,lc)||E(Pr,lc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Pr._l10n??(Pr._l10n=e)}async render(){const e=E(this,$s,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=E(this,Qf,document.createElement("span"));e.append(t),c(this,La)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(Pr,lc).missing),t.setAttribute("data-l10n-id",c(Pr,lc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=c(this,Yr)._uiManager._signal;e.addEventListener("contextmenu",ks,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),c(this,Yr)._uiManager.editAltText(c(this,Yr)),c(this,La)&&c(this,Yr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,ia,hm)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(E(this,Jf,!0),i(s))},{signal:r}),await k(this,ia,Jx).call(this),e}finish(){c(this,$s)&&(c(this,$s).focus({focusVisible:c(this,Jf)}),E(this,Jf,!1))}isEmpty(){return c(this,La)?c(this,Rn)===null:!c(this,Rn)&&!c(this,Ia)}hasData(){return c(this,La)?c(this,Rn)!==null||!!c(this,ko):this.isEmpty()}get guessedText(){return c(this,ko)}async setGuessedText(e){c(this,Rn)===null&&(E(this,ko,e),E(this,zu,await Pr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),k(this,ia,Jx).call(this))}toggleAltTextBadge(e=!1){var t;if(!c(this,La)||c(this,Rn)){(t=c(this,Ma))==null||t.remove(),E(this,Ma,null);return}if(!c(this,Ma)){const r=E(this,Ma,document.createElement("div"));r.className="noAltTextBadge",c(this,Yr).div.append(r)}c(this,Ma).classList.toggle("hidden",!e)}serialize(e){let t=c(this,Rn);return!e&&c(this,ko)===t&&(t=c(this,zu)),{altText:t,decorative:c(this,Ia),guessedText:c(this,ko),textWithDisclaimer:c(this,zu)}}get data(){return{altText:c(this,Rn),decorative:c(this,Ia)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(E(this,ko,r),E(this,zu,i)),!(c(this,Rn)===e&&c(this,Ia)===t)&&(s||(E(this,Rn,e),E(this,Ia,t)),k(this,ia,Jx).call(this))}toggle(e=!1){c(this,$s)&&(!e&&c(this,yi)&&(clearTimeout(c(this,yi)),E(this,yi,null)),c(this,$s).disabled=!e)}shown(){c(this,Yr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,ia,hm)}})}destroy(){var e,t;(e=c(this,$s))==null||e.remove(),E(this,$s,null),E(this,Qf,null),E(this,Oa,null),(t=c(this,Ma))==null||t.remove(),E(this,Ma,null)}};Rn=new WeakMap,Ia=new WeakMap,$s=new WeakMap,Qf=new WeakMap,Oa=new WeakMap,yi=new WeakMap,Jf=new WeakMap,Ma=new WeakMap,Yr=new WeakMap,ko=new WeakMap,zu=new WeakMap,La=new WeakMap,lc=new WeakMap,ia=new WeakSet,hm=function(){return c(this,Rn)&&"added"||c(this,Rn)===null&&this.guessedText&&"review"||"missing"},Jx=async function(){var i,s,a;const e=c(this,$s);if(!e)return;if(c(this,La)){if(e.classList.toggle("done",!!c(this,Rn)),e.setAttribute("data-l10n-id",c(Pr,lc)[c(this,ia,hm)]),(i=c(this,Qf))==null||i.setAttribute("data-l10n-id",c(Pr,lc)[`${c(this,ia,hm)}-label`]),!c(this,Rn)){(s=c(this,Oa))==null||s.remove();return}}else{if(!c(this,Rn)&&!c(this,Ia)){e.classList.remove("done"),(a=c(this,Oa))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=c(this,Oa);if(!t){E(this,Oa,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${c(this,Yr).id}`;const o=100,l=c(this,Yr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(c(this,yi)),E(this,yi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{E(this,yi,setTimeout(()=>{E(this,yi,null),c(this,Oa).classList.add("show"),c(this,Yr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;c(this,yi)&&(clearTimeout(c(this,yi)),E(this,yi,null)),(u=c(this,Oa))==null||u.classList.remove("show")},{signal:l})}c(this,Ia)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=c(this,Rn)),t.parentNode||e.append(t);const r=c(this,Yr).getElementForAltText();r==null||r.setAttribute("aria-describedby",t.id)},_(Pr,lc,null),de(Pr,"_l10n",null);let lw=Pr;var Vn,ds,Wu,Rt,zg,Vu,zs,Gu,Xu,Yu,Wg,j2;class fx{constructor(e){_(this,Wg);_(this,Vn,null);_(this,ds,null);_(this,Wu,!1);_(this,Rt,null);_(this,zg,null);_(this,Vu,null);_(this,zs,null);_(this,Gu,null);_(this,Xu,!1);_(this,Yu,null);E(this,Rt,e)}renderForToolbar(){const e=E(this,ds,document.createElement("button"));return e.className="comment",k(this,Wg,j2).call(this,e,!1)}renderForStandalone(){const e=E(this,Vn,document.createElement("button"));e.className="annotationCommentButton";const t=c(this,Rt).commentButtonPosition;if(t){const{style:r}=e;r.insetInlineEnd=`calc(${100*(c(this,Rt)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=c(this,Rt).commentButtonColor;i&&(r.backgroundColor=i)}return k(this,Wg,j2).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=c(this,Vn)??c(this,ds))==null||e.focus()},0)}onUpdatedColor(){if(!c(this,Vn))return;const e=c(this,Rt).commentButtonColor;e&&(c(this,Vn).style.backgroundColor=e),c(this,Rt)._uiManager.updatePopupColor(c(this,Rt))}get commentButtonWidth(){var e;return(((e=c(this,Vn))==null?void 0:e.getBoundingClientRect().width)??0)/c(this,Rt).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(c(this,Yu))return c(this,Yu);if(!c(this,Vn))return null;const{x:e,y:t,height:r}=c(this,Vn).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=c(this,Rt).parent.boundingClientRect;return[(e-i)/a,(t+r-s)/o]}set commentPopupPositionInLayer(e){E(this,Yu,e)}hasDefaultPopupPosition(){return c(this,Yu)===null}removeStandaloneCommentButton(){var e;(e=c(this,Vn))==null||e.remove(),E(this,Vn,null)}removeToolbarCommentButton(){var e;(e=c(this,ds))==null||e.remove(),E(this,ds,null)}setCommentButtonStates({selected:e,hasPopup:t}){c(this,Vn)&&(c(this,Vn).classList.toggle("selected",e),c(this,Vn).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let r,i;if(t)[r,i]=t;else{[r,i]=c(this,Rt).commentButtonPosition;const{width:h,height:d,x:f,y:p}=c(this,Rt);r=f+r*h,i=p+i*d}const s=c(this,Rt).parent.boundingClientRect,{x:a,y:o,width:l,height:u}=s;c(this,Rt)._uiManager.editComment(c(this,Rt),a+r*l,o+i*u,{...e,parentDimensions:s})}finish(){c(this,ds)&&(c(this,ds).focus({focusVisible:c(this,Wu)}),E(this,Wu,!1))}isDeleted(){return c(this,Xu)||c(this,zs)===""}isEmpty(){return c(this,zs)===null}hasBeenEdited(){return this.isDeleted()||c(this,zs)!==c(this,zg)}serialize(){return this.data}get data(){return{text:c(this,zs),richText:c(this,Vu),date:c(this,Gu),deleted:this.isDeleted()}}set data(e){if(e!==c(this,zs)&&E(this,Vu,null),e===null){E(this,zs,""),E(this,Xu,!0);return}E(this,zs,e),E(this,Gu,new Date),E(this,Xu,!1)}setInitialText(e,t=null){E(this,zg,e),this.data=e,E(this,Gu,null),E(this,Vu,t)}shown(){}destroy(){var e,t;(e=c(this,ds))==null||e.remove(),E(this,ds,null),(t=c(this,Vn))==null||t.remove(),E(this,Vn,null),E(this,zs,""),E(this,Vu,null),E(this,Gu,null),E(this,Rt,null),E(this,Wu,!1),E(this,Xu,!1)}}Vn=new WeakMap,ds=new WeakMap,Wu=new WeakMap,Rt=new WeakMap,zg=new WeakMap,Vu=new WeakMap,zs=new WeakMap,Gu=new WeakMap,Xu=new WeakMap,Yu=new WeakMap,Wg=new WeakSet,j2=function(e,t){if(!c(this,Rt)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[c(this,Rt)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=c(this,Rt)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",ks,{signal:r}),t&&(e.addEventListener("focusin",s=>{c(this,Rt)._focusEventsAllowed=!1,on(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{c(this,Rt)._focusEventsAllowed=!0,on(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===c(this,ds)?this.edit():c(this,Rt).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(E(this,Wu,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{c(this,Rt).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{c(this,Rt).toggleComment(!1,!1)},{signal:r}),e};var Zf,Ku,Vg,Gg,Xg,Yg,Kg,Po,qu,Ro,Qu,Fo,lu,C4,k4,P4;const SC=class SC{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){_(this,lu);_(this,Zf);_(this,Ku,!1);_(this,Vg,null);_(this,Gg);_(this,Xg);_(this,Yg);_(this,Kg);_(this,Po,null);_(this,qu);_(this,Ro,null);_(this,Qu);_(this,Fo,null);E(this,Zf,e),E(this,Vg,r),E(this,Gg,t),E(this,Xg,i),E(this,Yg,s),E(this,Kg,a),E(this,Qu,new AbortController),E(this,qu,AbortSignal.any([o,c(this,Qu).signal])),e.addEventListener("touchstart",k(this,lu,C4).bind(this),{passive:!1,signal:c(this,qu)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ao.pixelRatio}destroy(){var e,t;(e=c(this,Qu))==null||e.abort(),E(this,Qu,null),(t=c(this,Po))==null||t.abort(),E(this,Po,null)}};Zf=new WeakMap,Ku=new WeakMap,Vg=new WeakMap,Gg=new WeakMap,Xg=new WeakMap,Yg=new WeakMap,Kg=new WeakMap,Po=new WeakMap,qu=new WeakMap,Ro=new WeakMap,Qu=new WeakMap,Fo=new WeakMap,lu=new WeakSet,C4=function(e){var i,s,a;if((i=c(this,Gg))!=null&&i.call(this))return;if(e.touches.length===1){if(c(this,Po))return;const o=E(this,Po,new AbortController),l=AbortSignal.any([c(this,qu),o.signal]),u=c(this,Zf),h={capture:!0,signal:l,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=c(this,Po))==null||p.abort(),E(this,Po,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(on(f),d(f))},h),u.addEventListener("pointerup",d,h),u.addEventListener("pointercancel",d,h);return}if(!c(this,Fo)){E(this,Fo,new AbortController);const o=AbortSignal.any([c(this,qu),c(this,Fo).signal]),l=c(this,Zf),u={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",k(this,lu,k4).bind(this),u);const h=k(this,lu,P4).bind(this);l.addEventListener("touchend",h,u),l.addEventListener("touchcancel",h,u),u.capture=!0,l.addEventListener("pointerdown",on,u),l.addEventListener("pointermove",on,u),l.addEventListener("pointercancel",on,u),l.addEventListener("pointerup",on,u),(s=c(this,Xg))==null||s.call(this)}if(on(e),e.touches.length!==2||(a=c(this,Vg))!=null&&a.call(this)){E(this,Ro,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),E(this,Ro,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},k4=function(e){var S;if(!c(this,Ro)||e.touches.length!==2)return;on(e);let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,l=c(this,Ro),{touch0X:u,touch0Y:h,touch1X:d,touch1Y:f}=l,p=d-u,g=f-h,m=a-i,v=o-s,x=Math.hypot(m,v)||1,w=Math.hypot(p,g)||1;if(!c(this,Ku)&&Math.abs(w-x)<=SC.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!c(this,Ku)){E(this,Ku,!0);return}const y=[(i+a)/2,(s+o)/2];(S=c(this,Yg))==null||S.call(this,y,w,x)},P4=function(e){var t;e.touches.length>=2||(c(this,Fo)&&(c(this,Fo).abort(),E(this,Fo,null),(t=c(this,Kg))==null||t.call(this)),c(this,Ro)&&(on(e),E(this,Ro,null),E(this,Ku,!1)))};let cw=SC;var Ju,Ws,jt,At,No,e0,cc,qg,Gn,Zu,Do,fs,uc,Qg,eh,wi,Jg,th,Io,Ba,t0,n0,ps,nh,Zg,jw,De,U2,ev,H2,Zx,R4,F4,$2,ey,z2,N4,D4,I4,W2,O4,V2,M4,L4,B4,G2,dm;const je=class je{constructor(e){_(this,De);_(this,Ju,null);_(this,Ws,null);_(this,jt,null);_(this,At,null);_(this,No,null);_(this,e0,!1);_(this,cc,null);_(this,qg,"");_(this,Gn,null);_(this,Zu,null);_(this,Do,null);_(this,fs,null);_(this,uc,null);_(this,Qg,"");_(this,eh,!1);_(this,wi,null);_(this,Jg,!1);_(this,th,!1);_(this,Io,!1);_(this,Ba,null);_(this,t0,0);_(this,n0,0);_(this,ps,null);_(this,nh,null);de(this,"isSelected",!1);de(this,"_isCopy",!1);de(this,"_editToolbar",null);de(this,"_initialOptions",Object.create(null));de(this,"_initialData",null);de(this,"_isVisible",!0);de(this,"_uiManager",null);de(this,"_focusEventsAllowed",!0);_(this,Zg,!1);_(this,jw,je._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=je.prototype._resizeWithKeyboard,t=ud.TRANSLATE_SMALL,r=ud.TRANSLATE_BIG;return $e(this,"_resizerKeyboardManager",new P1([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],je.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return $e(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new lW({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(je._l10n??(je._l10n=e),je._l10nResizer||(je._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),je._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);je._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ct("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,Zg)}set _isDraggable(e){var t;E(this,Zg,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,jw)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(k(this,De,dm).call(this),(t=c(this,fs))==null||t.remove(),E(this,fs,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,eh)?E(this,eh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[r,i]=this.parentDimensions;this.setAt(e*r,t*i,this.width*r,this.height*i),this._onTranslated()}translate(e,t){k(this,De,U2).call(this,this.parentDimensions,e,t)}translateInPage(e,t){c(this,wi)||E(this,wi,[this.x,this.y,this.width,this.height]),k(this,De,U2).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){c(this,wi)||E(this,wi,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:h}=r;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!c(this,wi)&&(c(this,wi)[0]!==this.x||c(this,wi)[1]!==this.y)}get _hasBeenResized(){return!!c(this,wi)&&(c(this,wi)[2]!==this.width||c(this,wi)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=je,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=Or(s,0,r-o),a=Or(a,0,i-l);break;case 90:s=Or(s,0,r-l),a=Or(a,o,i);break;case 180:s=Or(s,o,r),a=Or(a,l,i);break;case 270:s=Or(s,l,r),a=Or(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[u,h]=this.getBaseTranslation();s+=u,a+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return k(r=je,ev,H2).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return k(r=je,ev,H2).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(){const{div:{style:e},width:t,height:r}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=c(this,jt))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||c(this,th))return this._editToolbar;this._editToolbar=new F2(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,r]of e)await this._editToolbar.addButton(t,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=c(this,jt))==null||t.destroy()}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return c(this,jt)||(lw.initialize(je._l10n),E(this,jt,new lw(this)),c(this,Ju)&&(c(this,jt).data=c(this,Ju),E(this,Ju,null))),c(this,jt)}get altTextData(){var e;return(e=c(this,jt))==null?void 0:e.data}set altTextData(e){c(this,jt)&&(c(this,jt).data=e)}get guessedAltText(){var e;return(e=c(this,jt))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=c(this,jt))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=c(this,jt))==null?void 0:t.serialize(e)}hasAltText(){return!!c(this,jt)&&!c(this,jt).isEmpty()}hasAltTextData(){var e;return((e=c(this,jt))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=c(this,At))==null||e.focusButton()}addCommentButton(){return this.canAddComment?c(this,At)||E(this,At,new fx(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(c(this,No)){this._uiManager.isEditingMode()&&c(this,No).classList.remove("hidden");return}this.hasComment&&(E(this,No,c(this,At).renderForStandalone()),this.div.append(c(this,No)))}}removeStandaloneCommentButton(){c(this,At).removeStandaloneCommentButton(),E(this,No,null)}hideStandaloneCommentButton(){var e;(e=c(this,No))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:r,deleted:i}}=c(this,At);return{text:t,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){c(this,At)||E(this,At,new fx(this)),c(this,At).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:r}){if(!t||(c(this,At)||E(this,At,new fx(this)),c(this,At).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=c(this,At))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=c(this,At))==null?void 0:e.isDeleted()}get hasComment(){return!!c(this,At)&&!c(this,At).isEmpty()&&!c(this,At).isDeleted()}async editComment(e){c(this,At)||E(this,At,new fx(this)),c(this,At).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){c(this,At).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,u,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){c(this,At).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=c(this,e0)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),k(this,De,V2).call(this);const[t,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),f4(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(c(this,nh)||E(this,nh,new cw({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:k(this,De,N4).bind(this),onPinching:k(this,De,D4).bind(this),onPinchEnd:k(this,De,I4).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=ir.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(E(this,eh,!0),this._isDraggable){k(this,De,O4).call(this,e);return}k(this,De,W2).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){c(this,Ba)&&clearTimeout(c(this,Ba)),E(this,Ba,setTimeout(()=>{var e;E(this,Ba,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,h=t/i,d=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(r){case 0:return[d+u+o,a-f-h-g+l,d+u+p+o,a-f-h+l];case 90:return[d+h+o,a-f+u+l,d+h+g+o,a-f+u+p+l];case 180:return[d-u-p+o,a-f+h+l,d-u+o,a-f+h+g+l];case 270:return[d-h-g+o,a-f-u-p+l,d-h+o,a-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&je._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=c(this,At))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:u,modificationDate:h}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:u,modificationDate:r||h,popupRef:!s,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),E(this,th,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),E(this,th,!1),!0):!1}isInEditMode(){return c(this,th)}shouldGetKeyboardEvents(){return c(this,Io)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){k(this,De,V2).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,E(i,Ju,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,u,h]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=h/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,r;if((e=c(this,uc))==null||e.abort(),E(this,uc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),c(this,Ba)&&(clearTimeout(c(this,Ba)),E(this,Ba,null)),k(this,De,dm).call(this),this.removeEditToolbar(),c(this,ps)){for(const i of c(this,ps).values())clearTimeout(i);E(this,ps,null)}this.parent=null,(t=c(this,nh))==null||t.destroy(),E(this,nh,null),(r=c(this,fs))==null||r.remove(),E(this,fs,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(k(this,De,R4).call(this),c(this,Gn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[r,i,s,a]=this.getPDFRect();return[je._round(r+(s-r)*e),je._round(i+(a-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return c(this,At).commentPopupPositionInLayer}set commentPopupPosition(e){c(this,At).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return c(this,At).hasDefaultPopupPosition()}get commentButtonWidth(){return c(this,At).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=c(this,At))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),E(this,Do,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=c(this,Gn).children;if(!c(this,Ws)){E(this,Ws,Array.from(t));const a=k(this,De,M4).bind(this),o=k(this,De,L4).bind(this),l=this._uiManager._signal;for(const u of c(this,Ws)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",k(this,De,B4).bind(this,h),{signal:l}),u.setAttribute("data-l10n-id",je._l10nResizer[h])}}const r=c(this,Ws)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(c(this,Ws).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)c(this,Gn).append(c(this,Gn).firstChild);else if(s>i)for(let o=0;o<s-i;o++)c(this,Gn).firstChild.before(c(this,Gn).lastChild);let a=0;for(const o of t){const u=c(this,Ws)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",je._l10nResizer[u])}}k(this,De,G2).call(this,0),E(this,Io,!0),c(this,Gn).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){c(this,Io)&&k(this,De,z2).call(this,c(this,Qg),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){k(this,De,dm).call(this),this.div.focus()}select(){var e,t,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=c(this,jt))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,r,i,s;this.isSelected&&(this.isSelected=!1,(e=c(this,Gn))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=c(this,jt))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return c(this,Jg)}set isEditing(e){E(this,Jg,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){c(this,ps)||E(this,ps,new Map);const{action:r}=e;let i=c(this,ps).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),c(this,ps).delete(r),c(this,ps).size===0&&E(this,ps,null)},je._telemetryTimeout),c(this,ps).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),E(this,e0,!1)}disable(){this.div&&(this.div.tabIndex=-1),E(this,e0,!0)}updateFakeAnnotationElement(e){if(!c(this,fs)&&!this.deleted){E(this,fs,e.addFakeAnnotation(this));return}if(this.deleted){c(this,fs).remove(),E(this,fs,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&c(this,fs).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Ju=new WeakMap,Ws=new WeakMap,jt=new WeakMap,At=new WeakMap,No=new WeakMap,e0=new WeakMap,cc=new WeakMap,qg=new WeakMap,Gn=new WeakMap,Zu=new WeakMap,Do=new WeakMap,fs=new WeakMap,uc=new WeakMap,Qg=new WeakMap,eh=new WeakMap,wi=new WeakMap,Jg=new WeakMap,th=new WeakMap,Io=new WeakMap,Ba=new WeakMap,t0=new WeakMap,n0=new WeakMap,ps=new WeakMap,nh=new WeakMap,Zg=new WeakMap,jw=new WeakMap,De=new WeakSet,U2=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},ev=new WeakSet,H2=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Zx=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},R4=function(){if(c(this,Gn))return;E(this,Gn,document.createElement("div")),c(this,Gn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");c(this,Gn).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",k(this,De,F4).bind(this,r),{signal:t}),i.addEventListener("contextmenu",ks,{signal:t}),i.tabIndex=-1}this.div.prepend(c(this,Gn))},F4=function(e,t){var h;t.preventDefault();const{isMac:r}=ir.platform;if(t.button!==0||t.ctrlKey&&r)return;(h=c(this,jt))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,E(this,Zu,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",k(this,De,z2).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",on,{passive:!1,signal:a}),window.addEventListener("contextmenu",ks,{signal:a}),E(this,Do,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=c(this,jt))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,k(this,De,ey).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},$2=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},ey=function(){if(!c(this,Do))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=c(this,Do);E(this,Do,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:k(this,De,$2).bind(this,s,a,o,l),undo:k(this,De,$2).bind(this,e,t,r,i),mustExec:!0})},z2=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=je.MIN_SIZE/r,h=je.MIN_SIZE/i,d=k(this,De,Zx).call(this,this.rotation),f=(ie,K)=>[d[0]*ie+d[2]*K,d[1]*ie+d[3]*K],p=k(this,De,Zx).call(this,360-this.rotation),g=(ie,K)=>[p[0]*ie+p[2]*K,p[1]*ie+p[3]*K];let m,v,x=!1,w=!1;switch(e){case"topLeft":x=!0,m=(ie,K)=>[0,0],v=(ie,K)=>[ie,K];break;case"topMiddle":m=(ie,K)=>[ie/2,0],v=(ie,K)=>[ie/2,K];break;case"topRight":x=!0,m=(ie,K)=>[ie,0],v=(ie,K)=>[0,K];break;case"middleRight":w=!0,m=(ie,K)=>[ie,K/2],v=(ie,K)=>[0,K/2];break;case"bottomRight":x=!0,m=(ie,K)=>[ie,K],v=(ie,K)=>[0,0];break;case"bottomMiddle":m=(ie,K)=>[ie/2,K],v=(ie,K)=>[ie/2,0];break;case"bottomLeft":x=!0,m=(ie,K)=>[0,K],v=(ie,K)=>[ie,0];break;case"middleLeft":w=!0,m=(ie,K)=>[0,K/2],v=(ie,K)=>[ie,K/2];break}const y=m(o,l),S=v(o,l);let T=f(...S);const P=je._round(s+T[0]),b=je._round(a+T[1]);let F=1,D=1,M,W;if(t.fromKeyboard)({deltaX:M,deltaY:W}=t);else{const{screenX:ie,screenY:K}=t,[Y,H]=c(this,Zu);[M,W]=this.screenToPageTranslation(ie-Y,K-H),c(this,Zu)[0]=ie,c(this,Zu)[1]=K}if([M,W]=g(M/r,W/i),x){const ie=Math.hypot(o,l);F=D=Math.max(Math.min(Math.hypot(S[0]-y[0]-M,S[1]-y[1]-W)/ie,1/o,1/l),u/o,h/l)}else w?F=Or(Math.abs(S[0]-y[0]-M),u,1)/o:D=Or(Math.abs(S[1]-y[1]-W),h,1)/l;const G=je._round(o*F),q=je._round(l*D);T=f(...v(G,q));const J=P-T[0],ae=b-T[1];c(this,wi)||E(this,wi,[this.x,this.y,this.width,this.height]),this.width=G,this.height=q,this.x=J,this.y=ae,this.setDims(),this.fixAndSetPosition(),this._onResizing()},N4=function(){var e;E(this,Do,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=c(this,jt))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},D4=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=k(this,De,Zx).call(this,this.rotation),o=(P,b)=>[a[0]*P+a[2]*b,a[1]*P+a[3]*b],[l,u]=this.parentDimensions,h=this.x,d=this.y,f=this.width,p=this.height,g=je.MIN_SIZE/l,m=je.MIN_SIZE/u;s=Math.max(Math.min(s,1/f,1/p),g/f,m/p);const v=je._round(f*s),x=je._round(p*s);if(v===f&&x===p)return;c(this,wi)||E(this,wi,[h,d,f,p]);const w=o(f/2,p/2),y=je._round(h+w[0]),S=je._round(d+w[1]),T=o(v/2,x/2);this.x=y-T[0],this.y=S-T[1],this.width=v,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()},I4=function(){var e;(e=c(this,jt))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),k(this,De,ey).call(this)},W2=function(e){const{isMac:t}=ir.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},O4=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),E(this,cc,null),E(this,eh,!1),this._uiManager.endDragSession()||k(this,De,W2).call(this,u),r&&this._onStopDragging()};t&&(E(this,t0,e.clientX),E(this,n0,e.clientY),E(this,cc,e.pointerId),E(this,qg,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:d,pointerId:f}=u;if(f!==c(this,cc)){on(u);return}const[p,g]=this.screenToPageTranslation(h-c(this,t0),d-c(this,n0));E(this,t0,h),E(this,n0,d),this._uiManager.dragSelectedEditors(p,g)},a),window.addEventListener("touchmove",on,a),window.addEventListener("pointerdown",u=>{u.pointerType===c(this,qg)&&(c(this,nh)||u.isPrimary)&&o(u),on(u)},a));const l=u=>{if(!c(this,cc)||c(this,cc)===u.pointerId){o(u);return}on(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},V2=function(){if(c(this,uc)||!this.div)return;E(this,uc,new AbortController);const e=this._uiManager.combinedSignal(c(this,uc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},M4=function(e){je._resizerKeyboardManager.exec(this,e)},L4=function(e){var t;c(this,Io)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==c(this,Gn)&&k(this,De,dm).call(this)},B4=function(e){E(this,Qg,c(this,Io)?e:"")},G2=function(e){if(c(this,Ws))for(const t of c(this,Ws))t.tabIndex=e},dm=function(){E(this,Io,!1),k(this,De,G2).call(this,-1),k(this,De,ey).call(this)},_(je,ev),de(je,"_l10n",null),de(je,"_l10nResizer",null),de(je,"_borderLineWidth",-1),de(je,"_colorManager",new I2),de(je,"_zIndex",1),de(je,"_telemetryTimeout",1e3);let Nt=je;class lW extends Nt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const BP=3285377520,ns=4294901760,ya=65535;class j4{constructor(e){this.h1=e?e&4294967295:BP,this.h2=e?e&4294967295:BP}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let m=0,v=e.length;m<v;m++){const x=e.charCodeAt(m);x<=255?t[r++]=x:(t[r++]=x>>>8,t[r++]=x&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&ya,g=f&ya;for(let m=0;m<i;m++)m&1?(o=a[m],o=o*d&ns|o*p&ya,o=o<<15|o>>>17,o=o*f&ns|o*g&ya,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[m],l=l*d&ns|l*p&ya,l=l<<15|l>>>17,l=l*f&ns|l*g&ya,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*d&ns|o*p&ya,o=o<<15|o>>>17,o=o*f&ns|o*g&ya,i&1?u^=o:h^=o}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&ns|e*36045&ya,t=t*4283543511&ns|((t<<16|e>>>16)*2950163797&ns)>>>16,e^=t>>>1,e=e*444984403&ns|e*60499&ya,t=t*3301882366&ns|((t<<16|e>>>16)*3120437893&ns)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const X2=Object.freeze({map:null,hash:"",transfer:void 0});var rh,ih,Oo,Xn,Uw,U4;class Mb{constructor(){_(this,Uw);_(this,rh,!1);_(this,ih,null);_(this,Oo,null);_(this,Xn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=c(this,Xn).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return c(this,Xn).get(e)}remove(e){const t=c(this,Xn).get(e);if(t!==void 0&&(t instanceof Nt&&c(this,Oo).delete(t.annotationElementId),c(this,Xn).delete(e),c(this,Xn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of c(this,Xn).values())if(r instanceof Nt)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=c(this,Xn).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,c(this,Xn).set(e,t);i&&k(this,Uw,U4).call(this),t instanceof Nt&&((c(this,Oo)||E(this,Oo,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return c(this,Xn).has(e)}get size(){return c(this,Xn).size}resetModified(){c(this,rh)&&(E(this,rh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new H4(this)}get serializable(){if(c(this,Xn).size===0)return X2;const e=new Map,t=new j4,r=[],i=Object.create(null);let s=!1;for(const[a,o]of c(this,Xn)){const l=o instanceof Nt?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:X2}get editorStats(){let e=null;const t=new Map;let r=0,i=0;for(const s of c(this,Xn).values()){if(!(s instanceof Nt)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[u,h]of Object.entries(a)){if(u==="type")continue;let d=l.get(u);d||(d=new Map,l.set(u,d));const f=d.get(h)??0;d.set(h,f+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){E(this,ih,null)}updateEditor(e,t){var i;const r=(i=c(this,Oo))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=c(this,Oo))==null?void 0:t.get(e))||null}get modifiedIds(){if(c(this,ih))return c(this,ih);const e=[];if(c(this,Oo))for(const t of c(this,Oo).values())t.serialize()&&e.push(t.annotationElementId);return E(this,ih,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return c(this,Xn).entries()}}rh=new WeakMap,ih=new WeakMap,Oo=new WeakMap,Xn=new WeakMap,Uw=new WeakSet,U4=function(){c(this,rh)||(E(this,rh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var tv;class H4 extends Mb{constructor(t){super();_(this,tv);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);E(this,tv,{map:a,hash:i,transfer:s})}get print(){Ct("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,tv)}get modifiedIds(){return $e(this,"modifiedIds",{ids:new Set,hash:""})}}tv=new WeakMap;var r0;class cW{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){_(this,r0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,r0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:r}){if(!(!e||c(this,r0).has(e.loadedName))){if(Ze(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),c(this,r0).add(i),r==null||r(e)}catch{Le(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ct("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Le(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return $e(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return $e(this,"isSyncFontLoadingSupported",Ir||ir.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ze(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $e(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(S,T){return S.charCodeAt(T)<<24|S.charCodeAt(T+1)<<16|S.charCodeAt(T+2)<<8|S.charCodeAt(T+3)&255}function i(S,T,P,b){const F=S.substring(0,T),D=S.substring(T+P);return F+b+D}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function h(S,T){if(++u>30){Le("Load test font never loaded."),T();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(h.bind(null,S,T))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const g=16,m=1482184792;let v=r(f,g);for(s=0,a=d.length-3;s<a;s+=4)v=v-m+r(d,s)|0;s<d.length&&(v=v-m+r(d+"XXX",s)|0),f=i(f,g,4,zz(v));const x=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${d}";src:${x}}`;this.insertRule(w);const y=this._document.createElement("div");y.style.visibility="hidden",y.style.width=y.style.height="10px",y.style.position="absolute",y.style.top=y.style.left="0px";for(const S of[e.loadedName,d]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=S,y.append(T)}this._document.body.append(y),h(d,()=>{y.remove(),t.complete()})}}r0=new WeakMap;var vt;class uW{constructor(e,t=null,r,i){_(this,vt);this.compiledGlyphs=Object.create(null),E(this,vt,e),this._inspectFont=t,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${i4(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){Le(`getPathGenerator - ignoring character: "${a}".`)}const s=o4(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}get black(){return c(this,vt).black}get bold(){return c(this,vt).bold}get disableFontFace(){return c(this,vt).disableFontFace??!1}get fontExtraProperties(){return c(this,vt).fontExtraProperties??!1}get isInvalidPDFjsFont(){return c(this,vt).isInvalidPDFjsFont}get isType3Font(){return c(this,vt).isType3Font}get italic(){return c(this,vt).italic}get missingFile(){return c(this,vt).missingFile}get remeasure(){return c(this,vt).remeasure}get vertical(){return c(this,vt).vertical}get ascent(){return c(this,vt).ascent}get defaultWidth(){return c(this,vt).defaultWidth}get descent(){return c(this,vt).descent}get bbox(){return c(this,vt).bbox}get fontMatrix(){return c(this,vt).fontMatrix}get fallbackName(){return c(this,vt).fallbackName}get loadedName(){return c(this,vt).loadedName}get mimetype(){return c(this,vt).mimetype}get name(){return c(this,vt).name}get data(){return c(this,vt).data}clearData(){c(this,vt).clearData()}get cssFontInfo(){return c(this,vt).cssFontInfo}get systemFontInfo(){return c(this,vt).systemFontInfo}get defaultVMetrics(){return c(this,vt).defaultVMetrics}}vt=new WeakMap;var i0,s0,nv,a0,ty;const cf=class cf{constructor(e){_(this,a0);_(this,i0);_(this,s0);_(this,nv);E(this,i0,e),E(this,s0,new DataView(c(this,i0))),E(this,nv,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const u of cf.strings){const h=t.encode(e[u]);r[u]=h,i+=4+h.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const u of cf.strings){const h=r[u],d=h.length;o.setUint32(l,d),a.set(h,l+4),l+=4+d}return Ze(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return k(this,a0,ty).call(this,0)}get fontWeight(){return k(this,a0,ty).call(this,1)}get italicAngle(){return k(this,a0,ty).call(this,2)}};i0=new WeakMap,s0=new WeakMap,nv=new WeakMap,a0=new WeakSet,ty=function(e){Ze(e<cf.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=c(this,s0).getUint32(t)+4;const r=c(this,s0).getUint32(t);return c(this,nv).decode(new Uint8Array(c(this,i0),t+4,r))},de(cf,"strings",["fontFamily","fontWeight","italicAngle"]);let uw=cf;var hc,ja,sh,ah,fm;const uf=class uf{constructor(e){_(this,ah);_(this,hc);_(this,ja);_(this,sh);E(this,hc,e),E(this,ja,new DataView(c(this,hc))),E(this,sh,new TextDecoder)}static write(e){const t=new TextEncoder,r={};let i=0;for(const f of uf.strings){const p=t.encode(e[f]);r[f]=p,i+=4+p.length}i+=4;let s,a,o=1+i;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),u=new Uint8Array(l),h=new DataView(l);let d=0;h.setUint8(d++,e.guessFallback?1:0),h.setUint32(d,0),d+=4,i=0;for(const f of uf.strings){const p=r[f],g=p.length;i+=4+g,h.setUint32(d,g),u.set(p,d+4),d+=4+g}return h.setUint32(d-i-4,i),e.style&&(h.setUint32(d,s.length),u.set(s,d+4),d+=4+s.length,h.setUint32(d,a.length),u.set(a,d+4),d+=4+a.length),Ze(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}get guessFallback(){return c(this,ja).getUint8(0)!==0}get css(){return k(this,ah,fm).call(this,0)}get loadedName(){return k(this,ah,fm).call(this,1)}get baseFontName(){return k(this,ah,fm).call(this,2)}get src(){return k(this,ah,fm).call(this,3)}get style(){let e=1;e+=4+c(this,ja).getUint32(e);const t=c(this,ja).getUint32(e),r=c(this,sh).decode(new Uint8Array(c(this,hc),e+4,t));e+=4+t;const i=c(this,ja).getUint32(e),s=c(this,sh).decode(new Uint8Array(c(this,hc),e+4,i));return{style:r,weight:s}}};hc=new WeakMap,ja=new WeakMap,sh=new WeakMap,ah=new WeakSet,fm=function(e){Ze(e<uf.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=c(this,ja).getUint32(t)+4;const r=c(this,ja).getUint32(t);return c(this,sh).decode(new Uint8Array(c(this,hc),t+4,r))},de(uf,"strings",["css","loadedName","baseFontName","src"]);let hw=uf;var o0,l0,c0,u0,Ei,Ua,rv,xt,rn,Os,ny,pm;const He=class He{constructor({data:e,extra:t}){_(this,rn);_(this,Ua);_(this,rv);_(this,xt);E(this,Ua,e),E(this,rv,new TextDecoder),E(this,xt,new DataView(c(this,Ua))),t&&Object.assign(this,t)}get black(){return k(this,rn,Os).call(this,0)}get bold(){return k(this,rn,Os).call(this,1)}get disableFontFace(){return k(this,rn,Os).call(this,2)}get fontExtraProperties(){return k(this,rn,Os).call(this,3)}get isInvalidPDFjsFont(){return k(this,rn,Os).call(this,4)}get isType3Font(){return k(this,rn,Os).call(this,5)}get italic(){return k(this,rn,Os).call(this,6)}get missingFile(){return k(this,rn,Os).call(this,7)}get remeasure(){return k(this,rn,Os).call(this,8)}get vertical(){return k(this,rn,Os).call(this,9)}get ascent(){return k(this,rn,ny).call(this,0)}get defaultWidth(){return k(this,rn,ny).call(this,1)}get descent(){return k(this,rn,ny).call(this,2)}get bbox(){let e=c(He,l0);if(c(this,xt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(c(this,xt).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=c(He,c0);if(c(this,xt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(c(this,xt).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=c(He,u0);if(c(this,xt).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(c(this,xt).getInt16(e,!0)),e+=2;return r}get fallbackName(){return k(this,rn,pm).call(this,0)}get loadedName(){return k(this,rn,pm).call(this,1)}get mimetype(){return k(this,rn,pm).call(this,2)}get name(){return k(this,rn,pm).call(this,3)}get data(){let e=c(He,Ei);const t=c(this,xt).getUint32(e);e+=4+t;const r=c(this,xt).getUint32(e);e+=4+r;const i=c(this,xt).getUint32(e);e+=4+i;const s=c(this,xt).getUint32(e);if(s!==0)return new Uint8Array(c(this,Ua),e+4,s)}clearData(){let e=c(He,Ei);const t=c(this,xt).getUint32(e);e+=4+t;const r=c(this,xt).getUint32(e);e+=4+r;const i=c(this,xt).getUint32(e);e+=4+i;const s=c(this,xt).getUint32(e);new Uint8Array(c(this,Ua),e+4,s).fill(0),c(this,xt).setUint32(e,0)}get cssFontInfo(){let e=c(He,Ei);const t=c(this,xt).getUint32(e);e+=4+t;const r=c(this,xt).getUint32(e);e+=4+r;const i=c(this,xt).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(c(this,Ua),e+4,i)),new uw(s.buffer)}get systemFontInfo(){let e=c(He,Ei);const t=c(this,xt).getUint32(e);e+=4+t;const r=c(this,xt).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(c(this,Ua),e+4,r)),new hw(i.buffer)}static write(e){const t=e.systemFontInfo?hw.write(e.systemFontInfo):null,r=e.cssFontInfo?uw.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const m of He.strings)s[m]=i.encode(e[m]),a+=4+s[m].length;const o=c(He,Ei)+4+a+4+(t?t.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),u=new Uint8Array(l),h=new DataView(l);let d=0;const f=He.bools.length;let p=0,g=0;for(let m=0;m<f;m++){const v=e[He.bools[m]];p|=(v===void 0?0:v?2:1)<<g,g+=2,(g===8||m===f-1)&&(h.setUint8(d++,p),p=0,g=0)}Ze(d===c(He,o0),"FontInfo.write: Boolean properties offset mismatch");for(const m of He.numbers)h.setFloat64(d,e[m]),d+=8;if(Ze(d===c(He,l0),"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(d++,4);for(const m of e.bbox)h.setInt16(d,m,!0),d+=2}else h.setUint8(d++,0),d+=2*4;if(Ze(d===c(He,c0),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(d++,6);for(const m of e.fontMatrix)h.setFloat64(d,m,!0),d+=8}else h.setUint8(d++,0),d+=8*6;if(Ze(d===c(He,u0),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(d++,1);for(const m of e.defaultVMetrics)h.setInt16(d,m,!0),d+=2}else h.setUint8(d++,0),d+=3*2;Ze(d===c(He,Ei),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(c(He,Ei),0),d+=4;for(const m of He.strings){const v=s[m],x=v.length;h.setUint32(d,x),u.set(v,d+4),d+=4+x}if(h.setUint32(c(He,Ei),d-c(He,Ei)-4),!t)h.setUint32(d,0),d+=4;else{const m=t.byteLength;h.setUint32(d,m),Ze(d+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(t),d+4),d+=4+m}if(!r)h.setUint32(d,0),d+=4;else{const m=r.byteLength;h.setUint32(d,m),Ze(d+4+m<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(r),d+4),d+=4+m}return e.data===void 0?(h.setUint32(d,0),d+=4):(h.setUint32(d,e.data.length),u.set(e.data,d+4),d+=4+e.data.length),Ze(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}};o0=new WeakMap,l0=new WeakMap,c0=new WeakMap,u0=new WeakMap,Ei=new WeakMap,Ua=new WeakMap,rv=new WeakMap,xt=new WeakMap,rn=new WeakSet,Os=function(e){Ze(e<He.bools.length,"Invalid boolean index");const t=Math.floor(e/4),r=e*2%8,i=c(this,xt).getUint8(t)>>r&3;return i===0?void 0:i===2},ny=function(e){return Ze(e<He.numbers.length,"Invalid number index"),c(this,xt).getFloat64(c(He,o0)+e*8)},pm=function(e){Ze(e<He.strings.length,"Invalid string index");let t=c(He,Ei)+4;for(let s=0;s<e;s++)t+=c(this,xt).getUint32(t)+4;const r=c(this,xt).getUint32(t),i=new Uint8Array(r);return i.set(new Uint8Array(c(this,Ua),t+4,r)),c(this,rv).decode(i)},de(He,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),de(He,"numbers",["ascent","defaultWidth","descent"]),de(He,"strings",["fallbackName","loadedName","mimetype","name"]),_(He,o0,Math.ceil(He.bools.length*2/8)),_(He,l0,c(He,o0)+He.numbers.length*8),_(He,c0,c(He,l0)+1+2*4),_(He,u0,c(He,c0)+1+8*6),_(He,Ei,c(He,u0)+1+2*3);let Y2=He;var iv,sv,av,ov,lv,cv,uv,hv;const Pt=class Pt{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,r=null,i=[],s=[],a=[],o=[],l=null,u=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,r=e[2],a=e[3],t===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(i.length/2),d=Math.floor(s.length/3),f=a.length,p=o.length;let g=0;for(const T of o)g+=1,g=Math.ceil(g/4)*4,g+=4+T.coords.length*4,g+=4+T.colors.length*4,T.verticesPerRow!==void 0&&(g+=4);const m=20+h*8+d*3+f*8+(r?16:0)+(u?3:0)+g,v=new ArrayBuffer(m),x=new DataView(v),w=new Uint8Array(v);x.setUint8(c(Pt,iv),t),x.setUint8(c(Pt,sv),r?1:0),x.setUint8(c(Pt,av),u?1:0),x.setUint8(c(Pt,ov),l),x.setUint32(c(Pt,lv),h,!0),x.setUint32(c(Pt,cv),d,!0),x.setUint32(c(Pt,uv),f,!0),x.setUint32(c(Pt,hv),p,!0);let y=20;new Float32Array(v,y,h*2).set(i),y+=h*8,w.set(s,y),y+=d*3;for(const[T,P]of a)x.setFloat32(y,T,!0),y+=4,x.setUint32(y,parseInt(P.slice(1),16),!0),y+=4;if(r)for(const T of r)x.setFloat32(y,T,!0),y+=4;u&&(w.set(u,y),y+=3);for(let T=0;T<o.length;T++){const P=o[T];x.setUint8(y,P.type),y+=1,y=Math.ceil(y/4)*4,x.setUint32(y,P.coords.length,!0),y+=4,new Int32Array(v,y,P.coords.length).set(P.coords),y+=P.coords.length*4,x.setUint32(y,P.colors.length,!0),y+=4,new Int32Array(v,y,P.colors.length).set(P.colors),y+=P.colors.length*4,P.verticesPerRow!==void 0&&(x.setUint32(y,P.verticesPerRow,!0),y+=4)}return v}getIR(){const e=this.view,t=this.data[c(Pt,iv)],r=!!this.data[c(Pt,sv)],i=!!this.data[c(Pt,av)],s=e.getUint32(c(Pt,lv),!0),a=e.getUint32(c(Pt,cv),!0),o=e.getUint32(c(Pt,uv),!0),l=e.getUint32(c(Pt,hv),!0);let u=20;const h=new Float32Array(this.buffer,u,s*2);u+=s*8;const d=new Uint8Array(this.buffer,u,a*3);u+=a*3;const f=[];for(let v=0;v<o;++v){const x=e.getFloat32(u,!0);u+=4;const w=e.getUint32(u,!0);u+=4,f.push([x,`#${w.toString(16).padStart(6,"0")}`])}let p=null;if(r){p=[];for(let v=0;v<4;++v)p.push(e.getFloat32(u,!0)),u+=4}let g=null;i&&(g=new Uint8Array(this.buffer,u,3),u+=3);const m=[];for(let v=0;v<l;++v){const x=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const w=e.getUint32(u,!0);u+=4;const y=new Int32Array(this.buffer,u,w);u+=w*4;const S=e.getUint32(u,!0);u+=4;const T=new Int32Array(this.buffer,u,S);u+=S*4;const P={type:x,coords:y,colors:T};x===b2.LATTICE&&(P.verticesPerRow=e.getUint32(u,!0),u+=4),m.push(P)}if(t===1)return["RadialAxial","axial",p,f,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",p,f,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(t===3){const v=this.data[c(Pt,ov)];let x=null;if(h.length>0){let w=h[0],y=h[0],S=h[1],T=h[1];for(let P=0;P<h.length;P+=2){const b=h[P],F=h[P+1];w=w>b?b:w,S=S>F?F:S,y=y<b?b:y,T=T<F?F:T}x=[w,S,y,T]}return["Mesh",v,h,d,m,x,p,g]}throw new Error(`Unsupported pattern kind: ${t}`)}};iv=new WeakMap,sv=new WeakMap,av=new WeakMap,ov=new WeakMap,lv=new WeakMap,cv=new WeakMap,uv=new WeakMap,hv=new WeakMap,_(Pt,iv,0),_(Pt,sv,1),_(Pt,av,2),_(Pt,ov,3),_(Pt,lv,4),_(Pt,cv,8),_(Pt,uv,12),_(Pt,hv,16);let K2=Pt;function hW(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ir)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function dW(n){if(Ir&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return T1(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function px(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const q2=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,fW=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",pW=Yz.bind(null,q2,fW);var Mo,Hw;class mW{constructor(){_(this,Mo,new Map);_(this,Hw,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};c(this,Hw).then(()=>{for(const[i]of c(this,Mo))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Le("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}c(this,Mo).set(t,i)}removeEventListener(e,t){const r=c(this,Mo).get(t);r==null||r(),c(this,Mo).delete(t)}terminate(){for(const[,e]of c(this,Mo))e==null||e();c(this,Mo).clear()}}Mo=new WeakMap,Hw=new WeakMap;const mx={DATA:1,ERROR:2},fn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function jP(){}function Gr(n){if(n instanceof ru||n instanceof C2||n instanceof FP||n instanceof aw||n instanceof VS)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ct('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ru(n.message);case"InvalidPDFException":return new C2(n.message);case"PasswordException":return new FP(n.message,n.code);case"ResponseException":return new aw(n.message,n.status,n.missing);case"UnknownErrorException":return new VS(n.message,n.details)}return new VS(n.message,n.toString())}var h0,As,$4,z4,W4,ry;class mm{constructor(e,t,r){_(this,As);_(this,h0,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",k(this,As,$4).bind(this),{signal:c(this,h0).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:fn.PULL,streamId:s,desiredSize:u.desiredSize}),h.promise},cancel:u=>{Ze(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:fn.CANCEL,streamId:s,reason:Gr(u)}),h.promise}},r)}destroy(){var e;(e=c(this,h0))==null||e.abort(),E(this,h0,null)}}h0=new WeakMap,As=new WeakSet,$4=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){k(this,As,W4).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===mx.DATA)i.resolve(e.data);else if(e.callback===mx.ERROR)i.reject(Gr(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:mx.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:mx.ERROR,callbackId:e.callbackId,reason:Gr(a)})});return}if(e.streamId){k(this,As,z4).call(this,e);return}t(e.data)},z4=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:fn.ENQUEUE,streamId:t,chunk:u},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:fn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Ze(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:fn.ERROR,streamId:t,reason:Gr(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:fn.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:fn.START_COMPLETE,streamId:t,reason:Gr(u)})})},W4=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case fn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Gr(e.reason));break;case fn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Gr(e.reason));break;case fn.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:fn.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||jP).then(function(){s.postMessage({sourceName:r,targetName:i,stream:fn.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:fn.PULL_COMPLETE,streamId:t,reason:Gr(u)})});break;case fn.ENQUEUE:if(Ze(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case fn.CLOSE:if(Ze(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),k(this,As,ry).call(this,a,t);break;case fn.ERROR:Ze(a,"error should have stream controller"),a.controller.error(Gr(e.reason)),k(this,As,ry).call(this,a,t);break;case fn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Gr(e.reason)),k(this,As,ry).call(this,a,t);break;case fn.CANCEL:if(!o)break;const l=Gr(e.reason);Promise.try(o.onCancel||jP,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:fn.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:fn.CANCEL_COMPLETE,streamId:t,reason:Gr(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},ry=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var dv;class V4{constructor({enableHWA:e=!1}){_(this,dv,!1);E(this,dv,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!c(this,dv)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ct("Abstract method `_createCanvas` called.")}}dv=new WeakMap;class gW extends V4{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class G4{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ct("Abstract method `_fetch` called.")}}class UP extends G4{async _fetch(e){const t=await b1(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):T1(t)}}class X4{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var oh,d0,Lo,Bo,yr,lh,ch,be,pr,gm,jd,iy,Ud,Y4,Q2,Hd,vm,xm,J2,ym;class vW extends X4{constructor({docId:t,ownerDocument:r=globalThis.document}){super();_(this,be);_(this,oh);_(this,d0);_(this,Lo);_(this,Bo);_(this,yr);_(this,lh);_(this,ch,0);E(this,Bo,t),E(this,yr,r)}addFilter(t){if(!t)return"none";let r=c(this,be,pr).get(t);if(r)return r;const[i,s,a]=k(this,be,iy).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=c(this,be,pr).get(o),r)return c(this,be,pr).set(t,r),r;const l=`g_${c(this,Bo)}_transfer_map_${Qt(this,ch)._++}`,u=k(this,be,Ud).call(this,l);c(this,be,pr).set(t,u),c(this,be,pr).set(o,u);const h=k(this,be,Hd).call(this,l);return k(this,be,xm).call(this,i,s,a,h),u}addHCMFilter(t,r){var g;const i=`${t}-${r}`,s="base";let a=c(this,be,gm).get(s);if((a==null?void 0:a.key)===i||(a?((g=a.filter)==null||g.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},c(this,be,gm).set(s,a)),!t||!r))return a.url;const o=k(this,be,ym).call(this,t);t=Re.makeHexColor(...o);const l=k(this,be,ym).call(this,r);if(r=Re.makeHexColor(...l),c(this,be,jd).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let m=0;m<=255;m++){const v=m/255;u[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const h=u.join(","),d=`g_${c(this,Bo)}_hcm_filter`,f=a.filter=k(this,be,Hd).call(this,d);k(this,be,xm).call(this,h,h,h,f),k(this,be,Q2).call(this,f);const p=(m,v)=>{const x=o[m]/255,w=l[m]/255,y=new Array(v+1);for(let S=0;S<=v;S++)y[S]=x+S/v*(w-x);return y.join(",")};return k(this,be,xm).call(this,p(0,5),p(1,5),p(2,5),f),a.url=k(this,be,Ud).call(this,d),a.url}addAlphaFilter(t){let r=c(this,be,pr).get(t);if(r)return r;const[i]=k(this,be,iy).call(this,[t]),s=`alpha_${i}`;if(r=c(this,be,pr).get(s),r)return c(this,be,pr).set(t,r),r;const a=`g_${c(this,Bo)}_alpha_map_${Qt(this,ch)._++}`,o=k(this,be,Ud).call(this,a);c(this,be,pr).set(t,o),c(this,be,pr).set(s,o);const l=k(this,be,Hd).call(this,a);return k(this,be,J2).call(this,i,l),o}addLuminosityFilter(t){let r=c(this,be,pr).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=k(this,be,iy).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=c(this,be,pr).get(s),r)return c(this,be,pr).set(t,r),r;const a=`g_${c(this,Bo)}_luminosity_map_${Qt(this,ch)._++}`,o=k(this,be,Ud).call(this,a);c(this,be,pr).set(t,o),c(this,be,pr).set(s,o);const l=k(this,be,Hd).call(this,a);return k(this,be,Y4).call(this,l),t&&k(this,be,J2).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var w;const o=`${r}-${i}-${s}-${a}`;let l=c(this,be,gm).get(t);if((l==null?void 0:l.key)===o||(l?((w=l.filter)==null||w.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},c(this,be,gm).set(t,l)),!r||!i))return l.url;const[u,h]=[r,i].map(k(this,be,ym).bind(this));let d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,g]=[s,a].map(k(this,be,ym).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),c(this,be,jd).style.color="";const m=(y,S,T)=>{const P=new Array(256),b=(f-d)/T,F=y/255,D=(S-y)/(255*T);let M=0;for(let W=0;W<=T;W++){const G=Math.round(d+W*b),q=F+W*D;for(let J=M;J<=G;J++)P[J]=q;M=G+1}for(let W=M;W<256;W++)P[W]=P[M-1];return P.join(",")},v=`g_${c(this,Bo)}_hcm_${t}_filter`,x=l.filter=k(this,be,Hd).call(this,v);return k(this,be,Q2).call(this,x),k(this,be,xm).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),x),l.url=k(this,be,Ud).call(this,v),l.url}destroy(t=!1){var r,i,s,a;t&&((r=c(this,lh))!=null&&r.size)||((i=c(this,Lo))==null||i.parentNode.parentNode.remove(),E(this,Lo,null),(s=c(this,d0))==null||s.clear(),E(this,d0,null),(a=c(this,lh))==null||a.clear(),E(this,lh,null),E(this,ch,0))}}oh=new WeakMap,d0=new WeakMap,Lo=new WeakMap,Bo=new WeakMap,yr=new WeakMap,lh=new WeakMap,ch=new WeakMap,be=new WeakSet,pr=function(){return c(this,d0)||E(this,d0,new Map)},gm=function(){return c(this,lh)||E(this,lh,new Map)},jd=function(){if(!c(this,Lo)){const t=c(this,yr).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=c(this,yr).createElementNS(vo,"svg");i.setAttribute("width",0),i.setAttribute("height",0),E(this,Lo,c(this,yr).createElementNS(vo,"defs")),t.append(i),i.append(c(this,Lo)),c(this,yr).body.append(t)}return c(this,Lo)},iy=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=u[f]/255;const d=h.join(",");return[d,d,d]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Ud=function(t){if(c(this,oh)===void 0){E(this,oh,"");const r=c(this,yr).URL;r!==c(this,yr).baseURI&&(jE(r)?Le('#createUrl: ignore "data:"-URL for performance reasons.'):E(this,oh,t4(r,"")))}return`url(${c(this,oh)}#${t})`},Y4=function(t){const r=c(this,yr).createElementNS(vo,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},Q2=function(t){const r=c(this,yr).createElementNS(vo,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Hd=function(t){const r=c(this,yr).createElementNS(vo,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),c(this,be,jd).append(r),r},vm=function(t,r,i){const s=c(this,yr).createElementNS(vo,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},xm=function(t,r,i,s){const a=c(this,yr).createElementNS(vo,"feComponentTransfer");s.append(a),k(this,be,vm).call(this,a,"feFuncR",t),k(this,be,vm).call(this,a,"feFuncG",r),k(this,be,vm).call(this,a,"feFuncB",i)},J2=function(t,r){const i=c(this,yr).createElementNS(vo,"feComponentTransfer");r.append(i),k(this,be,vm).call(this,i,"feFuncA",t)},ym=function(t){return c(this,be,jd).style.color=t,k1(getComputedStyle(c(this,be,jd)).getPropertyValue("color"))};class K4{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ct("Abstract method `_fetch` called.")}}class HP extends K4{async _fetch(e){const t=await b1(e,"arraybuffer");return new Uint8Array(t)}}class q4{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ct("Abstract method `_fetch` called.")}}class $P extends q4{async _fetch(e){const t=await b1(e,"arraybuffer");return new Uint8Array(t)}}Ir&&Le("Please use the `legacy` build in Node.js environments.");async function Lb(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class xW extends X4{}class yW extends V4{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class wW extends G4{async _fetch(e){return Lb(e)}}class EW extends K4{async _fetch(e){return Lb(e)}}class SW extends q4{async _fetch(e){return Lb(e)}}const Dd="__forcedDependency",{floor:zP,ceil:WP}=Math;function gx(n,e,t,r,i,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],r),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],s)}const Z2=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var f0,dc;class _W{constructor(e,t){_(this,f0);_(this,dc);E(this,f0,e),E(this,dc,t)}get length(){return c(this,f0).length}isEmpty(e){return c(this,f0)[e]===Z2}minX(e){return c(this,dc)[e*4+0]/256}minY(e){return c(this,dc)[e*4+1]/256}maxX(e){return(c(this,dc)[e*4+2]+1)/256}maxY(e){return(c(this,dc)[e*4+3]+1)/256}}f0=new WeakMap,dc=new WeakMap;const vx=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var Kr,qr,uh,Vs,hh,jo,ut,yt,Uo,Qr,fv,p0,dh,fh,Ho,wr,Ha,pv,eA;class AW{constructor(e,t,r=!1){_(this,pv);_(this,Kr,{__proto__:null});_(this,qr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Dd]:[]});_(this,uh,new Map);_(this,Vs,[]);_(this,hh,[]);_(this,jo,[[1,0,0,1,0,0]]);_(this,ut,[-1/0,-1/0,1/0,1/0]);_(this,yt,new Float64Array([1/0,1/0,-1/0,-1/0]));_(this,Uo,-1);_(this,Qr,new Set);_(this,fv,new Map);_(this,p0,new Map);_(this,dh);_(this,fh);_(this,Ho);_(this,wr);_(this,Ha);E(this,dh,e.width),E(this,fh,e.height),k(this,pv,eA).call(this,t),r&&E(this,Ha,new Map)}growOperationsCount(e){e>=c(this,wr).length&&k(this,pv,eA).call(this,e,c(this,wr))}save(e){return E(this,Kr,{__proto__:c(this,Kr)}),E(this,qr,{__proto__:c(this,qr),transform:{__proto__:c(this,qr).transform},moveText:{__proto__:c(this,qr).moveText},sameLineText:{__proto__:c(this,qr).sameLineText},[Dd]:{__proto__:c(this,qr)[Dd]}}),E(this,ut,{__proto__:c(this,ut)}),c(this,Vs).push(e),this}restore(e){var i;const t=Object.getPrototypeOf(c(this,Kr));if(t===null)return this;E(this,Kr,t),E(this,qr,Object.getPrototypeOf(c(this,qr))),E(this,ut,Object.getPrototypeOf(c(this,ut)));const r=c(this,Vs).pop();return r!==void 0&&((i=vx(c(this,Ha),e))==null||i.dependencies.add(r),c(this,wr)[e]=c(this,wr)[r]),this}recordOpenMarker(e){return c(this,Vs).push(e),this}getOpenMarker(){return c(this,Vs).length===0?null:c(this,Vs).at(-1)}recordCloseMarker(e){var r;const t=c(this,Vs).pop();return t!==void 0&&((r=vx(c(this,Ha),e))==null||r.dependencies.add(t),c(this,wr)[e]=c(this,wr)[t]),this}beginMarkedContent(e){return c(this,hh).push(e),this}endMarkedContent(e){var r;const t=c(this,hh).pop();return t!==void 0&&((r=vx(c(this,Ha),e))==null||r.dependencies.add(t),c(this,wr)[e]=c(this,wr)[t]),this}pushBaseTransform(e){return c(this,jo).push(Re.multiplyByDOMMatrix(c(this,jo).at(-1),e.getTransform())),this}popBaseTransform(){return c(this,jo).length>1&&c(this,jo).pop(),this}recordSimpleData(e,t){return c(this,Kr)[e]=t,this}recordIncrementalData(e,t){return c(this,qr)[e].push(t),this}resetIncrementalData(e,t){return c(this,qr)[e].length=0,this}recordNamedData(e,t){return c(this,uh).set(e,t),this}recordSimpleDataFromNamed(e,t,r){c(this,Kr)[e]=c(this,uh).get(t)??r}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Dd,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in c(this,Kr)&&this.recordFutureForcedDependency(t,c(this,Kr)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of c(this,Qr))this.recordFutureForcedDependency(Dd,e);return this}resetBBox(e){return c(this,Uo)!==e&&(E(this,Uo,e),c(this,yt)[0]=1/0,c(this,yt)[1]=1/0,c(this,yt)[2]=-1/0,c(this,yt)[3]=-1/0),this}recordClipBox(e,t,r,i,s,a){const o=Re.multiplyByDOMMatrix(c(this,jo).at(-1),t.getTransform()),l=[1/0,1/0,-1/0,-1/0];Re.axialAlignedBoundingBox([r,s,i,a],o,l);const u=Re.intersect(c(this,ut),l);return u?(c(this,ut)[0]=u[0],c(this,ut)[1]=u[1],c(this,ut)[2]=u[2],c(this,ut)[3]=u[3]):(c(this,ut)[0]=c(this,ut)[1]=1/0,c(this,ut)[2]=c(this,ut)[3]=-1/0),this}recordBBox(e,t,r,i,s,a){const o=c(this,ut);if(o[0]===1/0)return this;const l=Re.multiplyByDOMMatrix(c(this,jo).at(-1),t.getTransform());if(o[0]===-1/0)return Re.axialAlignedBoundingBox([r,s,i,a],l,c(this,yt)),this;const u=[1/0,1/0,-1/0,-1/0];return Re.axialAlignedBoundingBox([r,s,i,a],l,u),c(this,yt)[0]=Math.min(c(this,yt)[0],Math.max(u[0],o[0])),c(this,yt)[1]=Math.min(c(this,yt)[1],Math.max(u[1],o[1])),c(this,yt)[2]=Math.max(c(this,yt)[2],Math.min(u[2],o[2])),c(this,yt)[3]=Math.max(c(this,yt)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,t,r,i=1,s=0,a=0,o){const l=r.bbox;let u,h;if(l&&(u=l[2]!==l[0]&&l[3]!==l[1]&&c(this,p0).get(r),u!==!1&&(h=[0,0,0,0],Re.axialAlignedBoundingBox(l,r.fontMatrix,h),(i!==1||s!==0||a!==0)&&Re.scaleMinMax([i,0,0,-i,s,a],h),u)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&h&&u===void 0&&(u=h[0]<=s-d.actualBoundingBoxLeft&&h[2]>=s+d.actualBoundingBoxRight&&h[1]<=a-d.actualBoundingBoxAscent&&h[3]>=a+d.actualBoundingBoxDescent,c(this,p0).set(r,u),u)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return c(this,yt)[0]=Math.max(0,c(this,ut)[0]),c(this,yt)[1]=Math.max(0,c(this,ut)[1]),c(this,yt)[2]=Math.min(c(this,dh),c(this,ut)[2]),c(this,yt)[3]=Math.min(c(this,fh),c(this,ut)[3]),this}getSimpleIndex(e){return c(this,Kr)[e]}recordDependencies(e,t){const r=c(this,Qr),i=c(this,Kr),s=c(this,qr);for(const a of t)a in c(this,Kr)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,t){return c(this,uh).has(t)&&c(this,Qr).add(c(this,uh).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Dd]),c(this,Ha)){const r=vx(c(this,Ha),e),{dependencies:i}=r;c(this,Qr).forEach(i.add,i),c(this,Vs).forEach(i.add,i),c(this,hh).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(c(this,Uo)===e){const r=zP(c(this,yt)[0]*256/c(this,dh)),i=zP(c(this,yt)[1]*256/c(this,fh)),s=WP(c(this,yt)[2]*256/c(this,dh)),a=WP(c(this,yt)[3]*256/c(this,fh));gx(c(this,Ho),e,r,i,s,a);for(const o of c(this,Qr))o!==e&&gx(c(this,Ho),o,r,i,s,a);for(const o of c(this,Vs))o!==e&&gx(c(this,Ho),o,r,i,s,a);for(const o of c(this,hh))o!==e&&gx(c(this,Ho),o,r,i,s,a);t||(c(this,Qr).clear(),E(this,Uo,-1))}return this}recordShowTextOperation(e,t=!1){const r=Array.from(c(this,Qr));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return c(this,Uo)===e&&(E(this,Uo,-1),c(this,ut)[0]=Math.max(c(this,ut)[0],c(this,yt)[0]),c(this,ut)[1]=Math.max(c(this,ut)[1],c(this,yt)[1]),c(this,ut)[2]=Math.min(c(this,ut)[2],c(this,yt)[2]),c(this,ut)[3]=Math.min(c(this,ut)[3],c(this,yt)[3]),t||c(this,Qr).clear()),this}_takePendingDependencies(){const e=c(this,Qr);return E(this,Qr,new Set),e}_extractOperation(e){const t=c(this,fv).get(e);return c(this,fv).delete(e),t}_pushPendingDependencies(e){for(const t of e)c(this,Qr).add(t)}take(){return c(this,p0).clear(),new _W(c(this,wr),c(this,Ho))}takeDebugMetadata(){return c(this,Ha)}}Kr=new WeakMap,qr=new WeakMap,uh=new WeakMap,Vs=new WeakMap,hh=new WeakMap,jo=new WeakMap,ut=new WeakMap,yt=new WeakMap,Uo=new WeakMap,Qr=new WeakMap,fv=new WeakMap,p0=new WeakMap,dh=new WeakMap,fh=new WeakMap,Ho=new WeakMap,wr=new WeakMap,Ha=new WeakMap,pv=new WeakSet,eA=function(e,t){const r=new ArrayBuffer(e*4);E(this,Ho,new Uint8ClampedArray(r)),E(this,wr,new Uint32Array(r)),t&&t.length>0?(c(this,wr).set(t),c(this,wr).fill(Z2,t.length)):c(this,wr).fill(Z2)};var Tt,en,Gs,m0,g0;const _C=class _C{constructor(e,t,r){_(this,Tt);_(this,en);_(this,Gs);_(this,m0,0);_(this,g0,0);if(e instanceof _C&&c(e,Gs)===!!r)return e;E(this,Tt,e),E(this,en,t),E(this,Gs,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Qt(this,g0)._++,c(this,Tt).save(c(this,en)),this}restore(e){return c(this,g0)>0&&(c(this,Tt).restore(c(this,en)),Qt(this,g0)._--),this}recordOpenMarker(e){return Qt(this,m0)._++,this}getOpenMarker(){return c(this,m0)>0?c(this,en):c(this,Tt).getOpenMarker()}recordCloseMarker(e){return Qt(this,m0)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return c(this,Tt).pushBaseTransform(e),this}popBaseTransform(){return c(this,Tt).popBaseTransform(),this}recordSimpleData(e,t){return c(this,Tt).recordSimpleData(e,c(this,en)),this}recordIncrementalData(e,t){return c(this,Tt).recordIncrementalData(e,c(this,en)),this}resetIncrementalData(e,t){return c(this,Tt).resetIncrementalData(e,c(this,en)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,r){return c(this,Tt).recordSimpleDataFromNamed(e,t,c(this,en)),this}recordFutureForcedDependency(e,t){return c(this,Tt).recordFutureForcedDependency(e,c(this,en)),this}inheritSimpleDataAsFutureForcedDependencies(e){return c(this,Tt).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return c(this,Tt).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return c(this,Gs)||c(this,Tt).resetBBox(c(this,en)),this}recordClipBox(e,t,r,i,s,a){return c(this,Gs)||c(this,Tt).recordClipBox(c(this,en),t,r,i,s,a),this}recordBBox(e,t,r,i,s,a){return c(this,Gs)||c(this,Tt).recordBBox(c(this,en),t,r,i,s,a),this}recordCharacterBBox(e,t,r,i,s,a,o){return c(this,Gs)||c(this,Tt).recordCharacterBBox(c(this,en),t,r,i,s,a,o),this}recordFullPageBBox(e){return c(this,Gs)||c(this,Tt).recordFullPageBBox(c(this,en)),this}getSimpleIndex(e){return c(this,Tt).getSimpleIndex(e)}recordDependencies(e,t){return c(this,Tt).recordDependencies(c(this,en),t),this}recordNamedDependency(e,t){return c(this,Tt).recordNamedDependency(c(this,en),t),this}recordOperation(e){return c(this,Tt).recordOperation(c(this,en),!0),this}recordShowTextOperation(e){return c(this,Tt).recordShowTextOperation(c(this,en),!0),this}bboxToClipBoxDropOperation(e){return c(this,Gs)||c(this,Tt).bboxToClipBoxDropOperation(c(this,en),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Tt=new WeakMap,en=new WeakMap,Gs=new WeakMap,m0=new WeakMap,g0=new WeakMap;let dw=_C;const rs={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Jn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function tA(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class Bb{isModifyingCurrentTransform(){return!1}getPattern(){Ct("Abstract method `getPattern` called.")}}class TW extends Bb{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Jn.STROKE||i===Jn.FILL){const a=t.current.getClippedPathBoundingBox(i,Vt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),r=Re.transform(r,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),tA(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(u.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else tA(e,this._bbox),s=this._createGradient(e);return s}}function YS(n,e,t,r,i,s,a,o){const l=e.coords,u=e.colors,h=n.data,d=n.width*4;let f;l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=a,a=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=a,a=o,o=f),l[t+1]>l[r+1]&&(f=t,t=r,r=f,f=s,s=a,a=f);const p=(l[t]+e.offsetX)*e.scaleX,g=(l[t+1]+e.offsetY)*e.scaleY,m=(l[r]+e.offsetX)*e.scaleX,v=(l[r+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(g>=w)return;const y=u[s],S=u[s+1],T=u[s+2],P=u[a],b=u[a+1],F=u[a+2],D=u[o],M=u[o+1],W=u[o+2],G=Math.round(g),q=Math.round(w);let J,ae,ie,K,Y,H,X,Z;for(let N=G;N<=q;N++){if(N<v){const Q=N<g?0:(g-N)/(g-v);J=p-(p-m)*Q,ae=y-(y-P)*Q,ie=S-(S-b)*Q,K=T-(T-F)*Q}else{let Q;N>w?Q=1:v===w?Q=0:Q=(v-N)/(v-w),J=m-(m-x)*Q,ae=P-(P-D)*Q,ie=b-(b-M)*Q,K=F-(F-W)*Q}let B;N<g?B=0:N>w?B=1:B=(g-N)/(g-w),Y=p-(p-x)*B,H=y-(y-D)*B,X=S-(S-M)*B,Z=T-(T-W)*B;const U=Math.round(Math.min(J,Y)),V=Math.round(Math.max(J,Y));let te=d*N+U*4;for(let Q=U;Q<=V;Q++)B=(J-Q)/(J-Y),B<0?B=0:B>1&&(B=1),h[te++]=ae-(ae-H)*B|0,h[te++]=ie-(ie-X)*B|0,h[te++]=K-(K-Z)*B|0,h[te++]=255}}function bW(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case b2.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let h=s*o;for(let d=0;d<u;d++,h++)YS(n,t,r[h],r[h+1],r[h+o],i[h],i[h+1],i[h+o]),YS(n,t,r[h+o+1],r[h+1],r[h+o],i[h+o+1],i[h+1],i[h+o])}break;case b2.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)YS(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class CW extends Bb{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=u/d,g=h/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/g},v=d+2*2,x=f+2*2,w=r.getCanvas("mesh",v,x),y=w.context,S=y.createImageData(d,f);if(t){const P=S.data;for(let b=0,F=P.length;b<F;b+=4)P[b]=t[0],P[b+1]=t[1],P[b+2]=t[2],P[b+3]=255}for(const P of this._figures)bW(S,P,m);return y.putImageData(S,2,2),{canvas:w.canvas,offsetX:o-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,t,r,i){tA(e,this._bbox);const s=new Float32Array(2);if(i===Jn.SHADING)Re.singularValueDecompose2dScale(Vt(e),s);else if(this.matrix){Re.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Re.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=l}else Re.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,i===Jn.SHADING?null:this._background,t.cachedCanvases);return i!==Jn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class kW extends Bb{getPattern(){return"hotpink"}}function PW(n){switch(n[0]){case"RadialAxial":return new TW(n);case"Mesh":return new CW(n);case"Dummy":return new kW}throw new Error(`Unknown IR type: ${n[0]}`)}const VP={COLORED:1,UNCOLORED:2},$w=class $w{constructor(e,t,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,t){var H,X;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:u,ystep:h}=this;u=Math.abs(u),h=Math.abs(h),BE("TilingType: "+a);const d=r[0],f=r[1],p=r[2],g=r[3],m=p-d,v=g-f,x=new Float32Array(2);Re.singularValueDecompose2dScale(this.matrix,x);const[w,y]=x;Re.singularValueDecompose2dScale(this.baseTransform,x);const S=w*x[0],T=y*x[1];let P=m,b=v,F=!1,D=!1;const M=Math.ceil(u*S),W=Math.ceil(h*T),G=Math.ceil(m*S),q=Math.ceil(v*T);M>=G?P=u:F=!0,W>=q?b=h:D=!0;const J=this.getSizeAndScale(P,this.ctx.canvas.width,S),ae=this.getSizeAndScale(b,this.ctx.canvas.height,T),ie=e.cachedCanvases.getCanvas("pattern",J.size,ae.size),K=ie.context,Y=l.createCanvasGraphics(K,t);if(Y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(Y,s,o),K.translate(-J.scale*d,-ae.scale*f),Y.transform(0,J.scale,0,0,ae.scale,0,0),K.save(),(H=Y.dependencyTracker)==null||H.save(),this.clipBbox(Y,d,f,p,g),Y.baseTransform=Vt(Y.ctx),Y.executeOperatorList(i),Y.endDrawing(),(X=Y.dependencyTracker)==null||X.restore(),K.restore(),F||D){const Z=ie.canvas;F&&(P=u),D&&(b=h);const N=this.getSizeAndScale(P,this.ctx.canvas.width,S),B=this.getSizeAndScale(b,this.ctx.canvas.height,T),U=N.size,V=B.size,te=e.cachedCanvases.getCanvas("pattern-workaround",U,V),Q=te.context,he=F?Math.floor(m/u):0,me=D?Math.floor(v/h):0;for(let ce=0;ce<=he;ce++)for(let we=0;we<=me;we++)Q.drawImage(Z,U*ce,V*we,U,V,0,0,U,V);return{canvas:te.canvas,scaleX:N.scale,scaleY:B.scale,offsetX:d,offsetY:f}}return{canvas:ie.canvas,scaleX:J.scale,scaleY:ae.scale,offsetX:d,offsetY:f}}getSizeAndScale(e,t,r){const i=Math.max($w.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),Re.axialAlignedBoundingBox([t,r,i,s],Vt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case VP.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case VP.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new $z(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,r,i,s){let a=r;i!==Jn.SHADING&&(a=Re.transform(a,t.baseTransform),this.matrix&&(a=Re.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(l),u}};de($w,"MAX_PATTERN_SIZE",3e3);let nA=$w;function RW({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=ir.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],h=r>>3,d=r&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let g=0;g<i;g++){for(const v=e+h;e<v;e++){const x=e<f?n[e]:255;t[p++]=x&128?u:l,t[p++]=x&64?u:l,t[p++]=x&32?u:l,t[p++]=x&16?u:l,t[p++]=x&8?u:l,t[p++]=x&4?u:l,t[p++]=x&2?u:l,t[p++]=x&1?u:l}if(d===0)continue;const m=e<f?n[e++]:255;for(let v=0;v<d;v++)t[p++]=m&1<<7-v?u:l}return{srcPos:e,destPos:p}}const GP=16,XP=100,FW=15,YP=10,ni=16,KS=new DOMMatrix,ji=new Float32Array(2),af=new Float32Array([1/0,1/0,-1/0,-1/0]);function NW(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,r){e.translate(t,r),this.__originalTranslate(t,r)},n.scale=function(t,r){e.scale(t,r),this.__originalScale(t,r)},n.transform=function(t,r,i,s,a,o){e.transform(t,r,i,s,a,o),this.__originalTransform(t,r,i,s,a,o)},n.setTransform=function(t,r,i,s,a,o){e.setTransform(t,r,i,s,a,o),this.__originalSetTransform(t,r,i,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class DW{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function xx(n,e,t,r,i,s,a,o,l,u){const[h,d,f,p,g,m]=Vt(n);if(d===0&&f===0){const w=a*h+g,y=Math.round(w),S=o*p+m,T=Math.round(S),P=(a+l)*h+g,b=Math.abs(Math.round(P)-y)||1,F=(o+u)*p+m,D=Math.abs(Math.round(F)-T)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),y,T),n.drawImage(e,t,r,i,s,0,0,b,D),n.setTransform(h,d,f,p,g,m),[b,D]}if(h===0&&p===0){const w=o*f+g,y=Math.round(w),S=a*d+m,T=Math.round(S),P=(o+u)*f+g,b=Math.abs(Math.round(P)-y)||1,F=(a+l)*d+m,D=Math.abs(Math.round(F)-T)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,y,T),n.drawImage(e,t,r,i,s,0,0,D,b),n.setTransform(h,d,f,p,g,m),[D,b]}n.drawImage(e,t,r,i,s,a,o,l,u);const v=Math.hypot(h,d),x=Math.hypot(f,p);return[v*l,x*u]}class KP{constructor(e,t,r){de(this,"alphaIsShape",!1);de(this,"fontSize",0);de(this,"fontSizeScale",1);de(this,"textMatrix",null);de(this,"textMatrixScale",1);de(this,"fontMatrix",T2);de(this,"leading",0);de(this,"x",0);de(this,"y",0);de(this,"lineX",0);de(this,"lineY",0);de(this,"charSpacing",0);de(this,"wordSpacing",0);de(this,"textHScale",1);de(this,"textRenderingMode",zn.FILL);de(this,"textRise",0);de(this,"fillColor","#000000");de(this,"strokeColor","#000000");de(this,"patternFill",!1);de(this,"patternStroke",!1);de(this,"fillAlpha",1);de(this,"strokeAlpha",1);de(this,"lineWidth",1);de(this,"activeSMask",null);de(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=af.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Jn.FILL,t=null){const r=this.minMax.slice();if(e===Jn.STROKE){t||Ct("Stroke bounding box must include transform."),Re.singularValueDecompose2dScale(t,ji);const i=ji[0]*this.lineWidth/2,s=ji[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Re.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(af,0)}getClippedPathBoundingBox(e=Jn.FILL,t=null){return Re.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function qP(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%ni,s=(t-i)/ni,a=i===0?s:s+1,o=n.createImageData(r,ni);let l=0,u;const h=e.data,d=o.data;let f,p,g,m;if(e.kind===Yx.GRAYSCALE_1BPP){const v=h.byteLength,x=new Uint32Array(d.buffer,0,d.byteLength>>2),w=x.length,y=r+7>>3,S=4294967295,T=ir.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?ni:i,u=0,p=0;p<g;p++){const P=v-l;let b=0;const F=P>y?r:P*8-7,D=F&-8;let M=0,W=0;for(;b<D;b+=8)W=h[l++],x[u++]=W&128?S:T,x[u++]=W&64?S:T,x[u++]=W&32?S:T,x[u++]=W&16?S:T,x[u++]=W&8?S:T,x[u++]=W&4?S:T,x[u++]=W&2?S:T,x[u++]=W&1?S:T;for(;b<F;b++)M===0&&(W=h[l++],M=128),x[u++]=W&M?S:T,M>>=1}for(;u<w;)x[u++]=0;n.putImageData(o,0,f*ni)}}else if(e.kind===Yx.RGBA_32BPP){for(p=0,m=r*ni*4,f=0;f<s;f++)d.set(h.subarray(l,l+m)),l+=m,n.putImageData(o,0,p),p+=ni;f<a&&(m=r*i*4,d.set(h.subarray(l,l+m)),n.putImageData(o,0,p))}else if(e.kind===Yx.RGB_24BPP)for(g=ni,m=r*g,f=0;f<a;f++){for(f>=s&&(g=i,m=r*g),u=0,p=m;p--;)d[u++]=h[l++],d[u++]=h[l++],d[u++]=h[l++],d[u++]=255;n.putImageData(o,0,f*ni)}else throw new Error(`bad image kind: ${e.kind}`)}function QP(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%ni,s=(t-i)/ni,a=i===0?s:s+1,o=n.createImageData(r,ni);let l=0;const u=e.data,h=o.data;for(let d=0;d<a;d++){const f=d<s?ni:i;({srcPos:l}=RW({src:u,srcPos:l,dest:h,width:r,height:f,nonBlackColor:0})),n.putImageData(o,0,d*ni)}}function Qp(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function yx(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function JP(n,e){if(e)return!0;Re.singularValueDecompose2dScale(n,ji);const t=Math.fround(ao.pixelRatio*iu.PDF_TO_CSS_UNITS);return ji[0]<=t&&ji[1]<=t}const IW=["butt","round","square"],OW=["miter","round","bevel"],MW={},ZP={};var ha,rA,iA,sA;const AC=class AC{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u,h){_(this,ha);this.ctx=e,this.current=new KP(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new DW(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,r=null){var i;return typeof t=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):r}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Vt(this.compositeCtx))}this.ctx.save(),yx(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Vt(this.ctx)}executeOperatorList(e,t,r,i,s){var x;const a=e.argsArray,o=e.fnArray;let l=t||0;const u=a.length;if(u===l)return l;const h=u-l>YP&&typeof r=="function",d=h?Date.now()+FW:0;let f=0;const p=this.commonObjs,g=this.objs;let m,v;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(m=o[l],v=a[l]??null,m!==mg.dependency)v===null?this[m](l):this[m](l,...v);else for(const w of v){(x=this.dependencyTracker)==null||x.recordNamedData(w,l);const y=w.startsWith("g_")?p:g;if(!y.has(w))return y.get(w,r),l}if(l++,l===u)return l;if(h&&++f>YP){if(Date.now()>d)return r(),l;f=0}}}endDrawing(){k(this,ha,rA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),k(this,ha,iA).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,u="prescale1",h,d;for(;s>2&&o>1||a>2&&l>1;){let f=o,p=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),h=this.cachedCanvases.getCanvas(u,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,o,l,0,0,f,p),e=h.canvas,o=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,t){var M,W;const r=this.ctx,{width:i,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,l=Vt(r);let u,h,d,f;if((t.bitmap||t.data)&&t.count>1){const G=t.bitmap||t.data.buffer;h=JSON.stringify(o?l:[l.slice(0,4),a]),u=this._cachedBitmapsMap.get(G),u||(u=new Map,this._cachedBitmapsMap.set(G,u));const q=u.get(h);if(q&&!o){const J=Math.round(Math.min(l[0],l[2])+l[4]),ae=Math.round(Math.min(l[1],l[3])+l[5]);return(M=this.dependencyTracker)==null||M.recordDependencies(e,rs.transformAndFill),{canvas:q,offsetX:J,offsetY:ae}}d=q}d||(f=this.cachedCanvases.getCanvas("maskCanvas",i,s),QP(f.context,t));let p=Re.transform(l,[1/i,0,0,-1/s,0,0]);p=Re.transform(p,[1,0,0,1,0,-s]);const g=af.slice();Re.axialAlignedBoundingBox([0,0,i,s],p,g);const[m,v,x,w]=g,y=Math.round(x-m)||1,S=Math.round(w-v)||1,T=this.cachedCanvases.getCanvas("fillCanvas",y,S),P=T.context,b=m,F=v;P.translate(-b,-F),P.transform(...p),d||(d=this._scaleImage(f.canvas,xa(P)),d=d.img,u&&o&&u.set(h,d)),P.imageSmoothingEnabled=JP(Vt(P),t.interpolate),xx(P,d,0,0,d.width,d.height,0,0,i,s),P.globalCompositeOperation="source-in";const D=Re.transform(xa(P),[1,0,0,1,-b,-F]);return P.fillStyle=o?a.getPattern(r,this,D,Jn.FILL,e):a,P.fillRect(0,0,i,s),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(h,T.canvas)),(W=this.dependencyTracker)==null||W.recordDependencies(e,rs.transformAndFill),{canvas:T.canvas,offsetX:Math.round(b),offsetY:Math.round(F)}}setLineWidth(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=IW[t]}setLineJoin(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=OW[t]}setMiterLimit(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=r)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var r,i,s,a,o;for(const[l,u]of t)switch(l){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,t,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),Qp(this.suspendedCtx,a),NW(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Qp(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,u,h,d){let f=e.canvas,p=l-h,g=u-d;if(a)if(p<0||g<0||p+r>f.width||g+i>f.height){const v=this.cachedCanvases.getCanvas("maskExtension",r,i),x=v.context;x.drawImage(f,-p,-g),x.globalCompositeOperation="destination-atop",x.fillStyle=a,x.fillRect(0,0,r,i),x.globalCompositeOperation="source-over",f=v.canvas,p=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const v=new Path2D;v.rect(p,g,r,i),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,g,r,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(l,u,r,i),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(f,p,g,r,i,l,u,r,i),t.restore()}save(e){var r;this.inSMaskMode&&Qp(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Qp(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(t,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===mg.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=o4(s)),Re.axialAlignedBoundingBox(i,Vt(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,xa(i),Jn.STROKE,e),o){const l=new Path2D;l.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=l}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,rs.stroke),r&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Jn.STROKE,Vt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,r=!0){var u,h,d;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const f=s.isModifyingCurrentTransform()?i.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),i.save(),i.fillStyle=s.getPattern(i,this,xa(i),Jn.FILL,e),f){const p=new Path2D;p.addPath(t,i.getTransform().invertSelf().multiplySelf(f)),t=p}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),(h=this.dependencyTracker)==null||h.recordDependencies(e,rs.fill),o&&(i.restore(),(d=this.dependencyTracker)==null||d.restore(e)),r&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var r;this.ctx.fill(t),(r=this.dependencyTracker)==null||r.recordDependencies(e,rs.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=MW}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=ZP}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:u,path:h}of t)h&&i.addPath(h,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(u,-u));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,r){var d,f;(d=this.dependencyTracker)==null||d.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=i.fontMatrix||T2,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Le("Invalid font matrix for font "+t),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((f=i.systemFontInfo)==null?void 0:f.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const u=i.italic?"italic":"normal";let h=r;r<GP?h=GP:r>XP&&(h=XP),this.current.fontSizeScale=r/h,this.ctx.font=`${u} ${l} ${h}px ${o}`}setTextRenderingMode(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,t,r){this.setLeading(e,-r),this.moveText(e,t,r)}setTextMatrix(e,t){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=t,r.textMatrixScale=Math.hypot(t[0],t[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,r,i,s,a){var x,w,y,S;const o=this.ctx,l=this.current,u=l.font,h=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,f=h&zn.FILL_STROKE_MASK,p=!!(h&zn.ADD_TO_PATH_FLAG),g=l.patternFill&&!u.missingFile,m=l.patternStroke&&!u.missingFile;let v;if((u.disableFontFace||p||g||m)&&!u.missingFile&&(v=u.getPathGenerator(this.commonObjs,t)),v&&(u.disableFontFace||g||m)){o.save(),o.translate(r,i),o.scale(d,-d),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,u);let T;if(f===zn.FILL||f===zn.FILL_STROKE)if(s){T=o.getTransform(),o.setTransform(...s);const P=k(this,ha,sA).call(this,v,T,s);o.fill(P)}else o.fill(v);if(f===zn.STROKE||f===zn.FILL_STROKE)if(a){T||(T=o.getTransform()),o.setTransform(...a);const{a:P,b,c:F,d:D}=T,M=Re.inverseTransform(a),W=Re.transform([P,b,F,D,0,0],M);Re.singularValueDecompose2dScale(W,ji),o.lineWidth*=Math.max(ji[0],ji[1])/d,o.stroke(k(this,ha,sA).call(this,v,T,a))}else o.lineWidth/=d,o.stroke(v);o.restore()}else(f===zn.FILL||f===zn.FILL_STROKE)&&(o.fillText(t,r,i),(w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,u,d,r,i,()=>o.measureText(t))),(f===zn.STROKE||f===zn.FILL_STROKE)&&(this.dependencyTracker&&((y=this.dependencyTracker)==null||y.recordCharacterBBox(e,o,u,d,r,i,()=>o.measureText(t)).recordDependencies(e,rs.stroke)),o.strokeText(t,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Vt(o),x:r,y:i,fontSize:d,path:v}),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,u,d,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return $e(this,"isFontSubpixelAAEnabled",r)}showText(e,t){var F,D,M,W;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,rs.showText).resetBBox(e),this.current.textRenderingMode&zn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,t),(F=this.dependencyTracker)==null||F.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(D=this.dependencyTracker)==null||D.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,u=r.wordSpacing,h=r.fontDirection,d=r.textHScale*h,f=t.length,p=i.vertical,g=p?1:-1,m=i.defaultVMetrics,v=s*r.fontMatrix[0],x=r.textRenderingMode===zn.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),h>0?a.scale(d,-1):a.scale(d,1);let w,y;if(r.patternFill){a.save();const G=r.fillColor.getPattern(a,this,xa(a),Jn.FILL,e);w=Vt(a),a.restore(),a.fillStyle=G}if(r.patternStroke){a.save();const G=r.strokeColor.getPattern(a,this,xa(a),Jn.STROKE,e);y=Vt(a),a.restore(),a.strokeStyle=G}let S=r.lineWidth;const T=r.textMatrixScale;if(T===0||S===0){const G=r.textRenderingMode&zn.FILL_STROKE_MASK;(G===zn.STROKE||G===zn.FILL_STROKE)&&(S=this.getSinglePixelWidth())}else S/=T;if(o!==1&&(a.scale(o,o),S/=o),a.lineWidth=S,i.isInvalidPDFjsFont){const G=[];let q=0;for(const ae of t)G.push(ae.unicode),q+=ae.width;const J=G.join("");if(a.fillText(J,0,0),this.dependencyTracker!==null){const ae=a.measureText(J);this.dependencyTracker.recordBBox(e,this.ctx,-ae.actualBoundingBoxLeft,ae.actualBoundingBoxRight,-ae.actualBoundingBoxAscent,ae.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=q*v*d,a.restore(),this.compose();return}let P=0,b;for(b=0;b<f;++b){const G=t[b];if(typeof G=="number"){P+=g*G*s/1e3;continue}let q=!1;const J=(G.isSpace?u:0)+l,ae=G.fontChar,ie=G.accent;let K,Y,H=G.width;if(p){const N=G.vmetric||m,B=-(G.vmetric?N[1]:H*.5)*v,U=N[2]*v;H=N?-N[0]:H,K=B/o,Y=(P+U)/o}else K=P/o,Y=0;let X;if(i.remeasure&&H>0){X=a.measureText(ae);const N=X.width*1e3/s*o;if(H<N&&this.isFontSubpixelAAEnabled){const B=H/N;q=!0,a.save(),a.scale(B,1),K/=B}else H!==N&&(K+=(H-N)/2e3*s/o)}if(this.contentVisible&&(G.isInFont||i.missingFile)){if(x&&!ie)a.fillText(ae,K,Y),(M=this.dependencyTracker)==null||M.recordCharacterBBox(e,a,X?{bbox:null}:i,s/o,K,Y,()=>X??a.measureText(ae));else if(this.paintChar(e,ae,K,Y,w,y),ie){const N=K+s*ie.offset.x/o,B=Y-s*ie.offset.y/o;this.paintChar(e,ie.fontChar,N,B,w,y)}}const Z=p?H*v-J*h:H*v+J*h;P+=Z,q&&a.restore()}p?r.y-=P:r.x+=P*d,a.restore(),this.compose(),(W=this.dependencyTracker)==null||W.recordShowTextOperation(e)}showType3Text(e,t){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,u=i.charSpacing,h=i.wordSpacing,d=i.textHScale*o,f=i.fontMatrix||T2,p=t.length,g=i.textRenderingMode===zn.INVISIBLE;let m,v,x,w;if(g||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(d,o);const y=this.dependencyTracker;for(this.dependencyTracker=y?new dw(y,e):null,m=0;m<p;++m){if(v=t[m],typeof v=="number"){w=l*v*a/1e3,this.ctx.translate(w,0),i.x+=w*d;continue}const S=(v.isSpace?h:0)+u,T=s.charProcOperatorList[v.operatorListId];T?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...f),this.executeOperatorList(T),this.restore()):Le(`Type3 character "${v.operatorListId}" is not available.`);const P=[v.width,0];Re.applyTransform(P,f),x=P[0]*a+S,r.translate(x,0),i.x+=x*d}r.restore(),y&&(this.dependencyTracker=y)}setCharWidth(e,t,r){}setCharWidthAndBounds(e,t,r,i,s,a,o){var u;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let r;if(t[0]==="TilingPattern"){const i=this.baseTransform||Vt(this.ctx),s={createCanvasGraphics:(a,o)=>new AC(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new dw(this.dependencyTracker,o,!0):null)};r=new nA(t,this.ctx,s,i)}else r=this._getPattern(e,t[1],t[2]);return r}setStrokeColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,r=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=PW(this.getObject(e,t)),this.cachedPatterns.set(t,i)),r&&(i.matrix=r),i}shadingFill(e,t){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,t);r.fillStyle=i.getPattern(r,this,xa(r),Jn.SHADING,e);const s=xa(r);if(s){const{width:o,height:l}=r.canvas,u=af.slice();Re.axialAlignedBoundingBox([0,0,o,l],s,u);const[h,d,f,p]=u;this.ctx.fillRect(h,d,f-h,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,rs.transform).recordDependencies(e,rs.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ct("Should not call beginInlineImage")}beginImageData(){Ct("Should not call beginImageData")}paintFormXObjectBegin(e,t,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Vt(this.ctx),r)){Re.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,u=new Path2D;u.rect(s,a,o-s,l-a),this.ctx.clip(u),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var y;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;t.isolated||BE("TODO: Support non-isolated groups."),t.knockout&&Le("Knockout groups not supported.");const i=Vt(r);if(t.matrix&&r.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=af.slice();Re.axialAlignedBoundingBox(t.bbox,Vt(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=Re.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),u=Math.max(Math.ceil(s[2])-o,1),h=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,u,h]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,u,h),p=f.context;p.translate(-o,-l),p.transform(...i);let g=new Path2D;const[m,v,x,w]=t.bbox;if(g.rect(m,v,x-m,w-v),t.matrix){const S=new Path2D;S.addPath(g,new DOMMatrix(t.matrix)),g=S}p.clip(g),t.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),Qp(r,p),this.ctx=p,(y=this.dependencyTracker)==null||y.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Vt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=af.slice();Re.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,r,i,s,a){if(k(this,ha,rA).call(this),yx(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,Re.singularValueDecompose2dScale(Vt(this.ctx),ji);const{viewportScale:u}=this,h=Math.ceil(o*this.outputScaleX*u),d=Math.ceil(l*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(ji[0],0,0,-ji[1],0,l*ji[1]),yx(this.ctx)}else{yx(this.ctx),this.endPath(e);const u=new Path2D;u.rect(r[0],r[1],o,l),this.ctx.clip(u)}}this.current=new KP(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),k(this,ha,iA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const r=t.count;t=this.getObject(e,t.data,t),t.count=r;const i=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r,i=0,s=0,a,o){var d,f,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const l=this.ctx;l.save();const u=Vt(l);l.transform(r,i,s,a,0,0);const h=this._createMaskCanvas(e,t);l.setTransform(1,0,0,1,h.offsetX-u[4],h.offsetY-u[5]),(d=this.dependencyTracker)==null||d.resetBBox(e);for(let g=0,m=o.length;g<m;g+=2){const v=Re.transform(u,[r,i,s,a,o[g],o[g+1]]);l.drawImage(h.canvas,v[4],v[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,v[4],v[4]+h.canvas.width,v[5],v[5]+h.canvas.height)}l.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,rs.transformAndFill);for(const u of t){const{data:h,width:d,height:f,transform:p}=u,g=this.cachedCanvases.getCanvas("maskCanvas",d,f),m=g.context;m.save();const v=this.getObject(e,h,u);QP(m,v),m.globalCompositeOperation="source-in",m.fillStyle=s?i.getPattern(m,this,xa(r),Jn.FILL,e):i,m.fillRect(0,0,d,f),m.restore(),r.save(),r.transform(...p),r.scale(1,-1),xx(r,g.canvas,0,0,d,f,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,d,0,f),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r){Le("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,t,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){Le("Dependent image isn't ready yet");return}const o=a.width,l=a.height,u=[];for(let h=0,d=s.length;h<d;h+=2)u.push({transform:[r,0,0,i,s[h],s[h+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var u;if(!this.contentVisible)return;const r=t.width,i=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",r,i).context;qP(d,t),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,xa(s));s.imageSmoothingEnabled=JP(Vt(s),t.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,rs.imageXObject).recordOperation(e),xx(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const u=t.width,h=t.height,f=this.cachedCanvases.getCanvas("inlineImage",u,h).context;qP(f,t),s=this.applyTransferMapsToCanvas(f)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const u of r)i.save(),i.transform(...u.transform),i.scale(1,-1),xx(i,s,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,rs.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,r){}beginMarkedContent(e,t){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===ZP?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Vt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const h=l*e;a=o=h<1?1/h:1}else if(e===0)a=1/l,o=1/u;else{const h=l*e,d=u*e;a=h<1?1/h:1,o=d<1?1/d:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),h=Math.hypot(i,s);if(e===0)a=h/l,o=u/l;else{const d=e*l;a=h>d?h/d:1,o=u>d?u/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();t&&r.save(),r.scale(s,a),KS.a=1/s,KS.d=1/a;const l=new Path2D;if(l.addPath(e,KS),o.length>0){const u=Math.max(s,a);r.setLineDash(o.map(h=>h/u)),r.lineDashOffset/=u}r.lineWidth=i||1,r.stroke(l),t&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ha=new WeakSet,rA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},iA=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},sA=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let Sf=AC;for(const n in mg)Sf.prototype[n]!==void 0&&(Sf.prototype[mg[n]]=Sf.prototype[n]);var mv,gv;class eo{static get workerPort(){return c(this,mv)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");E(this,mv,e)}static get workerSrc(){return c(this,gv)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");E(this,gv,e)}}mv=new WeakMap,gv=new WeakMap,_(eo,mv,null),_(eo,gv,"");var v0,vv;class LW{constructor({parsedData:e,rawData:t}){_(this,v0);_(this,vv);E(this,v0,e),E(this,vv,t)}getRaw(){return c(this,vv)}get(e){return c(this,v0).get(e)??null}[Symbol.iterator](){return c(this,v0).entries()}}v0=new WeakMap,vv=new WeakMap;const $d=Symbol("INTERNAL");var xv,yv,wv,x0;class BW{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){_(this,xv,!1);_(this,yv,!1);_(this,wv,!1);_(this,x0,!0);E(this,xv,!!(e&Mi.DISPLAY)),E(this,yv,!!(e&Mi.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(c(this,wv))return c(this,x0);if(!c(this,x0))return!1;const{print:e,view:t}=this.usage;return c(this,xv)?(t==null?void 0:t.viewState)!=="OFF":c(this,yv)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==$d&&Ct("Internal method `_setVisible` called."),E(this,wv,r),E(this,x0,t)}}xv=new WeakMap,yv=new WeakMap,wv=new WeakMap,x0=new WeakMap;var fc,wt,y0,w0,Ev,aA;class jW{constructor(e,t=Mi.DISPLAY){_(this,Ev);_(this,fc,null);_(this,wt,new Map);_(this,y0,null);_(this,w0,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,E(this,w0,e.order);for(const r of e.groups)c(this,wt).set(r.id,new BW(t,r));if(e.baseState==="OFF")for(const r of c(this,wt).values())r._setVisible($d,!1);for(const r of e.on)c(this,wt).get(r)._setVisible($d,!0);for(const r of e.off)c(this,wt).get(r)._setVisible($d,!1);E(this,y0,this.getHash())}}isVisible(e){if(c(this,wt).size===0)return!0;if(!e)return BE("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,wt).has(e.id)?c(this,wt).get(e.id).visible:(Le(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return k(this,Ev,aA).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!c(this,wt).has(t))return Le(`Optional content group not found: ${t}`),!0;if(c(this,wt).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!c(this,wt).has(t))return Le(`Optional content group not found: ${t}`),!0;if(!c(this,wt).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!c(this,wt).has(t))return Le(`Optional content group not found: ${t}`),!0;if(!c(this,wt).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!c(this,wt).has(t))return Le(`Optional content group not found: ${t}`),!0;if(c(this,wt).get(t).visible)return!1}return!0}return Le(`Unknown optional content policy ${e.policy}.`),!0}return Le(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=c(this,wt).get(e);if(!i){Le(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=c(this,wt).get(o))==null||s._setVisible($d,!1,!0));i._setVisible($d,!!t,!0),E(this,fc,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=c(this,wt).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}E(this,fc,null)}get hasInitialVisibility(){return c(this,y0)===null||this.getHash()===c(this,y0)}getOrder(){return c(this,wt).size?c(this,w0)?c(this,w0).slice():[...c(this,wt).keys()]:null}getGroup(e){return c(this,wt).get(e)||null}getHash(){if(c(this,fc)!==null)return c(this,fc);const e=new j4;for(const[t,r]of c(this,wt))e.update(`${t}:${r.visible}`);return E(this,fc,e.hexdigest())}[Symbol.iterator](){return c(this,wt).entries()}}fc=new WeakMap,wt=new WeakMap,y0=new WeakMap,w0=new WeakMap,Ev=new WeakSet,aA=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=k(this,Ev,aA).call(this,s);else if(c(this,wt).has(s))a=c(this,wt).get(s).visible;else return Le(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class UW{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Ze(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Ze(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ze(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new HW(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new $W(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class HW{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=Ob(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class $W{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function zW(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let h=o(t);return h=unescape(h),h=l(h),h=u(h),s(h)}if(t=a(n),t){const h=u(t);return s(h)}if(t=r("filename","i").exec(n),t){t=t[1];let h=o(t);return h=u(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=T1(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function a(h){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,m,v,x]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[v,x]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[v,x]=d[m];x=o(x),v&&(x=unescape(x),m===0&&(x=l(x))),g.push(x)}return g.join("")}function o(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),g=h.slice(d+1).replace(/^[^']*'/,"");return i(f,g)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,v){return String.fromCharCode(parseInt(v,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function Q4(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function UE(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function J4({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function Z4(n){const e=n.get("Content-Disposition");if(e){let t=zW(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(Ob(t))return t}return null}function R1(n,e){return new aw(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function eM(n){return n===200||n===206}function tM(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function nM(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Le(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class WW{constructor(e){de(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Q4(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ze(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new VW(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new GW(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class VW{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,tM(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=UE(s.url),!eM(s.status))throw R1(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=J4({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=Z4(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ru("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nM(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class GW{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,tM(s,this._withCredentials,this._abortController)).then(o=>{const l=UE(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!eM(o.status))throw R1(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:nM(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const qS=200,QS=206;function XW(n){const e=n.response;return typeof e!="string"?e:T1(e).buffer}class YW{constructor({url:e,httpHeaders:t,withCredentials:r}){de(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=Q4(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=QS):i.expectedStatus=qS,t.responseType="arraybuffer",Ze(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||qS;if(!(s===qS&&r.expectedStatus===QS)&&s!==r.expectedStatus){r.onError(i.status);return}const o=XW(i);if(s===QS){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(Le('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class KW{constructor(e){this._source=e,this._manager=new YW(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ze(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new qW(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new QW(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class qW{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=UE(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=J4({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Z4(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=R1(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class QW{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=UE((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=R1(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const JW=/^[a-z][a-z0-9\-+.]+:/i;function ZW(n){if(JW.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class eV{constructor(e){this.source=e,this.url=ZW(e.url),Ze(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ze(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new tV(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new nV(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class tV{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=R1(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ru("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class nV{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Jp=Symbol("INITIAL_DATA");var Si,Sv,oA;class rM{constructor(){_(this,Sv);_(this,Si,Object.create(null))}get(e,t=null){if(t){const i=k(this,Sv,oA).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=c(this,Si)[e];if(!r||r.data===Jp)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=c(this,Si)[e];return!!t&&t.data!==Jp}delete(e){const t=c(this,Si)[e];return!t||t.data===Jp?!1:(delete c(this,Si)[e],!0)}resolve(e,t=null){const r=k(this,Sv,oA).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in c(this,Si)){const{data:r}=c(this,Si)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}E(this,Si,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Si)){const{data:t}=c(this,Si)[e];t!==Jp&&(yield[e,t])}}}Si=new WeakMap,Sv=new WeakSet,oA=function(e){var t;return(t=c(this,Si))[e]||(t[e]={...Promise.withResolvers(),data:Jp})};const rV=1e5,eR=30;var sF,pc,Jr,_v,Av,ph,$o,Tv,bv,mh,E0,S0,mc,_0,Cv,A0,gh,kv,Pv,T0,vh,Rv,gc,b0,Al,iM,sM,lA,Ki,sy,cA,aM,oM;const En=class En{constructor({textContentSource:e,container:t,viewport:r}){_(this,Al);_(this,pc,Promise.withResolvers());_(this,Jr,null);_(this,_v,!1);_(this,Av,!!((sF=globalThis.FontInspector)!=null&&sF.enabled));_(this,ph,null);_(this,$o,null);_(this,Tv,0);_(this,bv,0);_(this,mh,null);_(this,E0,null);_(this,S0,0);_(this,mc,0);_(this,_0,Object.create(null));_(this,Cv,[]);_(this,A0,null);_(this,gh,[]);_(this,kv,new WeakMap);_(this,Pv,null);var l;if(e instanceof ReadableStream)E(this,A0,e);else if(typeof e=="object")E(this,A0,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');E(this,Jr,E(this,E0,t)),E(this,mc,r.scale*ao.pixelRatio),E(this,S0,r.rotation),E(this,$o,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;E(this,Pv,[1,0,0,-1,-a,o+s]),E(this,bv,i),E(this,Tv,s),k(l=En,Ki,aM).call(l),cd(t,r),c(this,pc).promise.finally(()=>{c(En,b0).delete(this),E(this,$o,null),E(this,_0,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=ir.platform;return $e(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,mh).read().then(({value:t,done:r})=>{if(r){c(this,pc).resolve();return}c(this,ph)??E(this,ph,t.lang),Object.assign(c(this,_0),t.styles),k(this,Al,iM).call(this,t.items),e()},c(this,pc).reject)};return E(this,mh,c(this,A0).getReader()),c(En,b0).add(this),e(),c(this,pc).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*ao.pixelRatio,i=e.rotation;if(i!==c(this,S0)&&(t==null||t(),E(this,S0,i),cd(c(this,E0),{rotation:i})),r!==c(this,mc)){t==null||t(),E(this,mc,r);const a={div:null,properties:null,ctx:k(s=En,Ki,sy).call(s,c(this,ph))};for(const o of c(this,gh))a.properties=c(this,kv).get(o),a.div=o,k(this,Al,lA).call(this,a)}}cancel(){var t;const e=new ru("TextLayer task cancelled.");(t=c(this,mh))==null||t.cancel(e).catch(()=>{}),E(this,mh,null),c(this,pc).reject(e)}get textDivs(){return c(this,gh)}get textContentItemsStr(){return c(this,Cv)}static cleanup(){if(!(c(this,b0).size>0)){c(this,T0).clear();for(const{canvas:e}of c(this,vh).values())e.remove();c(this,vh).clear()}}};pc=new WeakMap,Jr=new WeakMap,_v=new WeakMap,Av=new WeakMap,ph=new WeakMap,$o=new WeakMap,Tv=new WeakMap,bv=new WeakMap,mh=new WeakMap,E0=new WeakMap,S0=new WeakMap,mc=new WeakMap,_0=new WeakMap,Cv=new WeakMap,A0=new WeakMap,gh=new WeakMap,kv=new WeakMap,Pv=new WeakMap,T0=new WeakMap,vh=new WeakMap,Rv=new WeakMap,gc=new WeakMap,b0=new WeakMap,Al=new WeakSet,iM=function(e){var i,s;if(c(this,_v))return;(s=c(this,$o)).ctx??(s.ctx=k(i=En,Ki,sy).call(i,c(this,ph)));const t=c(this,gh),r=c(this,Cv);for(const a of e){if(t.length>rV){Le("Ignoring additional textDivs for performance reasons."),E(this,_v,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=c(this,Jr);E(this,Jr,document.createElement("span")),c(this,Jr).classList.add("markedContent"),a.id&&c(this,Jr).setAttribute("id",`${a.id}`),o.append(c(this,Jr))}else a.type==="endMarkedContent"&&E(this,Jr,c(this,Jr).parentNode);continue}r.push(a.str),k(this,Al,sM).call(this,a)}},sM=function(e){var m;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,gh).push(t);const i=Re.transform(c(this,Pv),e.transform);let s=Math.atan2(i[1],i[0]);const a=c(this,_0)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=c(this,Av)&&a.fontSubstitution||a.fontFamily;o=En.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*k(m=En,Ki,oM).call(m,o,a,c(this,ph));let h,d;s===0?(h=i[4],d=i[5]-u):(h=i[4]+u*Math.sin(s),d=i[5]-u*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=t.style;c(this,Jr)===c(this,E0)?(p.left=`${(100*h/c(this,bv)).toFixed(2)}%`,p.top=`${(100*d/c(this,Tv)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(c(En,gc)*l).toFixed(2)}px)`,p.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,c(this,Av)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);v!==x&&Math.max(v,x)/Math.min(v,x)>1.5&&(g=!0)}if(g&&(r.canvasWidth=a.vertical?e.height:e.width),c(this,kv).set(t,r),c(this,$o).div=t,c(this,$o).properties=r,k(this,Al,lA).call(this,c(this,$o)),r.hasText&&c(this,Jr).append(t),r.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),c(this,Jr).append(v)}},lA=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(c(En,gc)>1&&(a=`scale(${1/c(En,gc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:h}=r;k(o=En,Ki,cA).call(o,i,h*c(this,mc),l);const{width:d}=i.measureText(t.textContent);d>0&&(a=`scaleX(${u*c(this,mc)/d}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Ki=new WeakSet,sy=function(e=null){let t=c(this,vh).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,vh).set(e,t),c(this,Rv).set(t,{size:0,family:""})}return t},cA=function(e,t,r){const i=c(this,Rv).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},aM=function(){if(c(this,gc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),E(this,gc,e.getBoundingClientRect().height),e.remove()},oM=function(e,t,r){const i=c(this,T0).get(e);if(i)return i;const s=k(this,Ki,sy).call(this,r);s.canvas.width=s.canvas.height=eR,k(this,Ki,cA).call(this,s,eR,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let u=.8;return o?u=o/(o+l):(ir.platform.isFirefox&&Le("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?u=t.ascent:t.descent&&(u=1+t.descent)),c(this,T0).set(e,u),u},_(En,Ki),_(En,T0,new Map),_(En,vh,new Map),_(En,Rv,new WeakMap),_(En,gc,null),_(En,b0,new Set);let vg=En;const iV=100;function lM(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new uA,{docId:t}=e,r=n.url?hW(n.url):null,i=n.data?dW(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof cM?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof xg?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!jE(n.docBaseUrl)?n.docBaseUrl:null,p=px(n.cMapUrl),g=n.cMapPacked!==!1,m=n.CMapReaderFactory||(Ir?wW:UP),v=px(n.iccUrl),x=px(n.standardFontDataUrl),w=n.StandardFontDataFactory||(Ir?EW:HP),y=px(n.wasmUrl),S=n.WasmFactory||(Ir?SW:$P),T=n.stopAtErrors!==!0,P=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,b=n.isEvalSupported!==!1,F=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ir,D=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ir&&(ir.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,W=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ir,G=n.fontExtraProperties===!0,q=n.enableXfa===!0,J=n.ownerDocument||globalThis.document,ae=n.disableRange===!0,ie=n.disableStream===!0,K=n.disableAutoFetch===!0,Y=n.pdfBug===!0,H=n.CanvasFactory||(Ir?yW:gW),X=n.FilterFactory||(Ir?xW:vW),Z=n.enableHWA===!0,N=n.useWasm!==!1,B=l?l.length:n.length??NaN,U=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ir&&!W,V=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(m===UP&&w===HP&&S===$P&&p&&x&&y&&om(p,document.baseURI)&&om(x,document.baseURI)&&om(y,document.baseURI)),te=null;jz(d);const Q={canvasFactory:new H({ownerDocument:J,enableHWA:Z}),filterFactory:new X({docId:t,ownerDocument:J}),cMapReaderFactory:V?null:new m({baseUrl:p,isCompressed:g}),standardFontDataFactory:V?null:new w({baseUrl:x}),wasmFactory:V?null:new S({baseUrl:y})};h||(h=xg.create({verbosity:d,port:eo.workerPort}),e._worker=h);const he={docId:t,apiVersion:"5.4.394",data:i,password:o,disableAutoFetch:K,rangeChunkSize:u,length:B,docBaseUrl:f,enableXfa:q,evaluatorOptions:{maxImageSize:P,disableFontFace:W,ignoreErrors:T,isEvalSupported:b,isOffscreenCanvasSupported:F,isImageDecoderSupported:D,canvasMaxAreaInBytes:M,fontExtraProperties:G,useSystemFonts:U,useWasm:N,useWorkerFetch:V,cMapUrl:p,iccUrl:v,standardFontDataUrl:x,wasmUrl:y}},me={ownerDocument:J,pdfBug:Y,styleElement:te,loadingParams:{disableAutoFetch:K,enableXfa:q}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ce=h.messageHandler.sendWithPromise("GetDocRequest",he,i?[i.buffer]:null);let we;if(l)we=new UW(l,{disableRange:ae,disableStream:ie});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const Te=om(r)?WW:Ir?eV:KW;we=new Te({url:r,length:B,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:ae,disableStream:ie})}return ce.then(Te=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Qe=new mm(t,Te,h.port),Oe=new oV(Qe,e,we,me,Q,Z);e._transport=Oe,Qe.send("Ready",null)})}).catch(e._capability.reject),e}var zw;const Ww=class Ww{constructor(){de(this,"_capability",Promise.withResolvers());de(this,"_transport",null);de(this,"_worker",null);de(this,"docId",`d${Qt(Ww,zw)._++}`);de(this,"destroyed",!1);de(this,"onPassword",null);de(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};zw=new WeakMap,_(Ww,zw,0);let uA=Ww;var xh,Fv,Nv,Dv,Iv;class cM{constructor(e,t,r=!1,i=null){_(this,xh,Promise.withResolvers());_(this,Fv,[]);_(this,Nv,[]);_(this,Dv,[]);_(this,Iv,[]);this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){c(this,Iv).push(e)}addProgressListener(e){c(this,Dv).push(e)}addProgressiveReadListener(e){c(this,Nv).push(e)}addProgressiveDoneListener(e){c(this,Fv).push(e)}onDataRange(e,t){for(const r of c(this,Iv))r(e,t)}onDataProgress(e,t){c(this,xh).promise.then(()=>{for(const r of c(this,Dv))r(e,t)})}onDataProgressiveRead(e){c(this,xh).promise.then(()=>{for(const t of c(this,Nv))t(e)})}onDataProgressiveDone(){c(this,xh).promise.then(()=>{for(const e of c(this,Fv))e()})}transportReady(){c(this,xh).resolve()}requestDataRange(e,t){Ct("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}xh=new WeakMap,Fv=new WeakMap,Nv=new WeakMap,Dv=new WeakMap,Iv=new WeakMap;class sV{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $e(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var zo,yh,wm;class aV{constructor(e,t,r,i=!1){_(this,yh);_(this,zo,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new DP:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new rM,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new C1({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $e(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:r,intent:i="display",annotationMode:s=Hl.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:g=null}){var D,M,W;(D=this._stats)==null||D.time("Overall");const m=this._transport.getRenderingIntent(i,s,d,f),{renderingIntent:v,cacheKey:x}=m;E(this,zo,!1),l||(l=this._transport.getOptionalContentConfig(v));let w=this._intentStates.get(x);w||(w=Object.create(null),this._intentStates.set(x,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const y=!!(v&Mi.PRINT);w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(M=this._stats)==null||M.time("Page Request"),this._pumpOperatorList(m));const S=!!(this._pdfBug&&((W=globalThis.StepperManager)!=null&&W.enabled)),T=!this.recordedBBoxes&&(p||S),P=G=>{var q,J;if(w.renderTasks.delete(b),T){const ae=(q=b.gfx)==null?void 0:q.dependencyTracker.take();ae&&(b.stepper&&b.stepper.setOperatorBBoxes(ae,b.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=ae))}y&&E(this,zo,!0),k(this,yh,wm).call(this),G?(b.capability.reject(G),this._abortOperatorList({intentState:w,reason:G instanceof Error?G:new Error(G)})):b.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(J=globalThis.Stats)!=null&&J.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},b=new hA({callback:P,params:{canvas:t,canvasContext:e,dependencyTracker:T?new AW(t,w.operatorList.length,S):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:g});(w.renderTasks||(w.renderTasks=new Set)).add(b);const F=b.task;return Promise.all([w.displayReadyCapability.promise,l]).then(([G,q])=>{var J;if(this.destroyed){P();return}if((J=this._stats)==null||J.time("Rendering"),!(q.renderingIntent&v))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");b.initializeGraphics({transparency:G,optionalContentConfig:q}),b.operatorListChanged()}).catch(P),F}getOperatorList({intent:e="display",annotationMode:t=Hl.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>gg.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),E(this,zo,!1),Promise.all(e)}cleanup(e=!1){E(this,zo,!0);const t=k(this,yh,wm).call(this);return e&&t&&this._stats&&(this._stats=new DP),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&k(this,yh,wm).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const h=()=>{l.read().then(({value:d,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,u),h())},d=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();k(this,yh,wm).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(d);else if(u.opListReadCapability)u.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof Ib){let i=iV;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ru(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}zo=new WeakMap,yh=new WeakSet,wm=function(){if(!c(this,zo)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),E(this,zo,!1),!0};var vc,Xs,Wo,wh,Vw,Eh,Sh,Ur,ay,uM,hM,Em,C0,oy;const Bt=class Bt{constructor({name:e=null,port:t=null,verbosity:r=Uz()}={}){_(this,Ur);_(this,vc,Promise.withResolvers());_(this,Xs,null);_(this,Wo,null);_(this,wh,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,t){if(c(Bt,Sh).has(t))throw new Error("Cannot use more than one PDFWorker per port.");c(Bt,Sh).set(t,this),k(this,Ur,uM).call(this,t)}else k(this,Ur,hM).call(this)}get promise(){return c(this,vc).promise}get port(){return c(this,Wo)}get messageHandler(){return c(this,Xs)}destroy(){var e,t;this.destroyed=!0,(e=c(this,wh))==null||e.terminate(),E(this,wh,null),c(Bt,Sh).delete(c(this,Wo)),E(this,Wo,null),(t=c(this,Xs))==null||t.destroy(),E(this,Xs,null)}static create(e){const t=c(this,Sh).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Bt(e)}static get workerSrc(){if(eo.workerSrc)return eo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $e(this,"_setupFakeWorkerGlobal",(async()=>c(this,C0,oy)?c(this,C0,oy):(await import(this.workerSrc)).WorkerMessageHandler)())}};vc=new WeakMap,Xs=new WeakMap,Wo=new WeakMap,wh=new WeakMap,Vw=new WeakMap,Eh=new WeakMap,Sh=new WeakMap,Ur=new WeakSet,ay=function(){c(this,vc).resolve(),c(this,Xs).send("configure",{verbosity:this.verbosity})},uM=function(e){E(this,Wo,e),E(this,Xs,new mm("main","worker",e)),c(this,Xs).on("ready",()=>{}),k(this,Ur,ay).call(this)},hM=function(){if(c(Bt,Eh)||c(Bt,C0,oy)){k(this,Ur,Em).call(this);return}let{workerSrc:e}=Bt;try{Bt._isSameOrigin(window.location,e)||(e=Bt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new mm("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?c(this,vc).reject(new Error("Worker was destroyed")):k(this,Ur,Em).call(this)},s=new AbortController;t.addEventListener("error",()=>{c(this,wh)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}E(this,Xs,r),E(this,Wo,t),E(this,wh,t),k(this,Ur,ay).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{k(this,Ur,Em).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{BE("The worker has been disabled.")}k(this,Ur,Em).call(this)},Em=function(){c(Bt,Eh)||(Le("Setting up fake worker."),E(Bt,Eh,!0)),Bt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){c(this,vc).reject(new Error("Worker was destroyed"));return}const t=new mW;E(this,Wo,t);const r=`fake${Qt(Bt,Vw)._++}`,i=new mm(r+"_worker",r,t);e.setup(i,t),E(this,Xs,new mm(r,r+"_worker",t)),k(this,Ur,ay).call(this)}).catch(e=>{c(this,vc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},C0=new WeakSet,oy=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},_(Bt,C0),_(Bt,Vw,0),_(Bt,Eh,!1),_(Bt,Sh,new WeakMap),Ir&&(E(Bt,Eh,!0),eo.workerSrc||(eo.workerSrc="./pdf.worker.mjs")),Bt._isSameOrigin=(e,t)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(t,r);return r.origin===i.origin},Bt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Bt.fromPort=e=>{if(Jz("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Bt.create(e)};let xg=Bt;var Vo,$a,k0,P0,Go,_h,Sm;class oV{constructor(e,t,r,i,s,a){_(this,_h);_(this,Vo,new Map);_(this,$a,new Map);_(this,k0,new Map);_(this,P0,new Map);_(this,Go,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new rM,this.fontLoader=new cW({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return $e(this,"annotationStorage",new Mb)}getRenderingIntent(e,t=Hl.ENABLE,r=null,i=!1,s=!1){let a=Mi.DISPLAY,o=X2;switch(e){case"any":a=Mi.ANY;break;case"display":break;case"print":a=Mi.PRINT;break;default:Le(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Mi.PRINT&&r instanceof H4?r:this.annotationStorage;switch(t){case Hl.DISABLE:a+=Mi.ANNOTATIONS_DISABLE;break;case Hl.ENABLE:break;case Hl.ENABLE_FORMS:a+=Mi.ANNOTATIONS_FORMS;break;case Hl.ENABLE_STORAGE:a+=Mi.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Le(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Mi.IS_EDITING),s&&(a+=Mi.OPLIST);const{ids:u,hash:h}=l.modifiedIds,d=[a,o.hash,h];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=c(this,Go))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of c(this,$a).values())e.push(i._destroy());c(this,$a).clear(),c(this,k0).clear(),c(this,P0).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Vo).clear(),this.filterFactory.destroy(),vg.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new ru("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Ze(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Ze(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Ze(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Ze(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new sV(r,this))}),e.on("DocException",r=>{t._capability.reject(Gr(r))}),e.on("PasswordRequest",r=>{E(this,Go,Promise.withResolvers());try{if(!t.onPassword)throw Gr(r);const i=s=>{s instanceof Error?c(this,Go).reject(s):c(this,Go).resolve({password:s})};t.onPassword(i,r.code)}catch(i){c(this,Go).reject(i)}return c(this,Go).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;c(this,$a).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const f=s.error;Le(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const o=new Y2(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,u=new uW(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(r,u)});break;case"CopyLocalImage":const{imageRef:h}=s;Ze(h,"The imageRef must be defined.");for(const f of c(this,$a).values())for(const[,p]of f.objs)if((p==null?void 0:p.ref)===h)return p.dataLen?(this.commonObjs.resolve(r,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const d=new K2(s);this.commonObjs.resolve(r,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=c(this,$a).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&Le("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=c(this,k0).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&c(this,P0).set(s.refStr,e);const a=new aV(t,s,this,this._params.pdfBug);return c(this,$a).set(t,a),a});return c(this,k0).set(t,i),i}getPageIndex(e){return q2(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return k(this,_h,Sm).call(this,"GetFieldObjects")}hasJSActions(){return k(this,_h,Sm).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return k(this,_h,Sm).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return k(this,_h,Sm).call(this,"GetOptionalContentConfig").then(t=>new jW(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=c(this,Vo).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new LW(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return c(this,Vo).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of c(this,$a).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Vo).clear(),this.filterFactory.destroy(!0),vg.cleanup()}}cachedPageNumber(e){if(!q2(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,P0).get(t)??null}}Vo=new WeakMap,$a=new WeakMap,k0=new WeakMap,P0=new WeakMap,Go=new WeakMap,_h=new WeakSet,Sm=function(e,t=null){const r=c(this,Vo).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return c(this,Vo).set(e,i),i};var xc;class lV{constructor(e){_(this,xc,null);de(this,"onContinue",null);de(this,"onError",null);E(this,xc,e)}get promise(){return c(this,xc).capability.promise}cancel(e=0){c(this,xc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,xc).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=c(this,xc);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}xc=new WeakMap;var yc,Ah;const bu=class bu{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:g=null}){_(this,yc,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new lV(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=g}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var l,u;if(this.cancelled)return;if(this._canvas){if(c(bu,Ah).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(bu,Ah).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Sf(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,t=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),c(this,yc)&&(window.cancelAnimationFrame(c(this,yc)),E(this,yc,null)),c(bu,Ah).delete(this._canvas),e||(e=new Ib(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?E(this,yc,window.requestAnimationFrame(()=>{E(this,yc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(bu,Ah).delete(this._canvas),this.callback())))}};yc=new WeakMap,Ah=new WeakMap,_(bu,Ah,new WeakSet);let hA=bu;const dM="5.4.394",cV="2cc809ade";var _i,Th,R0,Tn,Ov,F0,Xo,Mv,wc,Ys,Lv,St,dA,fA,pA,wu,fM,Ml;const Xr=class Xr{constructor({editor:e=null,uiManager:t=null}){_(this,St);_(this,_i,null);_(this,Th,null);_(this,R0);_(this,Tn,null);_(this,Ov,!1);_(this,F0,!1);_(this,Xo,null);_(this,Mv);_(this,wc,null);_(this,Ys,null);var r,i;e?(E(this,F0,!1),E(this,Xo,e)):E(this,F0,!0),E(this,Ys,(e==null?void 0:e._uiManager)||t),E(this,Mv,c(this,Ys)._eventBus),E(this,R0,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=c(this,Ys))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),c(Xr,Lv)||E(Xr,Lv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return $e(this,"_keyboardManager",new P1([[["Escape","mac+Escape"],Xr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Xr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Xr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Xr.prototype._moveToPrevious],[["Home","mac+Home"],Xr.prototype._moveToBeginning],[["End","mac+End"],Xr.prototype._moveToEnd]]))}renderButton(){const e=E(this,_i,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",c(this,Xo)&&(e.ariaControls=`${c(this,Xo).id}_colorpicker_dropdown`);const t=c(this,Ys)._signal;e.addEventListener("click",k(this,St,wu).bind(this),{signal:t}),e.addEventListener("keydown",k(this,St,pA).bind(this),{signal:t});const r=E(this,Th,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=c(this,R0),e.append(r),e}renderMainDropdown(){const e=E(this,Tn,k(this,St,dA).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===c(this,_i)){k(this,St,wu).call(this,e);return}const t=e.target.getAttribute("data-color");t&&k(this,St,fA).call(this,t,e)}_moveToNext(e){var t,r;if(!c(this,St,Ml)){k(this,St,wu).call(this,e);return}if(e.target===c(this,_i)){(t=c(this,Tn).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=c(this,Tn))==null?void 0:t.firstChild)||e.target===c(this,_i)){c(this,St,Ml)&&this._hideDropdownFromKeyboard();return}c(this,St,Ml)||k(this,St,wu).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!c(this,St,Ml)){k(this,St,wu).call(this,e);return}(t=c(this,Tn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!c(this,St,Ml)){k(this,St,wu).call(this,e);return}(t=c(this,Tn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=c(this,Tn))==null||e.classList.add("hidden"),c(this,_i).ariaExpanded="false",(t=c(this,wc))==null||t.abort(),E(this,wc,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,F0)){if(!c(this,St,Ml)){(e=c(this,Xo))==null||e.unselect();return}this.hideDropdown(),c(this,_i).focus({preventScroll:!0,focusVisible:c(this,Ov)})}}updateColor(e){if(c(this,Th)&&(c(this,Th).style.backgroundColor=e),!c(this,Tn))return;const t=c(this,Ys).highlightColors.values();for(const r of c(this,Tn).children)r.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=c(this,_i))==null||e.remove(),E(this,_i,null),E(this,Th,null),(t=c(this,Tn))==null||t.remove(),E(this,Tn,null)}};_i=new WeakMap,Th=new WeakMap,R0=new WeakMap,Tn=new WeakMap,Ov=new WeakMap,F0=new WeakMap,Xo=new WeakMap,Mv=new WeakMap,wc=new WeakMap,Ys=new WeakMap,Lv=new WeakMap,St=new WeakSet,dA=function(){const e=document.createElement("div"),t=c(this,Ys)._signal;e.addEventListener("contextmenu",ks,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),c(this,Xo)&&(e.id=`${c(this,Xo).id}_colorpicker_dropdown`);for(const[r,i]of c(this,Ys).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",c(Xr,Lv)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===c(this,R0),s.addEventListener("click",k(this,St,fA).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",k(this,St,pA).bind(this),{signal:t}),e},fA=function(e,t){t.stopPropagation(),c(this,Mv).dispatch("switchannotationeditorparams",{source:this,type:Je.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},pA=function(e){Xr._keyboardManager.exec(this,e)},wu=function(e){if(c(this,St,Ml)){this.hideDropdown();return}if(E(this,Ov,e.detail===0),c(this,wc)||(E(this,wc,new AbortController),window.addEventListener("pointerdown",k(this,St,fM).bind(this),{signal:c(this,Ys).combinedSignal(c(this,wc))})),c(this,_i).ariaExpanded="true",c(this,Tn)){c(this,Tn).classList.remove("hidden");return}const t=E(this,Tn,k(this,St,dA).call(this));c(this,_i).append(t)},fM=function(e){var t;(t=c(this,Tn))!=null&&t.contains(e.target)||this.hideDropdown()},Ml=function(){return c(this,Tn)&&!c(this,Tn).classList.contains("hidden")},_(Xr,Lv,null);let fw=Xr;var za,Bv,N0,jv;const Cu=class Cu{constructor(e){_(this,za,null);_(this,Bv,null);_(this,N0,null);E(this,Bv,e),E(this,N0,e._uiManager),c(Cu,jv)||E(Cu,jv,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(c(this,za))return c(this,za);const{editorType:e,colorType:t,color:r}=c(this,Bv),i=E(this,za,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",c(Cu,jv)[e]),i.addEventListener("input",()=>{c(this,N0).updateParams(t,i.value)},{signal:c(this,N0)._signal}),i}update(e){c(this,za)&&(c(this,za).value=e)}destroy(){var e;(e=c(this,za))==null||e.remove(),E(this,za,null)}hideDropdown(){}};za=new WeakMap,Bv=new WeakMap,N0=new WeakMap,jv=new WeakMap,_(Cu,jv,null);let pw=Cu;function tR(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Zp(n){return Math.max(0,Math.min(255,255*n))}class nR{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Zp(e),[e,e,e]}static G_HTML([e]){const t=tR(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(Zp)}static RGB_HTML(e){return`#${e.map(tR).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[Zp(1-Math.min(1,e+i)),Zp(1-Math.min(1,r+i)),Zp(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class uV{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ct("Abstract method `_createSVG` called.")}}class mw extends uV{_createSVG(e){return document.createElementNS(vo,e)}}const hV=9,hd=new WeakSet,dV=new Date().getTimezoneOffset()*60*1e3;class JS{static create(e){switch(e.data.annotationType){case mn.LINK:return new jb(e);case mn.TEXT:return new pV(e);case mn.WIDGET:switch(e.data.fieldType){case"Tx":return new mV(e);case"Btn":return e.data.radioButton?new gM(e):e.data.checkBox?new vV(e):new xV(e);case"Ch":return new yV(e);case"Sig":return new gV(e)}return new Ed(e);case mn.POPUP:return new gA(e);case mn.FREETEXT:return new EM(e);case mn.LINE:return new EV(e);case mn.SQUARE:return new SV(e);case mn.CIRCLE:return new _V(e);case mn.POLYLINE:return new SM(e);case mn.CARET:return new TV(e);case mn.INK:return new Ub(e);case mn.POLYGON:return new AV(e);case mn.HIGHLIGHT:return new _M(e);case mn.UNDERLINE:return new bV(e);case mn.SQUIGGLY:return new CV(e);case mn.STRIKEOUT:return new kV(e);case mn.STAMP:return new AM(e);case mn.FILEATTACHMENT:return new PV(e);default:return new Kt(e)}}}var bh,D0,ms,Uv,mA;const TC=class TC{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){_(this,Uv);_(this,bh,null);_(this,D0,!1);_(this,ms,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return TC._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,t=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let l=0;l<t.length;l+=8)t[l+1]>a?(a=t[l+1],s=t[l+2]):t[l+1]===a&&(s=Math.max(s,t[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let u=0,h=l.length;u<h;u+=2)l[u+1]>a?(a=l[u+1],s=l[u]):l[u+1]===a&&(s=Math.max(s,l[u]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var t,r,i;const{data:e}=this;return((r=(t=this.annotationStorage.getRawValue(`${pg}${e.id}`))==null?void 0:t.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:t}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:r})||this.annotationStorage.setValue(`${pg}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=c(this,ms))==null?void 0:e.popup)||this.popup)==null||t.remove(),E(this,ms,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(c(this,bh)||E(this,bh,{rect:this.data.rect.slice(0)}));const{rect:t,popup:r}=e;t&&k(this,Uv,mA).call(this,t);let i=((s=c(this,ms))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=c(this,ms).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),E(this,ms,null),this.popup=null))}resetEdited(){var e;c(this,bh)&&(k(this,Uv,mA).call(this,c(this,bh).rect),(e=c(this,ms))==null||e.popup.resetEdited(),E(this,bh,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Ed)&&!(this instanceof jb)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof gA){const{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:o,height:l}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const m=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(m>0||v>0){const w=`calc(${m}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;a.borderRadius=w}else if(this instanceof gM){const w=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=w}switch(t.borderStyle.style){case Ld.SOLID:a.borderStyle="solid";break;case Ld.DASHED:a.borderStyle="dashed";break;case Ld.BEVELED:Le("Unimplemented border style: beveled");break;case Ld.INSET:Le("Unimplemented border style: inset");break;case Ld.UNDERLINE:a.borderBottomStyle="solid";break}const x=t.borderColor||null;x?(E(this,D0,!0),a.borderColor=Re.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const u=Re.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(u[0]-f)/h}%`,a.top=`${100*(u[1]-p)/d}%`;const{rotation:g}=t;return t.hasOwnCanvas||g===0?(a.width=`${100*o/h}%`,a.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/r}%`,t.style.height=`${100*a/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=nR[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:nR[`${a}_rgb`](o)})};return $e(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,v,x,w]=e.subarray(2,6);if(i===m&&s===v&&t===x&&r===w)return}const{style:a}=this.container;let o;if(c(this,D0)){const{borderColor:m,borderWidth:v}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,v=e.length;m<v;m+=8){const x=e[m],w=e[m+1],y=e[m+2],S=e[m+3],T=h.createElement("rect"),P=(y-t)/l,b=(s-w)/u,F=(x-y)/l,D=(w-S)/u;T.setAttribute("x",P),T.setAttribute("y",b),T.setAttribute("width",F),T.setAttribute("height",D),p.append(T),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${b}" width="${F}" height="${D}"/>`)}c(this,D0)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(e=null){const{data:t}=this;let r,i;e?(r={str:e.text},i=e.date):(r=t.contentsObj,i=t.modificationDate),E(this,ms,new gA({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:r,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(c(this,ms)||this.popup||this.data.popupRef)}get extraPopupElement(){return c(this,ms)}render(){Ct("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!hd.has(u)){Le(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&hd.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};bh=new WeakMap,D0=new WeakMap,ms=new WeakMap,Uv=new WeakSet,mA=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Kt=TC;class fV extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Vi,Eu,pM,mM;class jb extends Kt{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});_(this,Vi);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action,t.overlaidText),s=!0):t.attachment?(k(this,Vi,pM).call(this,i,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(k(this,Vi,mM).call(this,i,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(i,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(t,r,i=""){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&k(this,Vi,Eu).call(this),i&&(t.title=i)}_bindNamedAction(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(t.title=i),k(this,Vi,Eu).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(t.title=r.overlaidText),t.onclick||(t.onclick=()=>!1),k(this,Vi,Eu).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),k(this,Vi,Eu).call(this),!this._fieldObjects){Le('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var d;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,h=[];for(const f of l){const{id:p}=f;switch(h.push(p),f.type){case"text":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;u.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!hd.has(g)){Le(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Vi=new WeakSet,Eu=function(){this.container.setAttribute("data-internal-link","")},pM=function(t,r,i="",s=null){t.href=this.linkService.getAnchorUrl(""),r.description?t.title=r.description:i&&(t.title=i),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},k(this,Vi,Eu).call(this)},mM=function(t,r,i=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(t.title=i),k(this,Vi,Eu).call(this)};class pV extends Kt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Ed extends Kt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ir.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Re.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||hV,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(u/(WS*i))||1,d=u/h;a=Math.min(i,l(d/WS))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/WS))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Re.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class mV extends Ed{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),hd.add(r),this.contentElement=r,r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:p}=this.data,g=!!f&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",v=>{e.setValue(t,{value:v.target.value}),this.setPropertyOnSiblings(r,"value",v.target.value,"value"),h.formattedValue=null}),r.addEventListener("resetform",v=>{const x=this.data.defaultFieldValue??"";r.value=h.userValue=x,h.formattedValue=null});let m=v=>{const{formattedValue:x}=h;x!=null&&(v.target.value=x),v.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",x=>{var y;if(h.focused)return;const{target:w}=x;if(g&&(w.type=f,p&&(w.step=p)),h.userValue){const S=h.userValue;if(g)if(f==="time"){const T=new Date(S),P=[T.getHours(),T.getMinutes(),T.getSeconds()];w.value=P.map(b=>b.toString().padStart(2,"0")).join(":")}else w.value=new Date(S-dV).toISOString().split(f==="date"?"T":".",1)[0];else w.value=S}h.lastCommittedValue=w.value,h.commitKey=1,(y=this.data.actions)!=null&&y.Focus||(h.focused=!0)}),r.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const w={value(y){h.userValue=y.detail.value??"",g||e.setValue(t,{value:h.userValue.toString()}),y.target.value=h.userValue},formattedValue(y){const{formattedValue:S}=y.detail;h.formattedValue=S,S!=null&&y.target!==document.activeElement&&(y.target.value=S);const T={formattedValue:S};g&&(T.value=S),e.setValue(t,T)},selRange(y){y.target.setSelectionRange(...y.detail.selRange)},charLimit:y=>{var b;const{charLimit:S}=y.detail,{target:T}=y;if(S===0){T.removeAttribute("maxLength");return}T.setAttribute("maxLength",S);let P=h.userValue;!P||P.length<=S||(P=P.slice(0,S),T.value=h.userValue=P,e.setValue(t,{value:P}),(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:P,willCommit:!0,commitKey:1,selStart:T.selectionStart,selEnd:T.selectionEnd}}))}};this._dispatchEventFromSandbox(w,x)}),r.addEventListener("keydown",x=>{var S;h.commitKey=1;let w=-1;if(x.key==="Escape"?w=0:x.key==="Enter"&&!this.data.multiLine?w=2:x.key==="Tab"&&(h.commitKey=3),w===-1)return;const{value:y}=x.target;h.lastCommittedValue!==y&&(h.lastCommittedValue=y,h.userValue=y,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:w,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const v=m;m=null,r.addEventListener("blur",x=>{var S,T;if(!h.focused||!x.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(h.focused=!1);const{target:w}=x;let{value:y}=w;if(g){if(y&&f==="time"){const P=y.split(":").map(b=>parseInt(b,10));y=new Date(2e3,0,1,P[0],P[1],P[2]||0).valueOf(),w.step=""}else y.includes("T")||(y=`${y}T00:00`),y=new Date(y).valueOf();w.type="text"}h.userValue=y,h.lastCommittedValue!==y&&((T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:y,willCommit:!0,commitKey:h.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}})),v(x)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",x=>{var D;h.lastCommittedValue=null;const{data:w,target:y}=x,{value:S,selectionStart:T,selectionEnd:P}=y;let b=T,F=P;switch(x.inputType){case"deleteWordBackward":{const M=S.substring(0,T).match(/\w*[^\w]*$/);M&&(b-=M[0].length);break}case"deleteWordForward":{const M=S.substring(T).match(/^[^\w]*\w*/);M&&(F+=M[0].length);break}case"deleteContentBackward":T===P&&(b-=1);break;case"deleteContentForward":T===P&&(F+=1);break}x.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,change:w||"",willCommit:!1,selStart:b,selEnd:F}})}),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(m&&r.addEventListener("blur",m),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class gV extends Ed{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class vV extends Ed{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return hd.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r)){const h=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class gM extends Ed{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(hd.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const h=a===u.detail.value;for(const d of this._getElementsByName(u.target.name)){const f=h&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class xV extends jb{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class yV extends Ed{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");hd.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),a=()=>{h.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=o(!1);const u=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=g.has(m.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,v=>v.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,v=i.children[p],x=document.createElement("option");x.textContent=g,x.value=m,v?v.before(x):i.append(x),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:m,exportValue:v}=g,x=document.createElement("option");x.textContent=m,x.value=v,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{var p;const d=o(!0),f=o(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Hv,vA;class gA extends Kt{constructor(t){const{data:r,elements:i,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&Kt._hasPopupData(r)});_(this,Hv);if(this.elements=i,a&&Kt._hasPopupData(r)){const o=this.popup=k(this,Hv,vA).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const r=this.popup=k(this,Hv,vA).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${sf}${s}`).join(",")),this.container}}Hv=new WeakSet,vA=function(){return new wV({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Ai,Ec,Gw,Xw,I0,O0,tn,Wa,Sc,Ch,M0,L0,Va,Ti,Yo,Ko,nn,qo,_c,$v,Qo,B0,kh,Ac,Fn,Tc,Ve,ly,xA,yA,wA,cy,EA,vM,xM,yM,wM,uy,hy,SA;class wV{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:h,open:d,commentManager:f=null}){_(this,Ve);_(this,Ai,null);_(this,Ec,k(this,Ve,yM).bind(this));_(this,Gw,k(this,Ve,SA).bind(this));_(this,Xw,k(this,Ve,hy).bind(this));_(this,I0,k(this,Ve,uy).bind(this));_(this,O0,null);_(this,tn,null);_(this,Wa,null);_(this,Sc,null);_(this,Ch,null);_(this,M0,null);_(this,L0,null);_(this,Va,!1);_(this,Ti,null);_(this,Yo,null);_(this,Ko,null);_(this,nn,null);_(this,qo,null);_(this,_c,null);_(this,$v,null);_(this,Qo,null);_(this,B0,null);_(this,kh,null);_(this,Ac,!1);_(this,Fn,null);_(this,Tc,null);E(this,tn,e),E(this,B0,i),E(this,Wa,a),E(this,Qo,o),E(this,M0,l),E(this,O0,t),E(this,$v,u),E(this,L0,h),E(this,Ch,r),E(this,Ai,f),E(this,Fn,r[0]),E(this,Sc,ow.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),f||(k(this,Ve,ly).call(this),c(this,tn).hidden=!0,d&&k(this,Ve,uy).call(this))}renderCommentButton(){if(c(this,nn)){c(this,nn).parentNode||c(this,Fn).container.after(c(this,nn));return}if(c(this,qo)||k(this,Ve,xA).call(this),!c(this,qo))return;const{signal:e}=E(this,Yo,new AbortController),t=c(this,Fn).hasOwnCommentButton,r=()=>{c(this,Ai).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{c(this,Ai).toggleCommentPopup(this,!1,!0,!t)},s=()=>{c(this,Ai).toggleCommentPopup(this,!1,!1)};if(t){E(this,nn,c(this,Fn).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",c(this,Ec),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=E(this,nn,document.createElement("button"));a.className="annotationCommentButton";const o=c(this,Fn).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),k(this,Ve,wA).call(this),k(this,Ve,yA).call(this),a.addEventListener("keydown",c(this,Ec),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=c(this,Fn).commentData;return e?c(this,M0)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=c(this,nn))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}=c(this,Fn).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return c(this,nn)}get comment(){return c(this,Tc)||E(this,Tc,c(this,Fn).commentText),c(this,Tc)}set comment(e){e!==this.comment&&(c(this,Fn).commentText=E(this,Tc,e))}focus(){var e;(e=c(this,Fn).container)==null||e.focus()}get parentBoundingClientRect(){return c(this,Fn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){c(this,nn)&&(c(this,nn).classList.toggle("selected",e),c(this,nn).ariaExpanded=t)}setSelectedCommentButton(e){c(this,nn).classList.toggle("selected",e)}get commentPopupPosition(){if(c(this,_c))return c(this,_c);const{x:e,y:t,height:r}=c(this,nn).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=c(this,Fn).layer.getBoundingClientRect();return[(e-i)/a,(t+r-s)/o]}set commentPopupPosition(e){E(this,_c,e)}hasDefaultPopupPosition(){return c(this,_c)===null}get commentButtonPosition(){return c(this,qo)}get commentButtonWidth(){return c(this,nn).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,r]=c(this,_c)||this.commentButtonPosition.map(u=>u/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;c(this,Ai).showDialog(null,this,s+t*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(c(this,Ti))return;const e=E(this,Ti,document.createElement("div"));if(e.className="popup",c(this,O0)){const s=e.style.outlineColor=Re.makeHexColor(...c(this,O0));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(r=c(this,B0))!=null&&r.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=c(this,B0)}if(e.append(t),c(this,Sc)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,Sc).valueOf()})),s.dateTime=c(this,Sc).toISOString(),t.append(s)}a4({html:c(this,Ve,cy)||c(this,Wa).str,dir:(i=c(this,Wa))==null?void 0:i.dir,className:"popupContent"},e),c(this,tn).append(e)}updateEdited({rect:e,popup:t,deleted:r}){var i;if(c(this,Ai)){r?(this.remove(),E(this,Tc,null)):t&&(t.deleted?this.remove():(k(this,Ve,wA).call(this),E(this,Tc,t.text))),e&&(E(this,qo,null),k(this,Ve,xA).call(this),k(this,Ve,yA).call(this));return}if(r||t!=null&&t.deleted){this.remove();return}k(this,Ve,ly).call(this),c(this,kh)||E(this,kh,{contentsObj:c(this,Wa),richText:c(this,Qo)}),e&&E(this,Ko,null),t&&t.text&&(E(this,Qo,k(this,Ve,xM).call(this,t.text)),E(this,Sc,ow.toDateObject(t.date)),E(this,Wa,null)),(i=c(this,Ti))==null||i.remove(),E(this,Ti,null)}resetEdited(){var e;c(this,kh)&&({contentsObj:Qt(this,Wa)._,richText:Qt(this,Qo)._}=c(this,kh),E(this,kh,null),(e=c(this,Ti))==null||e.remove(),E(this,Ti,null),E(this,Ko,null))}remove(){var e,t,r;if((e=c(this,Yo))==null||e.abort(),E(this,Yo,null),(t=c(this,Ti))==null||t.remove(),E(this,Ti,null),E(this,Ac,!1),E(this,Va,!1),(r=c(this,nn))==null||r.remove(),E(this,nn,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){E(this,Ac,this.isVisible),c(this,Ac)&&(c(this,tn).hidden=!0)}maybeShow(){c(this,Ai)||(k(this,Ve,ly).call(this),c(this,Ac)&&(c(this,Ti)||k(this,Ve,hy).call(this),E(this,Ac,!1),c(this,tn).hidden=!1))}get isVisible(){return c(this,Ai)?!1:c(this,tn).hidden===!1}}Ai=new WeakMap,Ec=new WeakMap,Gw=new WeakMap,Xw=new WeakMap,I0=new WeakMap,O0=new WeakMap,tn=new WeakMap,Wa=new WeakMap,Sc=new WeakMap,Ch=new WeakMap,M0=new WeakMap,L0=new WeakMap,Va=new WeakMap,Ti=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,nn=new WeakMap,qo=new WeakMap,_c=new WeakMap,$v=new WeakMap,Qo=new WeakMap,B0=new WeakMap,kh=new WeakMap,Ac=new WeakMap,Fn=new WeakMap,Tc=new WeakMap,Ve=new WeakSet,ly=function(){var t;if(c(this,Yo))return;E(this,Yo,new AbortController);const{signal:e}=c(this,Yo);for(const r of this.trigger)r.addEventListener("click",c(this,I0),{signal:e}),r.addEventListener("pointerenter",c(this,Xw),{signal:e}),r.addEventListener("pointerleave",c(this,Gw),{signal:e}),r.classList.add("popupTriggerArea");for(const r of c(this,Ch))(t=r.container)==null||t.addEventListener("keydown",c(this,Ec),{signal:e})},xA=function(){const e=c(this,Ch).find(t=>t.hasCommentButton);e&&E(this,qo,e._normalizePoint(e.commentButtonPosition))},yA=function(){if(c(this,Fn).extraPopupElement&&!c(this,Fn).editor)return;c(this,nn)||this.renderCommentButton();const[e,t]=c(this,qo),{style:r}=c(this,nn);r.left=`calc(${e}%)`,r.top=`calc(${t}% - var(--comment-button-dim))`},wA=function(){c(this,Fn).extraPopupElement||(c(this,nn)||this.renderCommentButton(),c(this,nn).style.backgroundColor=this.commentButtonColor||"")},cy=function(){const e=c(this,Qo),t=c(this,Wa);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&c(this,Qo).html||null},EA=function(){var e,t,r;return((r=(t=(e=c(this,Ve,cy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},vM=function(){var e,t,r;return((r=(t=(e=c(this,Ve,cy))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},xM=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:c(this,Ve,vM),fontSize:c(this,Ve,EA)?`calc(${c(this,Ve,EA)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},yM=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Va))&&k(this,Ve,uy).call(this)},wM=function(){if(c(this,Ko)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=c(this,M0);let a=!!c(this,L0),o=a?c(this,L0):c(this,$v);for(const g of c(this,Ch))if(!o||Re.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=Re.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,d=l[0]+h,f=l[1];E(this,Ko,[100*(d-i)/t,100*(f-s)/r]);const{style:p}=c(this,tn);p.left=`${c(this,Ko)[0]}%`,p.top=`${c(this,Ko)[1]}%`},uy=function(){if(c(this,Ai)){c(this,Ai).toggleCommentPopup(this,!1);return}E(this,Va,!c(this,Va)),c(this,Va)?(k(this,Ve,hy).call(this),c(this,tn).addEventListener("click",c(this,I0)),c(this,tn).addEventListener("keydown",c(this,Ec))):(k(this,Ve,SA).call(this),c(this,tn).removeEventListener("click",c(this,I0)),c(this,tn).removeEventListener("keydown",c(this,Ec)))},hy=function(){c(this,Ti)||this.render(),this.isVisible?c(this,Va)&&c(this,tn).classList.add("focused"):(k(this,Ve,wM).call(this),c(this,tn).hidden=!1,c(this,tn).style.zIndex=parseInt(c(this,tn).style.zIndex)+1e3)},SA=function(){c(this,tn).classList.remove("focused"),!(c(this,Va)||!this.isVisible)&&(c(this,tn).hidden=!0,c(this,tn).style.zIndex=parseInt(c(this,tn).style.zIndex)-1e3)};class EM extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ue.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var zv;class EV extends Kt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,zv,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=E(this,zv,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return c(this,zv)}addHighlightArea(){this.container.classList.add("highlightArea")}}zv=new WeakMap;var Wv;class SV extends Kt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Wv,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=E(this,Wv,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return c(this,Wv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wv=new WeakMap;var Vv;class _V extends Kt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Vv,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=E(this,Vv,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return c(this,Vv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vv=new WeakMap;var Gv;class SM extends Kt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Gv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let u=[];for(let d=0,f=r.length;d<f;d+=2){const p=r[d]-t[0],g=t[3]-r[d+1];u.push(`${p},${g}`)}u=u.join(" ");const h=E(this,Gv,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return c(this,Gv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gv=new WeakMap;class AV extends SM{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class TV extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var Xv,Ph,Yv,_A;class Ub extends Kt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});_(this,Yv);_(this,Xv,null);_(this,Ph,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ue.HIGHLIGHT:Ue.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=k(this,Yv,_A).call(this,r,t),h=this.svgFactory.create(l,u,!0),d=E(this,Xv,this.svgFactory.createElement("svg:g"));h.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let f=0,p=i.length;f<p;f++){const g=this.svgFactory.createElement(this.svgElementName);c(this,Ph).push(g),g.setAttribute("points",i[f].join(",")),d.append(g)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=c(this,Xv);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=c(this,Ph).length;o<l;o++)c(this,Ph)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:u}=k(this,Yv,_A).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return c(this,Ph)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xv=new WeakMap,Ph=new WeakMap,Yv=new WeakSet,_A=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class _M extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ue.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class bV extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class CV extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class kV extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class AM extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ue.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Kv,qv,AA;class PV extends Kt{constructor(t){var i;super(t,{isRenderable:!0});_(this,qv);_(this,Kv,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",k(this,qv,AA).bind(this)),E(this,Kv,i);const{isMac:s}=ir.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&k(this,qv,AA).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return c(this,Kv)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kv=new WeakMap,qv=new WeakSet,AA=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var Rh,Fh,j0,bc,Qv,Nh,bi,Jv,fl,dy,bA;const bC=class bC{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:u,annotationStorage:h}){_(this,fl);_(this,Rh,null);_(this,Fh,null);_(this,j0,null);_(this,bc,new Map);_(this,Qv,null);_(this,Nh,null);_(this,bi,[]);_(this,Jv,!1);this.div=e,E(this,Rh,t),E(this,Fh,r),E(this,Qv,o||null),E(this,Nh,u||null),E(this,j0,h||new Mb),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return c(this,bc).size>0}async render(e){var o;const{annotations:t}=e,r=this.div;cd(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:c(this,Nh),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new mw,annotationStorage:c(this,j0),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of t){if(l.noHTML)continue;const u=l.annotationType===mn.POPUP;if(u){const f=i.get(l.id);if(!f)continue;if(!this._commentManager){s.push(l);continue}a.elements=f}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const h=JS.create(a);if(!h.isRenderable)continue;if(!u&&(c(this,bi).push(h),l.popupRef)){const f=i.get(l.popupRef);f?f.push(h):i.set(l.popupRef,[h])}const d=h.render();l.hidden&&(d.style.visibility="hidden"),h._isEditable&&(c(this,bc).set(h.data.id,h),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(h))}await k(this,fl,dy).call(this);for(const l of s){const u=a.elements=i.get(l.id);a.data=l;const h=JS.create(a);if(!h.isRenderable)continue;const d=h.render();h.contentElement.id=`${sf}${l.id}`,l.hidden&&(d.style.visibility="hidden"),u.at(-1).container.after(d)}k(this,fl,bA).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:c(this,Nh),svgFactory:new mw,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=bC._defaultBorderStyle),t.data=r;const i=JS.create(t);i.isRenderable&&(i.render(),i.contentElement.id=`${sf}${r.id}`,c(this,bi).push(i))}await k(this,fl,dy).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,cd(t,{rotation:e.rotation}),k(this,fl,bA).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(c(this,bc).values())}getEditableAnnotation(e){return c(this,bc).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:r,rotation:i}=e,s=new fV({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:c(this,Nh),annotationStorage:c(this,j0)});return s.render(),s.contentElement.id=`${sf}${r}`,s.createOrUpdatePopup(),c(this,bi).push(s),s}removeAnnotation(e){var i;const t=c(this,bi).findIndex(s=>s.data.id===e);if(t<0)return;const[r]=c(this,bi).splice(t,1);(i=c(this,Rh))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);k(this,fl,dy).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return $e(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ld.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};Rh=new WeakMap,Fh=new WeakMap,j0=new WeakMap,bc=new WeakMap,Qv=new WeakMap,Nh=new WeakMap,bi=new WeakMap,Jv=new WeakMap,fl=new WeakSet,dy=async function(){var r,i,s;if(c(this,bi).length===0)return;this.div.replaceChildren();const e=[];if(!c(this,Jv)){E(this,Jv,!0);for(const{contentElement:a,data:{id:o}}of c(this,bi)){const l=a.id=`${sf}${o}`;e.push((r=c(this,Qv))==null?void 0:r.getAriaAttributes(l).then(u=>{if(u)for(const[h,d]of u)a.setAttribute(h,d)}))}}c(this,bi).sort(({data:{rect:[a,o,l,u]}},{data:{rect:[h,d,f,p]}})=>{if(a===l&&o===u)return 1;if(h===f&&d===p)return-1;const g=u,m=o,v=(o+u)/2,x=p,w=d,y=(d+p)/2;if(v>=x&&y<=m)return-1;if(y>=g&&v<=w)return 1;const S=(a+l)/2,T=(h+f)/2;return S-T});const t=document.createDocumentFragment();for(const a of c(this,bi))t.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),c(this,Rh))for(const a of c(this,bi))c(this,Rh).addPointerInTextLayer(a.contentElement,!1)},bA=function(){var t;if(!c(this,Fh))return;const e=this.div;for(const[r,i]of c(this,Fh)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=c(this,bc).get(r);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}c(this,Fh).clear()};let TA=bC;const wx=/\r\n?|\n/g;var Ci,Zv,Dh,ki,yn,TM,bM,CM,fy,pl,py,my,kM,kA,PM;const Ot=class Ot extends Nt{constructor(t){super({...t,name:"freeTextEditor"});_(this,yn);_(this,Ci,"");_(this,Zv,`${this.id}-editor`);_(this,Dh,null);_(this,ki);de(this,"_colorPicker",null);this.color=t.color||Ot._defaultColor||Nt._defaultLineColor,E(this,ki,t.fontSize||Ot._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Ot.prototype,r=a=>a.isEmpty(),i=ud.TRANSLATE_SMALL,s=ud.TRANSLATE_BIG;return $e(this,"_keyboardManager",new P1([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){Nt.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case Je.FREETEXT_SIZE:Ot._defaultFontSize=r;break;case Je.FREETEXT_COLOR:Ot._defaultColor=r;break}}updateParams(t,r){switch(t){case Je.FREETEXT_SIZE:k(this,yn,TM).call(this,r);break;case Je.FREETEXT_COLOR:k(this,yn,bM).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Je.FREETEXT_SIZE,Ot._defaultFontSize],[Je.FREETEXT_COLOR,Ot._defaultColor||Nt._defaultLineColor]]}get propertiesToUpdate(){return[[Je.FREETEXT_SIZE,c(this,ki)],[Je.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new pw(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Je.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ot._internalPadding*t,-(Ot._internalPadding+c(this,ki))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),E(this,Dh,new AbortController);const t=this._uiManager.combinedSignal(c(this,Dh));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Zv)),this._isDraggable=!0,(t=c(this,Dh))==null||t.abort(),E(this,Dh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=c(this,Ci),r=E(this,Ci,k(this,yn,CM).call(this).trimEnd());if(t===r)return;const i=s=>{if(E(this,Ci,s),!s){this.remove();return}k(this,yn,my).call(this),this._uiManager.rebuild(this),k(this,yn,fy).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),k(this,yn,fy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ot._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,r;(this._isCopy||this.annotationElementId)&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Zv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${c(this,ki)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=t+(o[0]-f)/h,m=r+this.height-(o[1]-p)/d;break;case 90:g=t+(o[0]-f)/h,m=r-(o[1]-p)/d,[l,u]=[u,-l];break;case 180:g=t-this.width+(o[0]-f)/h,m=r-(o[1]-p)/d,[l,u]=[-l,-u];break;case 270:g=t+(o[0]-f-this.height*d)/h,m=r+(o[1]-p-this.width*h)/d,[l,u]=[-u,l];break}this.setAt(g*s,m*a,l,u)}else this._moveAfterPaste(t,r);k(this,yn,my).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var g,m,v;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=k(g=Ot,pl,kA).call(g,r.getData("text")||"").replaceAll(wx,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,h=[],d=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(d.push(l.nodeValue.slice(u).replaceAll(wx,"")),x!==this.editorDiv){let w=h;for(const y of this.editorDiv.childNodes){if(y===x){w=d;continue}w.push(k(m=Ot,pl,py).call(m,y))}}h.push(l.nodeValue.slice(0,u).replaceAll(wx,""))}else if(l===this.editorDiv){let x=h,w=0;for(const y of this.editorDiv.childNodes)w++===u&&(x=d),x.push(k(v=Ot,pl,py).call(v,y))}E(this,Ci,`${h.join(`
`)}${s}${d.join(`
`)}`),k(this,yn,my).call(this);const f=new Range;let p=Math.sumPrecise(h.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const w=x.nodeValue.length;if(p<=w){f.setStart(x,p),f.setEnd(x,p);break}p-=w}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ot._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,r,i){var o;let s=null;if(t instanceof EM){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:d,id:f,popupRef:p,richText:g,contentsObj:m,creationDate:v,modificationDate:x},textContent:w,textPosition:y,parent:{page:{pageNumber:S}}}=t;if(!w||w.length===0)return null;s=t={annotationType:Ue.FREETEXT,color:Array.from(u),fontSize:l,value:w.join(`
`),position:y,pageIndex:S-1,rect:h.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(m==null?void 0:m.str)||null,richText:g,creationDate:v,modificationDate:x}}const a=await super.deserialize(t,r,i);return E(a,ki,t.fontSize),a.color=Re.makeHexColor(...t.color),E(a,Ci,k(o=Ot,pl,kA).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Nt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(t),{color:r,fontSize:c(this,ki),value:k(this,yn,kM).call(this)});return this.addComment(i),t?(i.isCopy=!0,i):this.annotationElementId&&!k(this,yn,PM).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${c(this,ki)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of c(this,Ci).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:c(this,Ci)}}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Ci=new WeakMap,Zv=new WeakMap,Dh=new WeakMap,ki=new WeakMap,yn=new WeakSet,TM=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-c(this,ki))*this.parentScale),E(this,ki,s),k(this,yn,fy).call(this)},i=c(this,ki);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Je.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},bM=function(t){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Je.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},CM=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(k(i=Ot,pl,py).call(i,s)),r=s);return t.join(`
`)},fy=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},pl=new WeakSet,py=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wx,"")},my=function(){if(this.editorDiv.replaceChildren(),!!c(this,Ci))for(const t of c(this,Ci).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},kM=function(){return c(this,Ci).replaceAll(""," ")},kA=function(t){return t.replaceAll(" ","")},PM=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},_(Ot,pl),de(Ot,"_freeTextDefaultContent",""),de(Ot,"_internalPadding",0),de(Ot,"_defaultColor",null),de(Ot,"_defaultFontSize",10),de(Ot,"_type","freetext"),de(Ot,"_editorType",Ue.FREETEXT);let CA=Ot;class ke{toSVGPath(){Ct("Abstract method `toSVGPath` must be implemented.")}get box(){Ct("Abstract getter `box` must be implemented.")}serialize(e,t){Ct("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}de(ke,"PRECISION",1e-4);var Pi,Ks,U0,H0,Ga,Ye,Ih,Oh,e1,t1,$0,z0,Cc,n1,Yw,Kw,kn,_m,RM,FM,NM,DM,IM,OM;const So=class So{constructor({x:e,y:t},r,i,s,a,o=0){_(this,kn);_(this,Pi);_(this,Ks,[]);_(this,U0);_(this,H0);_(this,Ga,[]);_(this,Ye,new Float32Array(18));_(this,Ih);_(this,Oh);_(this,e1);_(this,t1);_(this,$0);_(this,z0);_(this,Cc,[]);E(this,Pi,r),E(this,z0,s*i),E(this,H0,a),c(this,Ye).set([NaN,NaN,NaN,NaN,e,t],6),E(this,U0,o),E(this,t1,c(So,n1)*i),E(this,e1,c(So,Kw)*i),E(this,$0,i),c(this,Cc).push(e,t)}isEmpty(){return isNaN(c(this,Ye)[8])}add({x:e,y:t}){var D;E(this,Ih,e),E(this,Oh,t);const[r,i,s,a]=c(this,Pi);let[o,l,u,h]=c(this,Ye).subarray(8,12);const d=e-u,f=t-h,p=Math.hypot(d,f);if(p<c(this,e1))return!1;const g=p-c(this,t1),m=g/p,v=m*d,x=m*f;let w=o,y=l;o=u,l=h,u+=v,h+=x,(D=c(this,Cc))==null||D.push(e,t);const S=-x/g,T=v/g,P=S*c(this,z0),b=T*c(this,z0);return c(this,Ye).set(c(this,Ye).subarray(2,8),0),c(this,Ye).set([u+P,h+b],4),c(this,Ye).set(c(this,Ye).subarray(14,18),12),c(this,Ye).set([u-P,h-b],16),isNaN(c(this,Ye)[6])?(c(this,Ga).length===0&&(c(this,Ye).set([o+P,l+b],2),c(this,Ga).push(NaN,NaN,NaN,NaN,(o+P-r)/s,(l+b-i)/a),c(this,Ye).set([o-P,l-b],14),c(this,Ks).push(NaN,NaN,NaN,NaN,(o-P-r)/s,(l-b-i)/a)),c(this,Ye).set([w,y,o,l,u,h],6),!this.isEmpty()):(c(this,Ye).set([w,y,o,l,u,h],6),Math.abs(Math.atan2(y-l,w-o)-Math.atan2(x,v))<Math.PI/2?([o,l,u,h]=c(this,Ye).subarray(2,6),c(this,Ga).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((l+h)/2-i)/a),[o,l,w,y]=c(this,Ye).subarray(14,18),c(this,Ks).push(NaN,NaN,NaN,NaN,((w+o)/2-r)/s,((y+l)/2-i)/a),!0):([w,y,o,l,u,h]=c(this,Ye).subarray(0,6),c(this,Ga).push(((w+5*o)/6-r)/s,((y+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+h)/6-i)/a,((o+u)/2-r)/s,((l+h)/2-i)/a),[u,h,o,l,w,y]=c(this,Ye).subarray(12,18),c(this,Ks).push(((w+5*o)/6-r)/s,((y+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+h)/6-i)/a,((o+u)/2-r)/s,((l+h)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,Ga),t=c(this,Ks);if(isNaN(c(this,Ye)[6])&&!this.isEmpty())return k(this,kn,RM).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);k(this,kn,NM).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return k(this,kn,FM).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new MM(e,t,r,i,s,a)}getOutlines(){var d;const e=c(this,Ga),t=c(this,Ks),r=c(this,Ye),[i,s,a,o]=c(this,Pi),l=new Float32Array((((d=c(this,Cc))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(c(this,Cc)[f]-i)/a,l[f+1]=(c(this,Cc)[f+1]-s)/o;if(l[l.length-2]=(c(this,Ih)-i)/a,l[l.length-1]=(c(this,Oh)-s)/o,isNaN(r[6])&&!this.isEmpty())return k(this,kn,DM).call(this,l);const u=new Float32Array(c(this,Ga).length+24+c(this,Ks).length);let h=e.length;for(let f=0;f<h;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}h=k(this,kn,OM).call(this,u,h);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=t[f+p],u[h+1]=t[f+p+1],h+=2}return k(this,kn,IM).call(this,u,h),this.newFreeDrawOutline(u,l,c(this,Pi),c(this,$0),c(this,U0),c(this,H0))}};Pi=new WeakMap,Ks=new WeakMap,U0=new WeakMap,H0=new WeakMap,Ga=new WeakMap,Ye=new WeakMap,Ih=new WeakMap,Oh=new WeakMap,e1=new WeakMap,t1=new WeakMap,$0=new WeakMap,z0=new WeakMap,Cc=new WeakMap,n1=new WeakMap,Yw=new WeakMap,Kw=new WeakMap,kn=new WeakSet,_m=function(){const e=c(this,Ye).subarray(4,6),t=c(this,Ye).subarray(16,18),[r,i,s,a]=c(this,Pi);return[(c(this,Ih)+(e[0]-t[0])/2-r)/s,(c(this,Oh)+(e[1]-t[1])/2-i)/a,(c(this,Ih)+(t[0]-e[0])/2-r)/s,(c(this,Oh)+(t[1]-e[1])/2-i)/a]},RM=function(){const[e,t,r,i]=c(this,Pi),[s,a,o,l]=k(this,kn,_m).call(this);return`M${(c(this,Ye)[2]-e)/r} ${(c(this,Ye)[3]-t)/i} L${(c(this,Ye)[4]-e)/r} ${(c(this,Ye)[5]-t)/i} L${s} ${a} L${o} ${l} L${(c(this,Ye)[16]-e)/r} ${(c(this,Ye)[17]-t)/i} L${(c(this,Ye)[14]-e)/r} ${(c(this,Ye)[15]-t)/i} Z`},FM=function(e){const t=c(this,Ks);e.push(`L${t[4]} ${t[5]} Z`)},NM=function(e){const[t,r,i,s]=c(this,Pi),a=c(this,Ye).subarray(4,6),o=c(this,Ye).subarray(16,18),[l,u,h,d]=k(this,kn,_m).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${l} ${u} L${h} ${d} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},DM=function(e){const t=c(this,Ye),[r,i,s,a]=c(this,Pi),[o,l,u,h]=k(this,kn,_m).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(d,e,c(this,Pi),c(this,$0),c(this,U0),c(this,H0))},IM=function(e,t){const r=c(this,Ks);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},OM=function(e,t){const r=c(this,Ye).subarray(4,6),i=c(this,Ye).subarray(16,18),[s,a,o,l]=c(this,Pi),[u,h,d,f]=k(this,kn,_m).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},_(So,n1,8),_(So,Yw,2),_(So,Kw,c(So,n1)+c(So,Yw));let gw=So;var W0,Mh,Jo,r1,Ri,i1,hn,qw,LM;class MM extends ke{constructor(t,r,i,s,a,o){super();_(this,qw);_(this,W0);_(this,Mh,new Float32Array(4));_(this,Jo);_(this,r1);_(this,Ri);_(this,i1);_(this,hn);E(this,hn,t),E(this,Ri,r),E(this,W0,i),E(this,i1,s),E(this,Jo,a),E(this,r1,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],k(this,qw,LM).call(this,o);const[l,u,h,d]=c(this,Mh);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-l)/h,t[f+1]=(t[f+1]-u)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/h,r[f+1]=(r[f+1]-u)/d}toSVGPath(){const t=[`M${c(this,hn)[4]} ${c(this,hn)[5]}`];for(let r=6,i=c(this,hn).length;r<i;r+=6){if(isNaN(c(this,hn)[r])){t.push(`L${c(this,hn)[r+4]} ${c(this,hn)[r+5]}`);continue}t.push(`C${c(this,hn)[r]} ${c(this,hn)[r+1]} ${c(this,hn)[r+2]} ${c(this,hn)[r+3]} ${c(this,hn)[r+4]} ${c(this,hn)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let u,h;switch(a){case 0:u=ke._rescale(c(this,hn),t,s,o,-l),h=ke._rescale(c(this,Ri),t,s,o,-l);break;case 90:u=ke._rescaleAndSwap(c(this,hn),t,r,o,l),h=ke._rescaleAndSwap(c(this,Ri),t,r,o,l);break;case 180:u=ke._rescale(c(this,hn),i,r,-o,l),h=ke._rescale(c(this,Ri),i,r,-o,l);break;case 270:u=ke._rescaleAndSwap(c(this,hn),i,s,-o,-l),h=ke._rescaleAndSwap(c(this,Ri),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return c(this,Mh)}newOutliner(t,r,i,s,a,o=0){return new gw(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=c(this,Mh),[l,u,h,d]=c(this,W0),f=a*h,p=o*d,g=i*h+l,m=s*d+u,v=this.newOutliner({x:c(this,Ri)[0]*f+g,y:c(this,Ri)[1]*p+m},c(this,W0),c(this,i1),t,c(this,r1),r??c(this,Jo));for(let x=2;x<c(this,Ri).length;x+=2)v.add({x:c(this,Ri)[x]*f+g,y:c(this,Ri)[x+1]*p+m});return v.getOutlines()}}W0=new WeakMap,Mh=new WeakMap,Jo=new WeakMap,r1=new WeakMap,Ri=new WeakMap,i1=new WeakMap,hn=new WeakMap,qw=new WeakSet,LM=function(t){const r=c(this,hn);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,u=i,h=s;const d=t?Math.max:Math.min,f=new Float32Array(4);for(let g=6,m=r.length;g<m;g+=6){const v=r[g+4],x=r[g+5];isNaN(r[g])?(Re.pointBoundingBox(v,x,a),l>x?(o=v,l=x):l===x&&(o=d(o,v)),h<x?(u=v,h=x):h===x&&(u=d(u,v))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,Re.bezierBoundingBox(i,s,...r.slice(g,g+6),f),Re.rectBoundingBox(f[0],f[1],f[2],f[3],a),l>f[1]?(o=f[0],l=f[1]):l===f[1]&&(o=d(o,f[0])),h<f[3]?(u=f[2],h=f[3]):h===f[3]&&(u=d(u,f[2]))),i=v,s=x}const p=c(this,Mh);p[0]=a[0]-c(this,Jo),p[1]=a[1]-c(this,Jo),p[2]=a[2]-a[0]+2*c(this,Jo),p[3]=a[3]-a[1]+2*c(this,Jo),this.firstPoint=[o,l],this.lastPoint=[u,h]};var s1,a1,o1,kc,qs,zr,BM,gy,jM,UM,RA;class PA{constructor(e,t=0,r=0,i=!0){_(this,zr);_(this,s1);_(this,a1);_(this,o1);_(this,kc,[]);_(this,qs,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:v,y:x,width:w,height:y}of e){const S=Math.floor((v-t)/o)*o,T=Math.ceil((v+w+t)/o)*o,P=Math.floor((x-t)/o)*o,b=Math.ceil((x+y+t)/o)*o,F=[S,P,b,!0],D=[T,P,b,!1];c(this,kc).push(F,D),Re.rectBoundingBox(S,P,T,b,s)}const l=s[2]-s[0]+2*r,u=s[3]-s[1]+2*r,h=s[0]-r,d=s[1]-r;let f=i?-1/0:1/0,p=1/0;const g=c(this,kc).at(i?-1:-2),m=[g[0],g[2]];for(const v of c(this,kc)){const[x,w,y,S]=v;!S&&i?w<p?(p=w,f=x):w===p&&(f=Math.max(f,x)):S&&!i&&(w<p?(p=w,f=x):w===p&&(f=Math.min(f,x))),v[0]=(x-h)/l,v[1]=(w-d)/u,v[2]=(y-d)/u}E(this,s1,new Float32Array([h,d,l,u])),E(this,a1,[f,p]),E(this,o1,m)}getOutlines(){c(this,kc).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of c(this,kc))t[3]?(e.push(...k(this,zr,RA).call(this,t)),k(this,zr,jM).call(this,t)):(k(this,zr,UM).call(this,t),e.push(...k(this,zr,RA).call(this,t)));return k(this,zr,BM).call(this,e)}}s1=new WeakMap,a1=new WeakMap,o1=new WeakMap,kc=new WeakMap,qs=new WeakMap,zr=new WeakSet,BM=function(e){const t=[],r=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,u,h,d]=a;r.delete(a);let f=o,p=l;for(s=[o,u],i.push(s);;){let g;if(r.has(h))g=h;else if(r.has(d))g=d;else break;r.delete(g),[o,l,u,h,d]=g,f!==o&&(s.push(f,p,o,p===l?l:u),f=o),p=p===l?u:l}s.push(f,p)}return new RV(i,c(this,s1),c(this,a1),c(this,o1))},gy=function(e){const t=c(this,qs);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},jM=function([,e,t]){const r=k(this,zr,gy).call(this,e);c(this,qs).splice(r,0,[e,t])},UM=function([,e,t]){const r=k(this,zr,gy).call(this,e);for(let i=r;i<c(this,qs).length;i++){const[s,a]=c(this,qs)[i];if(s!==e)break;if(s===e&&a===t){c(this,qs).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=c(this,qs)[i];if(s!==e)break;if(s===e&&a===t){c(this,qs).splice(i,1);return}}},RA=function(e){const[t,r,i]=e,s=[[t,r,i]],a=k(this,zr,gy).call(this,i);for(let o=0;o<a;o++){const[l,u]=c(this,qs)[o];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[h][1]=u;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,p>u&&s.push([t,u,p])}}}return s};var l1,V0;class RV extends ke{constructor(t,r,i,s){super();_(this,l1);_(this,V0);E(this,V0,t),E(this,l1,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const t=[];for(const r of c(this,V0)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,u=s-r;for(const h of c(this,V0)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*l,d[f+1]=s-h[f+1]*u;o.push(d)}return o}get box(){return c(this,l1)}get classNamesForOutlining(){return["highlightOutline"]}}l1=new WeakMap,V0=new WeakMap;class FA extends gw{newFreeDrawOutline(e,t,r,i,s,a){return new FV(e,t,r,i,s,a)}}class FV extends MM{newOutliner(e,t,r,i,s,a=0){return new FA(e,t,r,i,s,a)}}var G0,c1,Zo,Lh,u1,Zr,h1,d1,Bh,Fi,Ni,Yn,X0,Y0,Er,K0,gs,f1,We,NA,vy,HM,$M,zM,DA,Su,Es,zd,WM,xy,yy,VM,GM,XM,YM,KM;const st=class st extends Nt{constructor(t){super({...t,name:"highlightEditor"});_(this,We);_(this,G0,null);_(this,c1,0);_(this,Zo);_(this,Lh,null);_(this,u1,null);_(this,Zr,null);_(this,h1,null);_(this,d1,0);_(this,Bh,null);_(this,Fi,null);_(this,Ni,null);_(this,Yn,!1);_(this,X0,null);_(this,Y0,null);_(this,Er,null);_(this,K0,"");_(this,gs);_(this,f1,"");this.color=t.color||st._defaultColor,E(this,gs,t.thickness||st._defaultThickness),this.opacity=t.opacity||st._defaultOpacity,E(this,Zo,t.boxes||null),E(this,f1,t.methodOfCreation||""),E(this,K0,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(E(this,Yn,!0),k(this,We,vy).call(this,t),k(this,We,Su).call(this)):c(this,Zo)&&(E(this,G0,t.anchorNode),E(this,c1,t.anchorOffset),E(this,h1,t.focusNode),E(this,d1,t.focusOffset),k(this,We,NA).call(this),k(this,We,Su).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=st.prototype;return $e(this,"_keyboardManager",new P1([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,Yn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:c(this,gs),methodOfCreation:c(this,f1)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;Nt.initialize(t,r),st._defaultColor||(st._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case Je.HIGHLIGHT_COLOR:st._defaultColor=r;break;case Je.HIGHLIGHT_THICKNESS:st._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return c(this,Y0)}get commentButtonPosition(){return c(this,X0)}updateParams(t,r){switch(t){case Je.HIGHLIGHT_COLOR:k(this,We,HM).call(this,r);break;case Je.HIGHLIGHT_THICKNESS:k(this,We,$M).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Je.HIGHLIGHT_COLOR,st._defaultColor],[Je.HIGHLIGHT_THICKNESS,st._defaultThickness]]}get propertiesToUpdate(){return[[Je.HIGHLIGHT_COLOR,this.color||st._defaultColor],[Je.HIGHLIGHT_THICKNESS,c(this,gs)||st._defaultThickness],[Je.HIGHLIGHT_FREE,c(this,Yn)]]}onUpdatedColor(){var t,r;(t=this.parent)==null||t.drawLayer.updateProperties(c(this,Ni),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=c(this,u1))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",E(this,u1,new fw({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(k(this,We,yy).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,k(this,We,yy).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){k(this,We,DA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,We,Su).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?k(this,We,DA).call(this):t&&(k(this,We,Su).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;c(this,Yn)?(t=(t-this.rotation+360)%360,i=k(s=st,Es,zd).call(s,c(this,Fi).box,t)):i=k(a=st,Es,zd).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(c(this,Ni),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(c(this,Er),{bbox:k(o=st,Es,zd).call(o,c(this,Zr).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();c(this,K0)&&(t.setAttribute("aria-label",c(this,K0)),t.setAttribute("role","mark")),c(this,Yn)?t.classList.add("free"):this.div.addEventListener("keydown",k(this,We,WM).bind(this),{signal:this._uiManager._signal});const r=E(this,Bh,document.createElement("div"));return t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=c(this,Lh),this.setDims(),f4(this,c(this,Bh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(c(this,Er),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(c(this,Er),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:k(this,We,xy).call(this,!0);break;case 1:case 3:k(this,We,xy).call(this,!1);break}}select(){var t;super.select(),c(this,Er)&&((t=this.parent)==null||t.drawLayer.updateProperties(c(this,Er),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),c(this,Er)&&((t=this.parent)==null||t.drawLayer.updateProperties(c(this,Er),{rootClass:{selected:!1}}),c(this,Yn)||k(this,We,xy).call(this,!1))}get _mustFixPosition(){return!c(this,Yn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(c(this,Ni),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(c(this,Er),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:h}=i.getBoundingClientRect(),d=new AbortController,f=t.combinedSignal(d),p=g=>{d.abort(),k(this,Es,YM).call(this,t,g)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",on,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",ks,{signal:f}),i.addEventListener("pointermove",k(this,Es,XM).bind(this,t),{signal:f}),this._freeHighlight=new FA({x:s,y:a},[o,l,u,h],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var m,v,x,w;let s=null;if(t instanceof _M){const{data:{quadPoints:y,rect:S,rotation:T,id:P,color:b,opacity:F,popupRef:D,richText:M,contentsObj:W,creationDate:G,modificationDate:q},parent:{page:{pageNumber:J}}}=t;s=t={annotationType:Ue.HIGHLIGHT,color:Array.from(b),opacity:F,quadPoints:y,boxes:null,pageIndex:J-1,rect:S.slice(0),rotation:T,annotationElementId:P,id:P,deleted:!1,popupRef:D,richText:M,comment:(W==null?void 0:W.str)||null,creationDate:G,modificationDate:q}}else if(t instanceof Ub){const{data:{inkLists:y,rect:S,rotation:T,id:P,color:b,borderStyle:{rawWidth:F},popupRef:D,richText:M,contentsObj:W,creationDate:G,modificationDate:q},parent:{page:{pageNumber:J}}}=t;s=t={annotationType:Ue.HIGHLIGHT,color:Array.from(b),thickness:F,inkLists:y,boxes:null,pageIndex:J-1,rect:S.slice(0),rotation:T,annotationElementId:P,id:P,deleted:!1,popupRef:D,richText:M,comment:(W==null?void 0:W.str)||null,creationDate:G,modificationDate:q}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,h=await super.deserialize(t,r,i);h.color=Re.makeHexColor(...a),h.opacity=u||1,l&&E(h,gs,t.thickness),h._initialData=s,t.comment&&h.setCommentData(t);const[d,f]=h.pageDimensions,[p,g]=h.pageTranslation;if(o){const y=E(h,Zo,[]);for(let S=0;S<o.length;S+=8)y.push({x:(o[S]-p)/d,y:1-(o[S+1]-g)/f,width:(o[S+2]-o[S])/d,height:(o[S+1]-o[S+5])/f});k(m=h,We,NA).call(m),k(v=h,We,Su).call(v),h.rotate(h.rotation)}else if(l){E(h,Yn,!0);const y=l[0],S={x:y[0]-p,y:f-(y[1]-g)},T=new FA(S,[0,0,d,f],1,c(h,gs)/2,!0,.001);for(let F=0,D=y.length;F<D;F+=2)S.x=y[F]-p,S.y=f-(y[F+1]-g),T.add(S);const{id:P,clipPathId:b}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:T.toSVGPath()}},!0,!0);k(x=h,We,vy).call(x,{highlightOutlines:T.getOutlines(),highlightId:P,clipPathId:b}),k(w=h,We,Su).call(w),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=Nt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(t);return Object.assign(i,{color:r,opacity:this.opacity,thickness:c(this,gs),quadPoints:k(this,We,VM).call(this),outlines:k(this,We,GM).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!k(this,We,KM).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};G0=new WeakMap,c1=new WeakMap,Zo=new WeakMap,Lh=new WeakMap,u1=new WeakMap,Zr=new WeakMap,h1=new WeakMap,d1=new WeakMap,Bh=new WeakMap,Fi=new WeakMap,Ni=new WeakMap,Yn=new WeakMap,X0=new WeakMap,Y0=new WeakMap,Er=new WeakMap,K0=new WeakMap,gs=new WeakMap,f1=new WeakMap,We=new WeakSet,NA=function(){const t=new PA(c(this,Zo),.001);E(this,Fi,t.getOutlines()),[this.x,this.y,this.width,this.height]=c(this,Fi).box;const r=new PA(c(this,Zo),.0025,.001,this._uiManager.direction==="ltr");E(this,Zr,r.getOutlines());const{firstPoint:i}=c(this,Fi);E(this,X0,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=c(this,Zr);E(this,Y0,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},vy=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var f,p;if(E(this,Fi,t),E(this,Zr,t.getNewOutline(c(this,gs)/2+1.5,.0025)),r>=0)E(this,Ni,r),E(this,Lh,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),E(this,Er,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:c(this,Zr).box,path:{d:c(this,Zr).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(c(this,Ni),{bbox:k(f=st,Es,zd).call(f,c(this,Fi).box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(c(this,Er),{bbox:k(p=st,Es,zd).call(p,c(this,Zr).box,g),path:{d:c(this,Zr).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[g,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*m/g,this.height=u*g/m;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[g,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*m/g,this.height=u*g/m;break}}const{firstPoint:h}=t;E(this,X0,[(h[0]-a)/l,(h[1]-o)/u]);const{lastPoint:d}=c(this,Zr);E(this,Y0,[(d[0]-a)/l,(d[1]-o)/u])},HM=function(t){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,t,st._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Je.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},$M=function(t){const r=c(this,gs),i=s=>{E(this,gs,s),k(this,We,zM).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Je.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},zM=function(t){c(this,Yn)&&(k(this,We,vy).call(this,{highlightOutlines:c(this,Fi).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},DA=function(){c(this,Ni)===null||!this.parent||(this.parent.drawLayer.remove(c(this,Ni)),E(this,Ni,null),this.parent.drawLayer.remove(c(this,Er)),E(this,Er,null))},Su=function(t=this.parent){c(this,Ni)===null&&({id:Qt(this,Ni)._,clipPathId:Qt(this,Lh)._}=t.drawLayer.draw({bbox:c(this,Fi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:c(this,Yn)},path:{d:c(this,Fi).toSVGPath()}},!1,!0),E(this,Er,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:c(this,Yn)},bbox:c(this,Zr).box,path:{d:c(this,Zr).toSVGPath()}},c(this,Yn))),c(this,Bh)&&(c(this,Bh).style.clipPath=c(this,Lh)))},Es=new WeakSet,zd=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},WM=function(t){st._keyboardManager.exec(this,t)},xy=function(t){if(!c(this,G0))return;const r=window.getSelection();t?r.setPosition(c(this,G0),c(this,c1)):r.setPosition(c(this,h1),c(this,d1))},yy=function(){return c(this,Yn)?this.rotation:0},VM=function(){if(c(this,Yn))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=c(this,Zo),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:h,width:d,height:f}of a){const p=u*t+i,g=(1-h)*r+s;o[l]=o[l+4]=p,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=p+d*t,o[l+5]=o[l+7]=g-f*r,l+=8}return o},GM=function(t){return c(this,Fi).serialize(t,k(this,We,yy).call(this))},XM=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},YM=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},KM=function(t){const{color:r}=this._initialData;return this.hasEditedComment||t.color.some((i,s)=>i!==r[s])},_(st,Es),de(st,"_defaultColor",null),de(st,"_defaultOpacity",1),de(st,"_defaultThickness",12),de(st,"_type","highlight"),de(st,"_editorType",Ue.HIGHLIGHT),de(st,"_freeHighlightId",-1),de(st,"_freeHighlight",null),de(st,"_freeHighlightClipId","");let vw=st;var jh;class qM{constructor(){_(this,jh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,r)}updateSVGProperty(e,t){c(this,jh)[e]=t}toSVGProperties(){const e=c(this,jh);return E(this,jh,Object.create(null)),{root:e}}reset(){E(this,jh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ct("Not implemented")}}jh=new WeakMap;var Di,q0,Nn,Uh,Hh,tt,IA,OA,MA,Am,QM,wy,Tm,Wd;const qe=class qe extends Nt{constructor(t){super(t);_(this,tt);_(this,Di,null);_(this,q0);de(this,"_colorPicker",null);de(this,"_drawId",null);E(this,q0,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(k(this,tt,IA).call(this,t),k(this,tt,Am).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Ct("Not implemented")}static get typesMap(){Ct("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(c(qe,Nn).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var h;s.updateProperty(r,l);const u=c(this,Di).updateProperty(r,l);u&&k(this,tt,Tm).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(c(this,Di).getPathResizingSVGProperties(k(this,tt,wy).call(this)),{bbox:k(this,tt,Wd).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(c(this,Di).getPathResizedSVGProperties(k(this,tt,wy).call(this)),{bbox:k(this,tt,Wd).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:k(this,tt,Wd).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(c(this,Di).getPathTranslatedSVGProperties(k(this,tt,wy).call(this),this.parentDimensions),{bbox:k(this,tt,Wd).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,c(this,q0)&&(E(this,q0,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){k(this,tt,MA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(k(this,tt,Am).call(this),k(this,tt,Tm).call(this,c(this,Di).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),k(this,tt,MA).call(this)):t&&(this._uiManager.addShouldRescale(this),k(this,tt,Am).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties({bbox:k(this,tt,Wd).call(this)},c(this,Di).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&k(this,tt,Tm).call(this,c(this,Di).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,r;this._isCopy&&(t=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,r),i}static createDrawerInstance(t,r,i,s,a){Ct("Not implemented")}static startDrawing(t,r,i,s){var v;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:h}=s;if(mr.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:d}}=t,{width:f,height:p}=a.getBoundingClientRect(),g=E(qe,Uh,new AbortController),m=t.combinedSignal(g);if(mr.setPointer(h,u),window.addEventListener("pointerup",x=>{mr.isSamePointerIdOrRemove(x.pointerId)&&this._endDraw(x)},{signal:m}),window.addEventListener("pointercancel",x=>{mr.isSamePointerIdOrRemove(x.pointerId)&&this._currentParent.endDrawingSession()},{signal:m}),window.addEventListener("pointerdown",x=>{mr.isSamePointerType(x.pointerType)&&(mr.initializeAndAddPointerId(x.pointerId),c(qe,Nn).isCancellable()&&(c(qe,Nn).removeLastElement(),c(qe,Nn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",ks,{signal:m}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),a.addEventListener("touchmove",x=>{mr.isSameTimeStamp(x.timeStamp)&&on(x)},{signal:m}),t.toggleDrawing(),(v=r._editorUndoBar)==null||v.hide(),c(qe,Nn)){t.drawLayer.updateProperties(this._currentDrawId,c(qe,Nn).startNew(o,l,f,p,d));return}r.updateUIForDefaultProperties(this),E(qe,Nn,this.createDrawerInstance(o,l,f,p,d)),E(qe,Hh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(c(qe,Hh).toSVGProperties(),c(qe,Nn).defaultSVGProperties),!0,!1)}static _drawMove(t){if(mr.isSameTimeStamp(t.timeStamp),!c(qe,Nn))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(mr.isSamePointerId(s)){if(mr.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,c(qe,Nn).add(r,i)),mr.setTimeStamp(t.timeStamp),on(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,E(qe,Nn,null),E(qe,Hh,null),mr.clearPointerType(),mr.clearTimeStamp()),c(qe,Uh)&&(c(qe,Uh).abort(),E(qe,Uh,null),mr.clearPointerIds())}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,c(qe,Nn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=c(qe,Nn),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Je.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Je.DRAW_STEP),!c(qe,Nn).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:c(qe,Nn).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:c(qe,Hh),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){Ct("Not implemented")}static async deserialize(t,r,i){var d,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),h=await super.deserialize(t,r,i);return h.createDrawingOptions(t),k(d=h,tt,IA).call(d,{drawOutlines:u}),k(f=h,tt,Am).call(f),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return c(this,Di).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Di=new WeakMap,q0=new WeakMap,Nn=new WeakMap,Uh=new WeakMap,Hh=new WeakMap,tt=new WeakSet,IA=function({drawOutlines:t,drawId:r,drawingOptions:i}){E(this,Di,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=k(this,tt,OA).call(this,t,this.parent),k(this,tt,Tm).call(this,t.box)},OA=function(t,r){const{id:i}=r.drawLayer.draw(qe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},MA=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Am=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=k(this,tt,OA).call(this,c(this,Di),t)}},QM=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},wy=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},Tm=function(t){[this.x,this.y,this.width,this.height]=k(this,tt,QM).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Wd=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-r,t,i*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-r,s*(u/l),i*(l/u)];case 7:return[r-i*(l/u),1-t-s*(u/l),i*(l/u),s*(u/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/l),r,s*(u/l),i*(l/u)];case 13:return[1-r-i*(l/u),t-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-t,1-r-i*(l/u),s*(u/l),i*(l/u)];case 15:return[r,1-t,i*(l/u),s*(u/l)];default:return[t,r,i,s]}},de(qe,"_currentDrawId",-1),de(qe,"_currentParent",null),_(qe,Nn,null),_(qe,Uh,null),_(qe,Hh,null),de(qe,"_INNER_MARGIN",3);let xw=qe;var Xa,Dn,In,$h,Q0,Fr,Kn,vs,zh,Wh,Vh,J0,Ey;class NV{constructor(e,t,r,i,s,a){_(this,J0);_(this,Xa,new Float64Array(6));_(this,Dn);_(this,In);_(this,$h);_(this,Q0);_(this,Fr);_(this,Kn,"");_(this,vs,0);_(this,zh,new F1);_(this,Wh);_(this,Vh);E(this,Wh,r),E(this,Vh,i),E(this,$h,s),E(this,Q0,a),[e,t]=k(this,J0,Ey).call(this,e,t);const o=E(this,Dn,[NaN,NaN,NaN,NaN,e,t]);E(this,Fr,[e,t]),E(this,In,[{line:o,points:c(this,Fr)}]),c(this,Xa).set(o,0)}updateProperty(e,t){e==="stroke-width"&&E(this,Q0,t)}isEmpty(){return!c(this,In)||c(this,In).length===0}isCancellable(){return c(this,Fr).length<=10}add(e,t){[e,t]=k(this,J0,Ey).call(this,e,t);const[r,i,s,a]=c(this,Xa).subarray(2,6),o=e-s,l=t-a;return Math.hypot(c(this,Wh)*o,c(this,Vh)*l)<=2?null:(c(this,Fr).push(e,t),isNaN(r)?(c(this,Xa).set([s,a,e,t],2),c(this,Dn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(c(this,Xa)[0])&&c(this,Dn).splice(6,6),c(this,Xa).set([r,i,s,a,e,t],0),c(this,Dn).push(...ke.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(c(this,Fr).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){E(this,Wh,r),E(this,Vh,i),E(this,$h,s),[e,t]=k(this,J0,Ey).call(this,e,t);const a=E(this,Dn,[NaN,NaN,NaN,NaN,e,t]);E(this,Fr,[e,t]);const o=c(this,In).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),c(this,In).push({line:a,points:c(this,Fr)}),c(this,Xa).set(a,0),E(this,vs,0),this.toSVGPath(),null}getLastElement(){return c(this,In).at(-1)}setLastElement(e){return c(this,In)?(c(this,In).push(e),E(this,Dn,e.line),E(this,Fr,e.points),E(this,vs,0),{path:{d:this.toSVGPath()}}):c(this,zh).setLastElement(e)}removeLastElement(){if(!c(this,In))return c(this,zh).removeLastElement();c(this,In).pop(),E(this,Kn,"");for(let e=0,t=c(this,In).length;e<t;e++){const{line:r,points:i}=c(this,In)[e];E(this,Dn,r),E(this,Fr,i),E(this,vs,0),this.toSVGPath()}return{path:{d:c(this,Kn)}}}toSVGPath(){const e=ke.svgRound(c(this,Dn)[4]),t=ke.svgRound(c(this,Dn)[5]);if(c(this,Fr).length===2)return E(this,Kn,`${c(this,Kn)} M ${e} ${t} Z`),c(this,Kn);if(c(this,Fr).length<=6){const i=c(this,Kn).lastIndexOf("M");E(this,Kn,`${c(this,Kn).slice(0,i)} M ${e} ${t}`),E(this,vs,6)}if(c(this,Fr).length===4){const i=ke.svgRound(c(this,Dn)[10]),s=ke.svgRound(c(this,Dn)[11]);return E(this,Kn,`${c(this,Kn)} L ${i} ${s}`),E(this,vs,12),c(this,Kn)}const r=[];c(this,vs)===0&&(r.push(`M ${e} ${t}`),E(this,vs,6));for(let i=c(this,vs),s=c(this,Dn).length;i<s;i+=6){const[a,o,l,u,h,d]=c(this,Dn).slice(i,i+6).map(ke.svgRound);r.push(`C${a} ${o} ${l} ${u} ${h} ${d}`)}return E(this,Kn,c(this,Kn)+r.join(" ")),E(this,vs,c(this,Dn).length),c(this,Kn)}getOutlines(e,t,r,i){const s=c(this,In).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),c(this,zh).build(c(this,In),e,t,r,c(this,$h),c(this,Q0),i),E(this,Xa,null),E(this,Dn,null),E(this,In,null),E(this,Kn,null),c(this,zh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Xa=new WeakMap,Dn=new WeakMap,In=new WeakMap,$h=new WeakMap,Q0=new WeakMap,Fr=new WeakMap,Kn=new WeakMap,vs=new WeakMap,zh=new WeakMap,Wh=new WeakMap,Vh=new WeakMap,J0=new WeakSet,Ey=function(e,t){return ke._normalizePoint(e,t,c(this,Wh),c(this,Vh),c(this,$h))};var Nr,p1,m1,Ii,Ya,Ka,Z0,ep,Gh,Zn,yo,JM,ZM,eL;class F1 extends ke{constructor(){super(...arguments);_(this,Zn);_(this,Nr);_(this,p1,0);_(this,m1);_(this,Ii);_(this,Ya);_(this,Ka);_(this,Z0);_(this,ep);_(this,Gh)}build(t,r,i,s,a,o,l){E(this,Ya,r),E(this,Ka,i),E(this,Z0,s),E(this,ep,a),E(this,Gh,o),E(this,m1,l??0),E(this,Ii,t),k(this,Zn,ZM).call(this)}get thickness(){return c(this,Gh)}setLastElement(t){return c(this,Ii).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return c(this,Ii).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of c(this,Ii)){if(t.push(`M${ke.svgRound(r[4])} ${ke.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12&&isNaN(r[6])){t.push(`L${ke.svgRound(r[10])} ${ke.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,u,h,d]=r.subarray(i,i+6).map(ke.svgRound);t.push(`C${a} ${o} ${l} ${u} ${h} ${d}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],l=[],[u,h,d,f]=k(this,Zn,JM).call(this);let p,g,m,v,x,w,y,S,T;switch(c(this,ep)){case 0:T=ke._rescale,p=t,g=r+s,m=i,v=-s,x=t+u*i,w=r+(1-h-f)*s,y=t+(u+d)*i,S=r+(1-h)*s;break;case 90:T=ke._rescaleAndSwap,p=t,g=r,m=i,v=s,x=t+h*i,w=r+u*s,y=t+(h+f)*i,S=r+(u+d)*s;break;case 180:T=ke._rescale,p=t+i,g=r,m=-i,v=s,x=t+(1-u-d)*i,w=r+h*s,y=t+(1-u)*i,S=r+(h+f)*s;break;case 270:T=ke._rescaleAndSwap,p=t+i,g=r+s,m=-i,v=-s,x=t+(1-h-f)*i,w=r+(1-u-d)*s,y=t+(1-h)*i,S=r+(1-u)*s;break}for(const{line:P,points:b}of c(this,Ii))o.push(T(P,p,g,m,v,a?new Array(P.length):null)),l.push(T(b,p,g,m,v,a?new Array(b.length):null));return{lines:o,points:l,rect:[x,w,y,S]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:l},rotation:u,thickness:h}){const d=[];let f,p,g,m,v;switch(u){case 0:v=ke._rescale,f=-t/i,p=r/s+1,g=1/i,m=-1/s;break;case 90:v=ke._rescaleAndSwap,f=-r/s,p=-t/i,g=1/s,m=1/i;break;case 180:v=ke._rescale,f=t/i+1,p=-r/s,g=-1/i,m=1/s;break;case 270:v=ke._rescaleAndSwap,f=r/s+1,p=t/i+1,g=-1/s,m=-1/i;break}if(!o){o=[];for(const w of l){const y=w.length;if(y===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(y===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const S=new Float32Array(3*(y-2));o.push(S);let[T,P,b,F]=w.subarray(0,4);S.set([NaN,NaN,NaN,NaN,T,P],0);for(let D=4;D<y;D+=2){const M=w[D],W=w[D+1];S.set(ke.createBezierPoints(T,P,b,F,M,W),(D-2)*3),[T,P,b,F]=[b,F,M,W]}}}for(let w=0,y=o.length;w<y;w++)d.push({line:v(o[w].map(S=>S??NaN),f,p,g,m),points:v(l[w].map(S=>S??NaN),f,p,g,m)});const x=new this.prototype.constructor;return x.build(d,i,s,1,u,h,a),x}get box(){return c(this,Nr)}updateProperty(t,r){return t==="stroke-width"?k(this,Zn,eL).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=k(this,Zn,yo).call(this);E(this,Ya,t),E(this,Ka,r),E(this,Z0,i);const[o,l]=k(this,Zn,yo).call(this),u=o-s,h=l-a,d=c(this,Nr);return d[0]-=u,d[1]-=h,d[2]+=2*u,d[3]+=2*h,d}updateRotation(t){return E(this,p1,t),{path:{transform:this.rotationTransform}}}get viewBox(){return c(this,Nr).map(ke.svgRound).join(" ")}get defaultProperties(){const[t,r]=c(this,Nr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=c(this,Nr);let i=0,s=0,a=0,o=0,l=0,u=0;switch(c(this,p1)){case 90:s=r/t,a=-t/r,l=t;break;case 180:i=-1,o=-1,l=t,u=r;break;case 270:s=-r/t,a=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${ke.svgRound(l)} ${ke.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=k(this,Zn,yo).call(this),[l,u,h,d]=c(this,Nr);if(Math.abs(h-a)<=ke.PRECISION||Math.abs(d-o)<=ke.PRECISION){const v=t+i/2-(l+h/2),x=r+s/2-(u+d/2);return{path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:`${this.rotationTransform} translate(${v} ${x})`}}}const f=(i-2*a)/(h-2*a),p=(s-2*o)/(d-2*o),g=h/i,m=d/s;return{path:{"transform-origin":`${ke.svgRound(l)} ${ke.svgRound(u)}`,transform:`${this.rotationTransform} scale(${g} ${m}) translate(${ke.svgRound(a)} ${ke.svgRound(o)}) scale(${f} ${p}) translate(${ke.svgRound(-a)} ${ke.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=k(this,Zn,yo).call(this),l=c(this,Nr),[u,h,d,f]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(d-a)<=ke.PRECISION||Math.abs(f-o)<=ke.PRECISION){const x=t+i/2-(u+d/2),w=r+s/2-(h+f/2);for(const{line:y,points:S}of c(this,Ii))ke._translate(y,x,w,y),ke._translate(S,x,w,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(d-2*a),g=(s-2*o)/(f-2*o),m=-p*(u+a)+t+a,v=-g*(h+o)+r+o;if(p!==1||g!==1||m!==0||v!==0)for(const{line:x,points:w}of c(this,Ii))ke._rescale(x,m,v,p,g,x),ke._rescale(w,m,v,p,g,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=c(this,Nr),l=t-o[0],u=r-o[1];if(c(this,Ya)===s&&c(this,Ka)===a)for(const{line:h,points:d}of c(this,Ii))ke._translate(h,l,u,h),ke._translate(d,l,u,d);else{const h=c(this,Ya)/s,d=c(this,Ka)/a;E(this,Ya,s),E(this,Ka,a);for(const{line:f,points:p}of c(this,Ii))ke._rescale(f,l,u,h,d,f),ke._rescale(p,l,u,h,d,p);o[2]*=h,o[3]*=d}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t)} ${ke.svgRound(r)}`}}}get defaultSVGProperties(){const t=c(this,Nr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ke.svgRound(t[0])} ${ke.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Nr=new WeakMap,p1=new WeakMap,m1=new WeakMap,Ii=new WeakMap,Ya=new WeakMap,Ka=new WeakMap,Z0=new WeakMap,ep=new WeakMap,Gh=new WeakMap,Zn=new WeakSet,yo=function(t=c(this,Gh)){const r=c(this,m1)+t/2*c(this,Z0);return c(this,ep)%180===0?[r/c(this,Ya),r/c(this,Ka)]:[r/c(this,Ka),r/c(this,Ya)]},JM=function(){const[t,r,i,s]=c(this,Nr),[a,o]=k(this,Zn,yo).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},ZM=function(){const t=E(this,Nr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of c(this,Ii)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6)Re.pointBoundingBox(s[l],s[l+1],t);continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[h,d,f,p,g,m]=s.subarray(l,l+6);Re.bezierBoundingBox(a,o,h,d,f,p,g,m,t),a=g,o=m}}const[r,i]=k(this,Zn,yo).call(this);t[0]=Or(t[0]-r,0,1),t[1]=Or(t[1]-i,0,1),t[2]=Or(t[2]+r,0,1),t[3]=Or(t[3]+i,0,1),t[2]-=t[0],t[3]-=t[1]},eL=function(t){const[r,i]=k(this,Zn,yo).call(this);E(this,Gh,t);const[s,a]=k(this,Zn,yo).call(this),[o,l]=[s-r,a-i],u=c(this,Nr);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};class HE extends qM{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Nt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new HE(this._viewParameters);return e.updateAll(this),e}}var Qw,tL;const hf=class hf extends xw{constructor(t){super({...t,name:"inkEditor"});_(this,Qw);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,r){Nt.initialize(t,r),this._defaultDrawingOptions=new HE(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return $e(this,"typesMap",new Map([[Je.INK_THICKNESS,"stroke-width"],[Je.INK_COLOR,"stroke"],[Je.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new NV(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return F1.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof Ub){const{data:{inkLists:o,rect:l,rotation:u,id:h,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:g,richText:m,contentsObj:v,creationDate:x,modificationDate:w},parent:{page:{pageNumber:y}}}=t;s=t={annotationType:Ue.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:y-1,rect:l.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:g,richText:m,comment:(v==null?void 0:v.str)||null,creationDate:x,modificationDate:w}}const a=await super.deserialize(t,r,i);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new pw(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Je.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=hf.getDefaultDrawingOptions({stroke:Re.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(t),{color:Nt._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),t?(l.isCopy=!0,l):this.annotationElementId&&!k(this,Qw,tL).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};Qw=new WeakSet,tL=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},de(hf,"_type","ink"),de(hf,"_editorType",Ue.INK),de(hf,"_defaultDrawingOptions",null);let LA=hf;class BA extends F1{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Ex=8,em=3;var Xh,lt,jA,Qs,nL,rL,UA,Sy,iL,sL,aL,HA,$A,oL;class sl{static extractContoursFromText(e,{fontFamily:t,fontStyle:r,fontWeight:i},s,a,o,l){let u=new OffscreenCanvas(1,1),h=u.getContext("2d",{alpha:!1});const d=200,f=h.font=`${r} ${i} ${d}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:g,actualBoundingBoxAscent:m,actualBoundingBoxDescent:v,fontBoundingBoxAscent:x,fontBoundingBoxDescent:w,width:y}=h.measureText(e),S=1.5,T=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||0,y)*S),P=Math.ceil(Math.max(Math.abs(m)+Math.abs(v)||d,Math.abs(x)+Math.abs(w)||d)*S);u=new OffscreenCanvas(T,P),h=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=f,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,T,P),h.fillStyle="black",h.fillText(e,T*(S-1)/2,P*(3-S)/2);const b=k(this,lt,HA).call(this,h.getImageData(0,0,T,P).data),F=k(this,lt,aL).call(this,b),D=k(this,lt,$A).call(this,F),M=k(this,lt,UA).call(this,b,T,P,D);return this.processDrawnLines({lines:{curves:M,width:T,height:P},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,t,r,i,s){const[a,o,l]=k(this,lt,oL).call(this,e),[u,h]=k(this,lt,sL).call(this,a,o,l,Math.hypot(o,l)*c(this,Xh).sigmaSFactor,c(this,Xh).sigmaR,c(this,Xh).kernelSize),d=k(this,lt,$A).call(this,h),f=k(this,lt,UA).call(this,u,o,l,d);return this.processDrawnLines({lines:{curves:f,width:o,height:l},pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([t,r]=[r,t]);const{curves:l,width:u,height:h}=e,d=e.thickness??0,f=[],p=Math.min(t/u,r/h),g=p/t,m=p/r,v=[];for(const{points:w}of l){const y=a?k(this,lt,iL).call(this,w):w;if(!y)continue;v.push(y);const S=y.length,T=new Float32Array(S),P=new Float32Array(3*(S===2?2:S-2));if(f.push({line:P,points:T}),S===2){T[0]=y[0]*g,T[1]=y[1]*m,P.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[b,F,D,M]=y;b*=g,F*=m,D*=g,M*=m,T.set([b,F,D,M],0),P.set([NaN,NaN,NaN,NaN,b,F],0);for(let W=4;W<S;W+=2){const G=T[W]=y[W]*g,q=T[W+1]=y[W+1]*m;P.set(ke.createBezierPoints(b,F,D,M,G,q),(W-2)*3),[b,F,D,M]=[D,M,G,q]}}if(f.length===0)return null;const x=o?new BA:new F1;return x.build(f,t,r,1,i,o?0:d,s),{outline:x,newCurves:v,areContours:o,thickness:d,width:u,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const y of e){l+=y.length;for(let S=2,T=y.length;S<T;S++){const P=y[S]-y[S-2];a=Math.min(a,P),o=Math.max(o,P)}}let u;a>=-128&&o<=127?u=Int8Array:a>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const h=e.length,d=Ex+em*h,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=s,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(r??0)),f[p++]=h,f[p++]=u.BYTES_PER_ELEMENT;for(const y of e)f[p++]=y.length-2,f[p++]=y[0],f[p++]=y[1];const g=new CompressionStream("deflate-raw"),m=g.writable.getWriter();await m.ready,m.write(f);const v=u.prototype.constructor;for(const y of e){const S=new v(y.length-2);for(let T=2,P=y.length;T<P;T++)S[T-2]=y[T]-y[T-2];m.write(S)}m.close();const x=await new Response(g.readable).arrayBuffer(),w=new Uint8Array(x);return i4(w)}static async decompressSignature(e){try{const t=Kz(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const y of r)a||(a=new Uint8Array(new Uint32Array(y.buffer,0,4)[0])),a.set(y,o),o+=y.length;const l=new Uint32Array(a.buffer,0,a.length>>2),u=l[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const h=l[2],d=l[3],f=l[4]===0,p=l[5],g=l[6],m=l[7],v=[],x=(Ex+em*g)*Uint32Array.BYTES_PER_ELEMENT;let w;switch(m){case Int8Array.BYTES_PER_ELEMENT:w=new Int8Array(a.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:w=new Int16Array(a.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:w=new Int32Array(a.buffer,x);break}o=0;for(let y=0;y<g;y++){const S=l[em*y+Ex],T=new Float32Array(S+2);v.push(T);for(let P=0;P<em-1;P++)T[P]=l[em*y+Ex+P+1];for(let P=0;P<S;P++)T[P+2]=T[P]+w[o++]}return{areContours:f,thickness:p,outlines:v,width:h,height:d}}catch(t){return Le(`decompressSignature: ${t}`),null}}}Xh=new WeakMap,lt=new WeakSet,jA=function(e,t,r,i){return r-=e,i-=t,r===0?i>0?0:4:r===1?i+6:2-i},Qs=new WeakMap,nL=function(e,t,r,i,s,a,o){const l=k(this,lt,jA).call(this,r,i,s,a);for(let u=0;u<8;u++){const h=(-u+l-o+16)%8,d=c(this,Qs)[2*h],f=c(this,Qs)[2*h+1];if(e[(r+d)*t+(i+f)]!==0)return h}return-1},rL=function(e,t,r,i,s,a,o){const l=k(this,lt,jA).call(this,r,i,s,a);for(let u=0;u<8;u++){const h=(u+l+o+16)%8,d=c(this,Qs)[2*h],f=c(this,Qs)[2*h+1];if(e[(r+d)*t+(i+f)]!==0)return h}return-1},UA=function(e,t,r,i){const s=e.length,a=new Int32Array(s);for(let h=0;h<s;h++)a[h]=e[h]<=i?1:0;for(let h=1;h<r-1;h++)a[h*t]=a[h*t+t-1]=0;for(let h=0;h<t;h++)a[h]=a[t*r-1-h]=0;let o=1,l;const u=[];for(let h=1;h<r-1;h++){l=1;for(let d=1;d<t-1;d++){const f=h*t+d,p=a[f];if(p===0)continue;let g=h,m=d;if(p===1&&a[f-1]===0)o+=1,m-=1;else if(p>=1&&a[f+1]===0)o+=1,m+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const v=[d,h],x=m===d+1,w={isHole:x,points:v,id:o,parent:0};u.push(w);let y;for(const W of u)if(W.id===l){y=W;break}y?y.isHole?w.parent=x?y.parent:l:w.parent=x?l:y.parent:w.parent=x?l:0;const S=k(this,lt,nL).call(this,a,t,h,d,g,m,0);if(S===-1){a[f]=-o,a[f]!==1&&(l=Math.abs(a[f]));continue}let T=c(this,Qs)[2*S],P=c(this,Qs)[2*S+1];const b=h+T,F=d+P;g=b,m=F;let D=h,M=d;for(;;){const W=k(this,lt,rL).call(this,a,t,D,M,g,m,1);T=c(this,Qs)[2*W],P=c(this,Qs)[2*W+1];const G=D+T,q=M+P;v.push(q,G);const J=D*t+M;if(a[J+1]===0?a[J]=-o:a[J]===1&&(a[J]=o),G===h&&q===d&&D===b&&M===F){a[f]!==1&&(l=Math.abs(a[f]));break}else g=D,m=M,D=G,M=q}}}return u},Sy=function(e,t,r,i){if(r-t<=4){for(let b=t;b<r-2;b+=2)i.push(e[b],e[b+1]);return}const s=e[t],a=e[t+1],o=e[r-4]-s,l=e[r-3]-a,u=Math.hypot(o,l),h=o/u,d=l/u,f=h*a-d*s,p=l/o,g=1/u,m=Math.atan(p),v=Math.cos(m),x=Math.sin(m),w=g*(Math.abs(v)+Math.abs(x)),y=g*(1-w+w**2),S=Math.max(Math.atan(Math.abs(x+v)*y),Math.atan(Math.abs(x-v)*y));let T=0,P=t;for(let b=t+2;b<r-2;b+=2){const F=Math.abs(f-h*e[b+1]+d*e[b]);F>T&&(P=b,T=F)}T>(u*S)**2?(k(this,lt,Sy).call(this,e,t,P+2,i),k(this,lt,Sy).call(this,e,P,r,i)):i.push(s,a)},iL=function(e){const t=[],r=e.length;return k(this,lt,Sy).call(this,e,0,r,t),t.push(e[r-2],e[r-1]),t.length<=4?null:t},sL=function(e,t,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,u=a>>1;for(let m=0;m<a;m++){const v=(m-u)**2;for(let x=0;x<a;x++)o[m*a+x]=Math.exp((v+(x-u)**2)/l)}const h=new Float32Array(256),d=-2*s**2;for(let m=0;m<256;m++)h[m]=Math.exp(m**2/d);const f=e.length,p=new Uint8Array(f),g=new Uint32Array(256);for(let m=0;m<r;m++)for(let v=0;v<t;v++){const x=m*t+v,w=e[x];let y=0,S=0;for(let P=0;P<a;P++){const b=m+P-u;if(!(b<0||b>=r))for(let F=0;F<a;F++){const D=v+F-u;if(D<0||D>=t)continue;const M=e[b*t+D],W=o[P*a+F]*h[Math.abs(M-w)];y+=M*W,S+=W}}const T=p[x]=Math.round(y/S);g[T]++}return[p,g]},aL=function(e){const t=new Uint32Array(256);for(const r of e)t[r]++;return t},HA=function(e){const t=e.length,r=new Uint8ClampedArray(t>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const u=r[o]=e[o<<2];i=Math.max(i,u),s=Math.min(s,u)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},$A=function(e){let t,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(t=s;t<256;t++){const l=e[t];l>r&&(t-a>i&&(i=t-a,o=t-1),r=l,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},oL=function(e){const t=e,{width:r,height:i}=e,{maxDim:s}=c(this,Xh);let a=r,o=i;if(r>s||i>s){let f=r,p=i,g=Math.log2(Math.max(r,i)/s);const m=Math.floor(g);g=g===m?m-1:m;for(let x=0;x<g;x++){a=Math.ceil(f/2),o=Math.ceil(p/2);const w=new OffscreenCanvas(a,o);w.getContext("2d").drawImage(e,0,0,f,p,0,0,a,o),f=a,p=o,e!==t&&e.close(),e=w.transferToImageBitmap()}const v=Math.min(s/a,s/o);a=Math.round(a*v),o=Math.round(o*v)}const u=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,a,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,a,o);const h=u.getImageData(0,0,a,o).data;return[k(this,lt,HA).call(this,h),a,o]},_(sl,lt),_(sl,Xh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),_(sl,Qs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Hb extends qM{constructor(){super(),super.updateProperties({fill:Nt._defaultLineColor,"stroke-width":0})}clone(){const e=new Hb;return e.updateAll(this),e}}class $b extends HE{constructor(e){super(e),super.updateProperties({stroke:Nt._defaultLineColor,"stroke-width":1})}clone(){const e=new $b(this._viewParameters);return e.updateAll(this),e}}var Pc,qa,Rc,Yh;const vi=class vi extends xw{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});_(this,Pc,!1);_(this,qa,null);_(this,Rc,null);_(this,Yh,null);this._willKeepAspectRatio=!0,E(this,Rc,t.signatureData||null),E(this,qa,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,r){Nt.initialize(t,r),this._defaultDrawingOptions=new Hb,this._defaultDrawnSignatureOptions=new $b(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return $e(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!c(this,qa)}}static computeTelemetryFinalData(t){const r=t.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,r=this.y),super.render(),this._drawId===null)if(c(this,Rc)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:u,heightInPage:h}=c(this,Rc),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,g=sl.processDrawnLines({lines:s,pageWidth:d,pageHeight:f,rotation:p,innerMargin:vi._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,h,l,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:c(this,qa)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,r)),this.div}setUuid(t){E(this,Yh,t),this.addEditToolbar()}getUuid(){return c(this,Yh)}get description(){return c(this,qa)}set description(t){E(this,qa,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:r,thickness:i,width:s,height:a}=c(this,Rc),o=Math.max(s,a),l=sl.processDrawnLines({lines:{curves:t.map(u=>({points:u})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,r,i,s){const{x:a,y:o}=this,{outline:l}=E(this,Rc,t);E(this,Pc,l instanceof BA),this.description=i;let u;c(this,Pc)?u=vi.getDefaultDrawingOptions():(u=vi._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:u});const[,h]=this.pageDimensions;let d=r/h;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return sl.process(t,r,i,s,vi._INNER_MARGIN)}getFromText(t,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return sl.extractContoursFromText(t,r,i,s,a,vi._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return sl.processDrawnLines({lines:t,pageWidth:r,pageHeight:i,rotation:s,innerMargin:vi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:r}){t?this._drawingOptions=vi.getDefaultDrawingOptions():(this._drawingOptions=vi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:c(this,Pc),color:[0,0,0],thickness:c(this,Pc)?0:s});return this.addComment(a),t?(a.paths={lines:r,points:i},a.uuid=c(this,Yh),a.isCopy=!0):a.lines=r,c(this,qa)&&(a.accessibilityData={type:"Figure",alt:c(this,qa)}),a}static deserializeDraw(t,r,i,s,a,o){return o.areContours?BA.deserialize(t,r,i,s,a,o):F1.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){var a;const s=await super.deserialize(t,r,i);return E(s,Pc,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",E(s,Yh,t.uuid),s}};Pc=new WeakMap,qa=new WeakMap,Rc=new WeakMap,Yh=new WeakMap,de(vi,"_type","signature"),de(vi,"_editorType",Ue.SIGNATURE),de(vi,"_defaultDrawingOptions",null);let zA=vi;var Ut,On,Fc,el,Nc,tp,tl,Kh,Qa,Oi,np,nt,bm,Cm,_y,Ay,Ty,VA,by,lL;class WA extends Nt{constructor(t){super({...t,name:"stampEditor"});_(this,nt);_(this,Ut,null);_(this,On,null);_(this,Fc,null);_(this,el,null);_(this,Nc,null);_(this,tp,"");_(this,tl,null);_(this,Kh,!1);_(this,Qa,null);_(this,Oi,!1);_(this,np,!1);E(this,el,t.bitmapUrl),E(this,Nc,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,r){Nt.initialize(t,r)}static isHandlingMimeForPasting(t){return P2.includes(t)}static paste(t,r){r.pasteEditor({mode:Ue.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;c(this,On)&&(E(this,Ut,null),this._uiManager.imageManager.deleteId(c(this,On)),(t=c(this,tl))==null||t.remove(),E(this,tl,null),c(this,Qa)&&(clearTimeout(c(this,Qa)),E(this,Qa,null))),super.remove()}rebuild(){if(!this.parent){c(this,On)&&k(this,nt,_y).call(this);return}super.rebuild(),this.div!==null&&(c(this,On)&&c(this,tl)===null&&k(this,nt,_y).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(c(this,Fc)||c(this,Ut)||c(this,el)||c(this,Nc)||c(this,On)||c(this,Kh))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;return this._isCopy&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),c(this,Kh)||(c(this,Ut)?k(this,nt,Ay).call(this):k(this,nt,_y).call(this)),this._isCopy&&this._moveAfterPaste(t,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(E(this,On,i),s&&E(this,Ut,s),E(this,Kh,!1),k(this,nt,Ay).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;c(this,Qa)!==null&&clearTimeout(c(this,Qa)),E(this,Qa,setTimeout(()=>{E(this,Qa,null),k(this,nt,VA).call(this)},200))}copyCanvas(t,r,i=!1){t||(t=224);const{width:s,height:a}=c(this,Ut),o=new ao;let l=c(this,Ut),u=s,h=a,d=null;if(r){if(s>r||a>r){const b=Math.min(r/s,r/a);u=Math.floor(s*b),h=Math.floor(a*b)}d=document.createElement("canvas");const p=d.width=Math.ceil(u*o.sx),g=d.height=Math.ceil(h*o.sy);c(this,Oi)||(l=k(this,nt,Ty).call(this,p,g));const m=d.getContext("2d");m.filter=this._uiManager.hcmFilter;let v="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":tW.isDarkMode&&(v="#8f8f9d",x="#42414d");const w=15,y=w*o.sx,S=w*o.sy,T=new OffscreenCanvas(y*2,S*2),P=T.getContext("2d");P.fillStyle=v,P.fillRect(0,0,y*2,S*2),P.fillStyle=x,P.fillRect(0,0,y,S),P.fillRect(y,S,y,S),m.fillStyle=m.createPattern(T,"repeat"),m.fillRect(0,0,p,g),m.drawImage(l,0,0,l.width,l.height,0,0,p,g)}let f=null;if(i){let p,g;if(o.symmetric&&l.width<t&&l.height<t)p=l.width,g=l.height;else if(l=c(this,Ut),s>t||a>t){const x=Math.min(t/s,t/a);p=Math.floor(s*x),g=Math.floor(a*x),c(this,Oi)||(l=k(this,nt,Ty).call(this,p,g))}const v=new OffscreenCanvas(p,g).getContext("2d",{willReadFrequently:!0});v.drawImage(l,0,0,l.width,l.height,0,0,p,g),f={width:p,height:g,data:v.getImageData(0,0,p,g).data}}return{canvas:d,width:u,height:h,imageData:f}}static async deserialize(t,r,i){var v;let s=null,a=!1;if(t instanceof AM){const{data:{rect:x,rotation:w,id:y,structParent:S,popupRef:T,richText:P,contentsObj:b,creationDate:F,modificationDate:D},container:M,parent:{page:{pageNumber:W}},canvas:G}=t;let q,J;G?(delete t.canvas,{id:q,bitmap:J}=i.imageManager.getFromCanvas(M.id,G),G.remove()):(a=!0,t._hasNoCanvas=!0);const ae=((v=await r._structTree.getAriaAttributes(`${sf}${y}`))==null?void 0:v.get("aria-label"))||"";s=t={annotationType:Ue.STAMP,bitmapId:q,bitmap:J,pageIndex:W-1,rect:x.slice(0),rotation:w,annotationElementId:y,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:ae},isSvg:!1,structParent:S,popupRef:T,richText:P,comment:(b==null?void 0:b.str)||null,creationDate:F,modificationDate:D}}const o=await super.deserialize(t,r,i),{rect:l,bitmap:u,bitmapUrl:h,bitmapId:d,isSvg:f,accessibilityData:p}=t;a?(i.addMissingCanvas(t.id,o),E(o,Kh,!0)):d&&i.imageManager.isValidId(d)?(E(o,On,d),u&&E(o,Ut,u)):E(o,el,h),E(o,Oi,f);const[g,m]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/m,p&&(o.altTextData=p),o._initialData=s,t.comment&&o.setCommentData(t),E(o,np,!!s),o}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(t),{bitmapId:c(this,On),isSvg:c(this,Oi)});if(this.addComment(i),t)return i.bitmapUrl=k(this,nt,by).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=k(this,nt,lL).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=c(this,Oi)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(c(this,On)))r.stamps.set(c(this,On),{area:o,serialized:i}),i.bitmap=k(this,nt,by).call(this,!1);else if(c(this,Oi)){const l=r.stamps.get(c(this,On));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=k(this,nt,by).call(this,!1))}return i}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ut=new WeakMap,On=new WeakMap,Fc=new WeakMap,el=new WeakMap,Nc=new WeakMap,tp=new WeakMap,tl=new WeakMap,Kh=new WeakMap,Qa=new WeakMap,Oi=new WeakMap,np=new WeakMap,nt=new WeakSet,bm=function(t,r=!1){if(!t){this.remove();return}E(this,Ut,t.bitmap),r||(E(this,On,t.id),E(this,Oi,t.isSvg)),t.file&&E(this,tp,t.file.name),k(this,nt,Ay).call(this)},Cm=function(){if(E(this,Fc,null),this._uiManager.enableWaiting(!1),!!c(this,tl)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,Ut)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,Ut)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},_y=function(){if(c(this,On)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,On)).then(i=>k(this,nt,bm).call(this,i,!0)).finally(()=>k(this,nt,Cm).call(this));return}if(c(this,el)){const i=c(this,el);E(this,el,null),this._uiManager.enableWaiting(!0),E(this,Fc,this._uiManager.imageManager.getFromUrl(i).then(s=>k(this,nt,bm).call(this,s)).finally(()=>k(this,nt,Cm).call(this)));return}if(c(this,Nc)){const i=c(this,Nc);E(this,Nc,null),this._uiManager.enableWaiting(!0),E(this,Fc,this._uiManager.imageManager.getFromFile(i).then(s=>k(this,nt,bm).call(this,s)).finally(()=>k(this,nt,Cm).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=P2.join(",");const r=this._uiManager._signal;E(this,Fc,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),k(this,nt,bm).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>k(this,nt,Cm).call(this))),t.click()},Ay=function(){var u;const{div:t}=this;let{width:r,height:i}=c(this,Ut);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const h=Math.min(o*s/r,o*a/i);r*=h,i*=h}this._uiManager.enableWaiting(!1);const l=E(this,tl,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),k(this,nt,VA).call(this),c(this,np)||(this.parent.addUndoableEditor(this),E(this,np,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,tp)&&this.div.setAttribute("aria-description",c(this,tp)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Ty=function(t,r){const{width:i,height:s}=c(this,Ut);let a=i,o=s,l=c(this,Ut);for(;a>2*t||o>2*r;){const u=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(l,0,0,u,h,0,0,a,o),l=d.transferToImageBitmap()}return l},VA=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new ao,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*r*a.sy),u=c(this,tl);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const h=c(this,Oi)?c(this,Ut):k(this,nt,Ty).call(this,o,l),d=u.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,o,l)},by=function(t){if(t){if(c(this,Oi)){const s=this._uiManager.imageManager.getSvgUrl(c(this,On));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=c(this,Ut),r.getContext("2d").drawImage(c(this,Ut),0,0),r.toDataURL()}if(c(this,Oi)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*iu.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*iu.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(c(this,Ut),0,0,c(this,Ut).width,c(this,Ut).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(c(this,Ut))},lL=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},de(WA,"_type","stamp"),de(WA,"_editorType",Ue.STAMP);var qh,rp,Dc,Ic,nl,ei,Oc,ip,sp,Js,rl,Mn,il,Mc,ap,Fe,Lc,bt,XA,cL,Ea,YA,KA,Cy;const Ls=class Ls{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:h}){_(this,bt);_(this,qh);_(this,rp,!1);_(this,Dc,null);_(this,Ic,null);_(this,nl,null);_(this,ei,new Map);_(this,Oc,!1);_(this,ip,!1);_(this,sp,!1);_(this,Js,null);_(this,rl,null);_(this,Mn,null);_(this,il,null);_(this,Mc,null);_(this,ap,-1);_(this,Fe);const d=[...c(Ls,Lc).values()];if(!Ls._initialized){Ls._initialized=!0;for(const f of d)f.initialize(h,e)}e.registerEditorTypes(d),E(this,Fe,e),this.pageIndex=t,this.div=r,E(this,qh,s),E(this,Dc,a),this.viewport=u,E(this,Mn,l),this.drawLayer=o,this._structTree=i,c(this,Fe).addLayer(this)}get isEmpty(){return c(this,ei).size===0}get isInvisible(){return this.isEmpty&&c(this,Fe).getMode()===Ue.NONE}updateToolbar(e){c(this,Fe).updateToolbar(e)}updateMode(e=c(this,Fe).getMode()){switch(k(this,bt,Cy).call(this),e){case Ue.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ue.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ue.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Ue.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const r of c(Ls,Lc).values())t.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=c(this,Mn))==null?void 0:t.div)}setEditingState(e){c(this,Fe).setEditingState(e)}addCommands(e){c(this,Fe).addCommands(e)}cleanUndoStack(e){c(this,Fe).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=c(this,Dc))==null||t.togglePointerEvents(e)}async enable(){var r;E(this,sp,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=c(this,Mc))==null||r.abort(),E(this,Mc,null);const e=new Set;for(const i of c(this,bt,XA))i.enableEditing(),i.show(!0),i.annotationElementId&&(c(this,Fe).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=c(this,Dc);if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),c(this,Fe).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}E(this,sp,!1),c(this,Fe)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(E(this,ip,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),c(this,Mn)&&!c(this,Mc)){E(this,Mc,new AbortController);const s=c(this,Fe).combinedSignal(c(this,Mc));c(this,Mn).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:u,timeStamp:h}=a,d=c(this,ap);if(h-d>500){E(this,ap,h);return}E(this,ap,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(l,u);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let g;const m=new RegExp(`^${pg}[0-9]+$`);for(const x of p)if(m.test(x.id)){g=x.id;break}if(!g)return;const v=c(this,ei).get(g);(v==null?void 0:v.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),v.dblclick(a))},{signal:s,capture:!0})}const e=c(this,Dc),t=[];if(e){const s=new Map,a=new Map;for(const l of c(this,bt,XA)){if(l.disableEditing(),!l.annotationElementId){t.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:u}=l.data;if(c(this,Fe).isDeletedAnnotationElement(u)){l.updateEdited({deleted:!0});continue}let h=a.get(u);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=s.get(u),h&&(c(this,Fe).addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}k(this,bt,Cy).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of c(Ls,Lc).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),E(this,ip,!1)}getEditableAnnotation(e){var t;return((t=c(this,Dc))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,Fe).getActive()!==e&&c(this,Fe).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,Mn))!=null&&e.div&&!c(this,il)){E(this,il,new AbortController);const t=c(this,Fe).combinedSignal(c(this,il));c(this,Mn).div.addEventListener("pointerdown",k(this,bt,cL).bind(this),{signal:t}),c(this,Mn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,Mn))!=null&&e.div&&c(this,il)&&(c(this,il).abort(),E(this,il,null),c(this,Mn).div.classList.remove("highlighting"))}enableClick(){if(c(this,Ic))return;E(this,Ic,new AbortController);const e=c(this,Fe).combinedSignal(c(this,Ic));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=c(this,Ic))==null||e.abort(),E(this,Ic,null)}attach(e){c(this,ei).set(e.id,e);const{annotationElementId:t}=e;t&&c(this,Fe).isDeletedAnnotationElement(t)&&c(this,Fe).removeDeletedAnnotationElement(e)}detach(e){var t;c(this,ei).delete(e.id),(t=c(this,qh))==null||t.removePointerInTextLayer(e.contentDiv),!c(this,ip)&&e.annotationElementId&&c(this,Fe).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,Fe).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,Fe).addDeletedAnnotationElement(e.annotationElementId),Nt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,Fe).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!c(this,sp)),c(this,Fe).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!c(this,nl)&&(e._focusEventsAllowed=!1,E(this,nl,setTimeout(()=>{E(this,nl,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,Fe)._signal}),t.focus())},0))),e._structTreeParentId=(r=c(this,qh))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getEditorByUID(e){for(const t of c(this,ei).values())if(t.uid===e)return t;return null}getNextId(){return c(this,Fe).getId()}combinedSignal(e){return c(this,Fe).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,bt,Ea))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await c(this,Fe).updateMode(e.mode);const{offsetX:r,offsetY:i}=k(this,bt,KA).call(this),s=this.getNextId(),a=k(this,bt,YA).call(this,{parent:this,id:s,x:r,y:i,uiManager:c(this,Fe),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=c(Ls,Lc).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,c(this,Fe)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=k(this,bt,YA).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:c(this,Fe),isCentered:t,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(k(this,bt,KA).call(this),!0,e)}setSelected(e){c(this,Fe).setSelected(e)}toggleSelected(e){c(this,Fe).toggleSelected(e)}unselect(e){c(this,Fe).unselect(e)}pointerup(e){var i;const{isMac:t}=ir.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!c(this,Oc)||(E(this,Oc,!1),(i=c(this,bt,Ea))!=null&&i.isDrawer&&c(this,bt,Ea).supportMultipleDrawings))return;if(!c(this,rp)){E(this,rp,!0);return}const r=c(this,Fe).getMode();if(r===Ue.STAMP||r===Ue.SIGNATURE){c(this,Fe).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(c(this,Fe).getMode()===Ue.HIGHLIGHT&&this.enableTextSelection(),c(this,Oc)){E(this,Oc,!1);return}const{isMac:t}=ir.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(E(this,Oc,!0),(i=c(this,bt,Ea))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=c(this,Fe).getActive();E(this,rp,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),c(this,Js)){c(this,bt,Ea).startDrawing(this,c(this,Fe),!1,e);return}c(this,Fe).setCurrentDrawingSession(this),E(this,Js,new AbortController);const t=c(this,Fe).combinedSignal(c(this,Js));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(E(this,rl,null),this.commitOrRemove())},{signal:t}),c(this,bt,Ea).startDrawing(this,c(this,Fe),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&E(this,rl,t);return}c(this,rl)&&setTimeout(()=>{var t;(t=c(this,rl))==null||t.focus(),E(this,rl,null)},0)}endDrawingSession(e=!1){return c(this,Js)?(c(this,Fe).setCurrentDrawingSession(null),c(this,Js).abort(),E(this,Js,null),E(this,rl,null),c(this,bt,Ea).endDrawing(e)):null}findNewParent(e,t,r){const i=c(this,Fe).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return c(this,Js)?(this.endDrawingSession(),!0):!1}onScaleChanging(){c(this,Js)&&c(this,bt,Ea).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=c(this,Fe).getActive())==null?void 0:e.parent)===this&&(c(this,Fe).commitOrRemove(),c(this,Fe).setActiveEditor(null)),c(this,nl)&&(clearTimeout(c(this,nl)),E(this,nl,null));for(const r of c(this,ei).values())(t=c(this,qh))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,c(this,ei).clear(),c(this,Fe).removeLayer(this)}render({viewport:e}){this.viewport=e,cd(this.div,e);for(const t of c(this,Fe).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){c(this,Fe).commitOrRemove(),k(this,bt,Cy).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,cd(this.div,{rotation:r}),t!==r)for(const i of c(this,ei).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return c(this,Fe).viewParameters.realScale}};qh=new WeakMap,rp=new WeakMap,Dc=new WeakMap,Ic=new WeakMap,nl=new WeakMap,ei=new WeakMap,Oc=new WeakMap,ip=new WeakMap,sp=new WeakMap,Js=new WeakMap,rl=new WeakMap,Mn=new WeakMap,il=new WeakMap,Mc=new WeakMap,ap=new WeakMap,Fe=new WeakMap,Lc=new WeakMap,bt=new WeakSet,XA=function(){return c(this,ei).size!==0?c(this,ei).values():c(this,Fe).getEditors(this.pageIndex)},cL=function(e){c(this,Fe).unselectAll();const{target:t}=e;if(t===c(this,Mn).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&c(this,Mn).div.contains(t)){const{isMac:r}=ir.platform;if(e.button!==0||e.ctrlKey&&r)return;c(this,Fe).showAllEditors("highlight",!0,!0),c(this,Mn).div.classList.add("free"),this.toggleDrawing(),vw.startHighlighting(this,c(this,Fe).direction==="ltr",{target:c(this,Mn).div,x:e.x,y:e.y}),c(this,Mn).div.addEventListener("pointerup",()=>{c(this,Mn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,Fe)._signal}),e.preventDefault()}},Ea=function(){return c(Ls,Lc).get(c(this,Fe).getMode())},YA=function(e){const t=c(this,bt,Ea);return t?new t.prototype.constructor(e):null},KA=function(){const{x:e,y:t,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,h=(a+l)/2-t,[d,f]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:d,offsetY:f}},Cy=function(){for(const e of c(this,ei).values())e.isEmpty()&&e.remove()},de(Ls,"_initialized",!1),_(Ls,Lc,new Map([CA,LA,WA,vw,zA].map(e=>[e._editorType,e])));let GA=Ls;var Zs,Dr,Qh,g1,Jw,uL,lo,QA,hL,JA;const Sn=class Sn{constructor({pageIndex:e}){_(this,lo);_(this,Zs,null);_(this,Dr,new Map);_(this,Qh,new Map);this.pageIndex=e}setParent(e){if(!c(this,Zs)){E(this,Zs,e);return}if(c(this,Zs)!==e){if(c(this,Dr).size>0)for(const t of c(this,Dr).values())t.remove(),e.append(t);E(this,Zs,e)}}static get _svgFactory(){return $e(this,"_svgFactory",new mw)}draw(e,t=!1,r=!1){const i=Qt(Sn,g1)._++,s=k(this,lo,QA).call(this),a=Sn._svgFactory.createElement("defs");s.append(a);const o=Sn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&c(this,Qh).set(i,o);const u=r?k(this,lo,hL).call(this,a,l):null,h=Sn._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(s,e),c(this,Dr).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=Qt(Sn,g1)._++,i=k(this,lo,QA).call(this),s=Sn._svgFactory.createElement("defs");i.append(s);const a=Sn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const d=Sn._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=Sn._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Sn._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Sn._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const h=u.cloneNode();return i.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),c(this,Dr).set(r,i),r}finalizeDraw(e,t){c(this,Qh).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?c(this,Dr).get(e):e;if(o){if(r&&k(this,lo,JA).call(this,o,r),i&&k(l=Sn,Jw,uL).call(l,o,i),s){const{classList:u}=o;for(const[h,d]of Object.entries(s))u.toggle(h,d)}if(a){const h=o.firstChild.firstChild;k(this,lo,JA).call(this,h,a)}}}updateParent(e,t){if(t===this)return;const r=c(this,Dr).get(e);r&&(c(t,Zs).append(r),c(this,Dr).delete(e),c(t,Dr).set(e,r))}remove(e){c(this,Qh).delete(e),c(this,Zs)!==null&&(c(this,Dr).get(e).remove(),c(this,Dr).delete(e))}destroy(){E(this,Zs,null);for(const e of c(this,Dr).values())e.remove();c(this,Dr).clear(),c(this,Qh).clear()}};Zs=new WeakMap,Dr=new WeakMap,Qh=new WeakMap,g1=new WeakMap,Jw=new WeakSet,uL=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},lo=new WeakSet,QA=function(){const e=Sn._svgFactory.create(1,1,!0);return c(this,Zs).append(e),e.setAttribute("aria-hidden",!0),e},hL=function(e,t){const r=Sn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Sn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},JA=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},_(Sn,Jw),_(Sn,g1,0);let qA=Sn;globalThis._pdfjsTestingUtils={HighlightOutliner:PA};globalThis.pdfjsLib={AbortException:ru,AnnotationEditorLayer:GA,AnnotationEditorParamsType:Je,AnnotationEditorType:Ue,AnnotationEditorUIManager:ud,AnnotationLayer:TA,AnnotationMode:Hl,AnnotationType:mn,applyOpacity:rW,build:cV,ColorPicker:fw,createValidAbsoluteUrl:e4,CSSConstants:nW,DOMSVGFactory:mw,DrawLayer:qA,FeatureTest:ir,fetchData:b1,findContrastColor:iW,getDocument:lM,getFilenameFromUrl:qz,getPdfFilenameFromUrl:Qz,getRGB:k1,getUuid:r4,getXfaPageViewport:Zz,GlobalWorkerOptions:eo,ImageKind:Yx,InvalidPDFException:C2,isDataScheme:jE,isPdfFile:Ob,isValidExplicitDest:pW,MathClamp:Or,noContextMenu:ks,normalizeUnicode:Xz,OPS:mg,OutputScale:ao,PasswordResponses:Bz,PDFDataRangeTransport:cM,PDFDateString:ow,PDFWorker:xg,PermissionFlag:Lz,PixelsPerInch:iu,RenderingCancelledException:Ib,renderRichText:a4,ResponseException:aw,setLayerDimensions:cd,shadow:$e,SignatureExtractor:sl,stopEvent:on,SupportedImageMimeTypes:P2,TextLayer:vg,TouchManager:cw,updateUrlHash:t4,Util:Re,VerbosityLevel:ME,version:dM,XfaLayer:s4};var DV={exports:{}};(function(n){var e=function(t){var r=Object.prototype,i=r.hasOwnProperty,s=Object.defineProperty||function(H,X,Z){H[X]=Z.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function d(H,X,Z){return Object.defineProperty(H,X,{value:Z,enumerable:!0,configurable:!0,writable:!0}),H[X]}try{d({},"")}catch{d=function(X,Z,N){return X[Z]=N}}function f(H,X,Z,N){var B=X&&X.prototype instanceof y?X:y,U=Object.create(B.prototype),V=new ie(N||[]);return s(U,"_invoke",{value:G(H,Z,V)}),U}t.wrap=f;function p(H,X,Z){try{return{type:"normal",arg:H.call(X,Z)}}catch(N){return{type:"throw",arg:N}}}var g="suspendedStart",m="suspendedYield",v="executing",x="completed",w={};function y(){}function S(){}function T(){}var P={};d(P,l,function(){return this});var b=Object.getPrototypeOf,F=b&&b(b(K([])));F&&F!==r&&i.call(F,l)&&(P=F);var D=T.prototype=y.prototype=Object.create(P);S.prototype=T,s(D,"constructor",{value:T,configurable:!0}),s(T,"constructor",{value:S,configurable:!0}),S.displayName=d(T,h,"GeneratorFunction");function M(H){["next","throw","return"].forEach(function(X){d(H,X,function(Z){return this._invoke(X,Z)})})}t.isGeneratorFunction=function(H){var X=typeof H=="function"&&H.constructor;return X?X===S||(X.displayName||X.name)==="GeneratorFunction":!1},t.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,T):(H.__proto__=T,d(H,h,"GeneratorFunction")),H.prototype=Object.create(D),H},t.awrap=function(H){return{__await:H}};function W(H,X){function Z(U,V,te,Q){var he=p(H[U],H,V);if(he.type==="throw")Q(he.arg);else{var me=he.arg,ce=me.value;return ce&&typeof ce=="object"&&i.call(ce,"__await")?X.resolve(ce.__await).then(function(we){Z("next",we,te,Q)},function(we){Z("throw",we,te,Q)}):X.resolve(ce).then(function(we){me.value=we,te(me)},function(we){return Z("throw",we,te,Q)})}}var N;function B(U,V){function te(){return new X(function(Q,he){Z(U,V,Q,he)})}return N=N?N.then(te,te):te()}s(this,"_invoke",{value:B})}M(W.prototype),d(W.prototype,u,function(){return this}),t.AsyncIterator=W,t.async=function(H,X,Z,N,B){B===void 0&&(B=Promise);var U=new W(f(H,X,Z,N),B);return t.isGeneratorFunction(X)?U:U.next().then(function(V){return V.done?V.value:U.next()})};function G(H,X,Z){var N=g;return function(U,V){if(N===v)throw new Error("Generator is already running");if(N===x){if(U==="throw")throw V;return Y()}for(Z.method=U,Z.arg=V;;){var te=Z.delegate;if(te){var Q=q(te,Z);if(Q){if(Q===w)continue;return Q}}if(Z.method==="next")Z.sent=Z._sent=Z.arg;else if(Z.method==="throw"){if(N===g)throw N=x,Z.arg;Z.dispatchException(Z.arg)}else Z.method==="return"&&Z.abrupt("return",Z.arg);N=v;var he=p(H,X,Z);if(he.type==="normal"){if(N=Z.done?x:m,he.arg===w)continue;return{value:he.arg,done:Z.done}}else he.type==="throw"&&(N=x,Z.method="throw",Z.arg=he.arg)}}}function q(H,X){var Z=X.method,N=H.iterator[Z];if(N===a)return X.delegate=null,Z==="throw"&&H.iterator.return&&(X.method="return",X.arg=a,q(H,X),X.method==="throw")||Z!=="return"&&(X.method="throw",X.arg=new TypeError("The iterator does not provide a '"+Z+"' method")),w;var B=p(N,H.iterator,X.arg);if(B.type==="throw")return X.method="throw",X.arg=B.arg,X.delegate=null,w;var U=B.arg;if(!U)return X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,w;if(U.done)X[H.resultName]=U.value,X.next=H.nextLoc,X.method!=="return"&&(X.method="next",X.arg=a);else return U;return X.delegate=null,w}M(D),d(D,h,"Generator"),d(D,l,function(){return this}),d(D,"toString",function(){return"[object Generator]"});function J(H){var X={tryLoc:H[0]};1 in H&&(X.catchLoc=H[1]),2 in H&&(X.finallyLoc=H[2],X.afterLoc=H[3]),this.tryEntries.push(X)}function ae(H){var X=H.completion||{};X.type="normal",delete X.arg,H.completion=X}function ie(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(J,this),this.reset(!0)}t.keys=function(H){var X=Object(H),Z=[];for(var N in X)Z.push(N);return Z.reverse(),function B(){for(;Z.length;){var U=Z.pop();if(U in X)return B.value=U,B.done=!1,B}return B.done=!0,B}};function K(H){if(H){var X=H[l];if(X)return X.call(H);if(typeof H.next=="function")return H;if(!isNaN(H.length)){var Z=-1,N=function B(){for(;++Z<H.length;)if(i.call(H,Z))return B.value=H[Z],B.done=!1,B;return B.value=a,B.done=!0,B};return N.next=N}}return{next:Y}}t.values=K;function Y(){return{value:a,done:!0}}return ie.prototype={constructor:ie,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(ae),!H)for(var X in this)X.charAt(0)==="t"&&i.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=a)},stop:function(){this.done=!0;var H=this.tryEntries[0],X=H.completion;if(X.type==="throw")throw X.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var X=this;function Z(Q,he){return U.type="throw",U.arg=H,X.next=Q,he&&(X.method="next",X.arg=a),!!he}for(var N=this.tryEntries.length-1;N>=0;--N){var B=this.tryEntries[N],U=B.completion;if(B.tryLoc==="root")return Z("end");if(B.tryLoc<=this.prev){var V=i.call(B,"catchLoc"),te=i.call(B,"finallyLoc");if(V&&te){if(this.prev<B.catchLoc)return Z(B.catchLoc,!0);if(this.prev<B.finallyLoc)return Z(B.finallyLoc)}else if(V){if(this.prev<B.catchLoc)return Z(B.catchLoc,!0)}else if(te){if(this.prev<B.finallyLoc)return Z(B.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(H,X){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var N=this.tryEntries[Z];if(N.tryLoc<=this.prev&&i.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var B=N;break}}B&&(H==="break"||H==="continue")&&B.tryLoc<=X&&X<=B.finallyLoc&&(B=null);var U=B?B.completion:{};return U.type=H,U.arg=X,B?(this.method="next",this.next=B.finallyLoc,w):this.complete(U)},complete:function(H,X){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&X&&(this.next=X),w},finish:function(H){for(var X=this.tryEntries.length-1;X>=0;--X){var Z=this.tryEntries[X];if(Z.finallyLoc===H)return this.complete(Z.completion,Z.afterLoc),ae(Z),w}},catch:function(H){for(var X=this.tryEntries.length-1;X>=0;--X){var Z=this.tryEntries[X];if(Z.tryLoc===H){var N=Z.completion;if(N.type==="throw"){var B=N.arg;ae(Z)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(H,X,Z){return this.delegate={iterator:K(H),resultName:X,nextLoc:Z},this.method==="next"&&(this.arg=a),w}},t}(n.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(DV);var zb=(n,e)=>`${n}-${e}-${Math.random().toString(16).slice(3,8)}`;const IV=zb;let rR=0;var dL=({id:n,action:e,payload:t={}})=>{let r=n;return typeof r>"u"&&(r=IV("Job",rR),rR+=1),{id:r,action:e,payload:t}},bp={};let Wb=!1;bp.logging=Wb;bp.setLogging=n=>{Wb=n};bp.log=(...n)=>Wb?console.log.apply(void 0,n):null;const OV=dL,{log:Sx}=bp,MV=zb;let iR=0;var LV=()=>{const n=MV("Scheduler",iR),e={},t={};let r=[];iR+=1;const i=()=>r.length,s=()=>Object.keys(e).length,a=()=>{if(r.length!==0){const d=Object.keys(e);for(let f=0;f<d.length;f+=1)if(typeof t[d[f]]>"u"){r[0](e[d[f]]);break}}},o=(d,f)=>new Promise((p,g)=>{const m=OV({action:d,payload:f});r.push(async v=>{r.shift(),t[v.id]=m;try{p(await v[d].apply(void 0,[...f,m.id]))}catch(x){g(x)}finally{delete t[v.id],a()}}),Sx(`[${n}]: Add ${m.id} to JobQueue`),Sx(`[${n}]: JobQueue length=${r.length}`),a()});return{addWorker:d=>(e[d.id]=d,Sx(`[${n}]: Add ${d.id}`),Sx(`[${n}]: Number of workers=${s()}`),a(),d.id),addJob:async(d,...f)=>{if(s()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return o(d,f)},terminate:async()=>{Object.keys(e).forEach(async d=>{await e[d].terminate()}),r=[]},getQueueLen:i,getNumWorkers:s}};function BV(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jV=n=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof BV=="function"&&(e.type="node"),typeof n>"u"?e:e[n]};const UV=jV("type")==="browser",HV=UV?n=>new URL(n,window.location.href).href:n=>n;var $V=n=>{const e={...n};return["corePath","workerPath","langPath"].forEach(t=>{n[t]&&(e[t]=HV(e[t]))}),e},fL={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const zV="tesseract.js",WV="6.0.1",VV="Pure Javascript Multilingual OCR",GV="src/index.js",XV="commonjs",YV="src/index.d.ts",KV="dist/tesseract.min.js",qV="dist/tesseract.min.js",QV={start:"node scripts/server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",prepublishOnly:"npm run build",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.min.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser test:node:all","test:browser":"karma start karma.conf.js","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.mjs","test:node:all":"npm run test:node -- ./tests/*.test.mjs",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true"},JV={"./src/worker/node/index.js":"./src/worker/browser/index.js"},ZV="",eG=["jeromewu"],tG="Apache-2.0",nG={"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0",acorn:"^8.8.2","babel-loader":"^9.1.2",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1",express:"^4.18.2",mocha:"^10.2.0","npm-run-all":"^4.1.5",karma:"^6.4.2","karma-chrome-launcher":"^3.2.0","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-webpack":"^5.0.0",nyc:"^15.1.0",rimraf:"^5.0.0",rollup:"^3.20.7","wait-on":"^7.0.1",webpack:"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},rG={"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^6.0.0","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},iG={"@rollup/pluginutils":"^5.0.2"},sG={type:"git",url:"https://github.com/naptha/tesseract.js.git"},aG={url:"https://github.com/naptha/tesseract.js/issues"},oG="https://github.com/naptha/tesseract.js",lG={type:"opencollective",url:"https://opencollective.com/tesseractjs"},cG={name:zV,version:WV,description:VV,main:GV,type:XV,types:YV,unpkg:KV,jsdelivr:qV,scripts:QV,browser:JV,author:ZV,contributors:eG,license:tG,devDependencies:nG,dependencies:rG,overrides:iG,repository:sG,bugs:aG,homepage:oG,collective:lG};var uG={workerBlobURL:!0,logger:()=>{}};const hG=cG.version,dG=uG;var fG={...dG,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${hG}/dist/worker.min.js`},pG=({workerPath:n,workerBlobURL:e})=>{let t;if(Blob&&URL&&e){const r=new Blob([`importScripts("${n}");`],{type:"application/javascript"});t=new Worker(URL.createObjectURL(r))}else t=new Worker(n);return t},mG=n=>{n.terminate()},gG=(n,e)=>{n.onmessage=({data:t})=>{e(t)}},vG=async(n,e)=>{n.postMessage(e)};const ZS=n=>new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=({target:{error:{code:i}}})=>{t(Error(`File could not be read! Code=${i}`))},r.readAsArrayBuffer(n)}),ZA=async n=>{let e=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?e=atob(n.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(e=await ZA(n.src)),n.tagName==="VIDEO"&&(e=await ZA(n.poster)),n.tagName==="CANVAS"&&await new Promise(t=>{n.toBlob(async r=>{e=await ZS(r),t()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const t=await n.convertToBlob();e=await ZS(t)}else(n instanceof File||n instanceof Blob)&&(e=await ZS(n));return new Uint8Array(e)};var xG=ZA;const yG=fG,wG=pG,EG=mG,SG=gG,_G=vG,AG=xG;var TG={defaultOptions:yG,spawnWorker:wG,terminateWorker:EG,onMessage:SG,send:_G,loadImage:AG};const bG=$V,wa=dL,{log:sR}=bp,CG=zb,vu=fL,{defaultOptions:kG,spawnWorker:PG,terminateWorker:RG,onMessage:FG,loadImage:aR,send:NG}=TG;let oR=0;var pL=async(n="eng",e=vu.LSTM_ONLY,t={},r={})=>{const i=CG("Worker",oR),{logger:s,errorHandler:a,...o}=bG({...kG,...t}),l={},u=typeof n=="string"?n.split("+"):n;let h=e,d=r;const f=[vu.DEFAULT,vu.LSTM_ONLY].includes(e)&&!o.legacyCore;let p,g;const m=new Promise((K,Y)=>{g=K,p=Y}),v=K=>{p(K.message)};let x=PG(o);x.onerror=v,oR+=1;const w=({id:K,action:Y,payload:H})=>new Promise((X,Z)=>{sR(`[${i}]: Start ${K}, action=${Y}`);const N=`${Y}-${K}`;l[N]={resolve:X,reject:Z},NG(x,{workerId:i,jobId:K,action:Y,payload:H})}),y=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),S=K=>w(wa({id:K,action:"load",payload:{options:{lstmOnly:f,corePath:o.corePath,logging:o.logging}}})),T=(K,Y,H)=>w(wa({id:H,action:"FS",payload:{method:"writeFile",args:[K,Y]}})),P=(K,Y)=>w(wa({id:Y,action:"FS",payload:{method:"readFile",args:[K,{encoding:"utf8"}]}})),b=(K,Y)=>w(wa({id:Y,action:"FS",payload:{method:"unlink",args:[K]}})),F=(K,Y,H)=>w(wa({id:H,action:"FS",payload:{method:K,args:Y}})),D=(K,Y)=>w(wa({id:Y,action:"loadLanguage",payload:{langs:K,options:{langPath:o.langPath,dataPath:o.dataPath,cachePath:o.cachePath,cacheMethod:o.cacheMethod,gzip:o.gzip,lstmOnly:[vu.DEFAULT,vu.LSTM_ONLY].includes(h)&&!o.legacyLang}}})),M=(K,Y,H,X)=>w(wa({id:X,action:"initialize",payload:{langs:K,oem:Y,config:H}})),W=(K="eng",Y,H,X)=>{if(f&&[vu.TESSERACT_ONLY,vu.TESSERACT_LSTM_COMBINED].includes(Y))throw Error("Legacy model requested but code missing.");const Z=Y||h;h=Z;const N=H||d;d=N;const U=(typeof K=="string"?K.split("+"):K).filter(V=>!u.includes(V));return u.push(...U),U.length>0?D(U,X).then(()=>M(K,Z,N,X)):M(K,Z,N,X)},G=(K={},Y)=>w(wa({id:Y,action:"setParameters",payload:{params:K}})),q=async(K,Y={},H={text:!0},X)=>w(wa({id:X,action:"recognize",payload:{image:await aR(K),options:Y,output:H}})),J=async(K,Y)=>{if(f)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return w(wa({id:Y,action:"detect",payload:{image:await aR(K)}}))},ae=async()=>(x!==null&&(RG(x),x=null),Promise.resolve());FG(x,({workerId:K,jobId:Y,status:H,action:X,data:Z})=>{const N=`${X}-${Y}`;if(H==="resolve")sR(`[${K}]: Complete ${Y}`),l[N].resolve({jobId:Y,data:Z}),delete l[N];else if(H==="reject")if(l[N].reject(Z),delete l[N],X==="load"&&p(Z),a)a(Z);else throw Error(Z);else H==="progress"&&s({...Z,userJobId:Y})});const ie={id:i,worker:x,load:y,writeText:T,readText:P,removeFile:b,FS:F,reinitialize:W,setParameters:G,recognize:q,detect:J,terminate:ae};return S().then(()=>D(n)).then(()=>M(n,e,r)).then(()=>g(ie)).catch(()=>{}),m};const mL=pL,DG=async(n,e,t)=>{const r=await mL(e,1,t);return r.recognize(n).finally(async()=>{await r.terminate()})},IG=async(n,e)=>{const t=await mL("osd",0,e);return t.detect(n).finally(async()=>{await t.terminate()})};var OG={recognize:DG,detect:IG},MG={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},LG={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const BG=LV,jG=pL,UG=OG,HG=MG,$G=fL,zG=LG,{setLogging:WG}=bp;var VG={languages:HG,OEM:$G,PSM:zG,createScheduler:BG,createWorker:jG,setLogging:WG,...UG};eo.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${dM}/pdf.worker.min.js`;async function gL(n){try{const t=await lM(n).promise;let r="";for(let i=1;i<=t.numPages;i++){const o=(await(await t.getPage(i)).getTextContent()).items.map(l=>l.str).join(" ");r+=o+`
`}return r.trim()}catch(e){return console.error("Error extracting text from PDF:",e),""}}async function vL(n){try{const e=await VG.createWorker("ara"),{data:{text:t}}=await e.recognize(n);return await e.terminate(),t.trim()}catch(e){return console.error("Error extracting text from image:",e),""}}const GG=({onSubmit:n})=>{const[e,t]=C.useState({fileType:"incoming",archiverName:"",issuingEntity:"",documentDate:"",documentNumber:"",title:"",notes:""}),[r,i]=C.useState(null),[s,a]=C.useState(!1),[o,l]=C.useState(!1),u=g=>{g.preventDefault(),a(!0)},h=()=>{a(!1)},d=g=>{g.preventDefault(),a(!1);const m=g.dataTransfer.files[0];m&&["application/pdf","image/jpeg","image/jpg","image/png","image/webp"].includes(m.type)?(i(m),an.success("   ")):an.error("   PDF    (JPG, PNG, WEBP)")},f=g=>{var x;const m=(x=g.target.files)==null?void 0:x[0];m&&["application/pdf","image/jpeg","image/jpg","image/png","image/webp"].includes(m.type)?(i(m),an.success("   ")):an.error("   PDF    (JPG, PNG, WEBP)")},p=async g=>{if(g.preventDefault(),!e.archiverName||!e.documentNumber||!e.title||!e.issuingEntity){an.error("    ");return}l(!0);let m,v="";if(r){const w=new FileReader,y=await new Promise(T=>{w.onload=()=>T(w.result),w.readAsDataURL(r)}),S=r.type.startsWith("image/")?"image":"pdf";try{S==="pdf"?v=await gL(y):v=await vL(y),v&&an.success("     ")}catch(T){console.error("Error extracting text:",T),an.error("    ")}m={name:r.name,data:y,type:S}}const x={id:Date.now().toString(),...e,archiveDate:new Date().toISOString(),attachedFile:m,extractedText:v||void 0};n(x),t({fileType:"incoming",archiverName:"",issuingEntity:"",documentDate:"",documentNumber:"",title:"",notes:""}),i(null),l(!1),an.success("   ")};return A.jsx(fg,{className:"p-6",children:A.jsxs("form",{onSubmit:p,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"fileType",children:"  *"}),A.jsxs(Nb,{value:e.fileType,onValueChange:g=>t({...e,fileType:g}),children:[A.jsx(IE,{children:A.jsx(Db,{})}),A.jsxs(OE,{children:[A.jsx(Jc,{value:"incoming",children:""}),A.jsx(Jc,{value:"outgoing",children:""})]})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"archiverName",children:"  *"}),A.jsx(ii,{id:"archiverName",value:e.archiverName,onChange:g=>t({...e,archiverName:g.target.value}),placeholder:"  ",required:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"issuingEntity",children:"  *"}),A.jsx(ii,{id:"issuingEntity",value:e.issuingEntity,onChange:g=>t({...e,issuingEntity:g.target.value}),placeholder:"     ",required:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"documentDate",children:" "}),A.jsx(ii,{id:"documentDate",type:"date",value:e.documentDate,onChange:g=>t({...e,documentDate:g.target.value})})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"documentNumber",children:"  *"}),A.jsx(ii,{id:"documentNumber",value:e.documentNumber,onChange:g=>t({...e,documentNumber:g.target.value}),placeholder:"  ",required:!0})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"title",children:" *"}),A.jsx(ii,{id:"title",value:e.title,onChange:g=>t({...e,title:g.target.value}),placeholder:"  ",required:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"notes",children:""}),A.jsx(Cb,{id:"notes",value:e.notes,onChange:g=>t({...e,notes:g.target.value}),placeholder:"   ",rows:3})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{children:" PDF  "}),A.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-smooth ${s?"border-primary bg-accent":"border-border"}`,onDragOver:u,onDragLeave:h,onDrop:d,children:r?A.jsxs("div",{className:"flex items-center justify-center gap-4",children:[A.jsx("span",{className:"text-sm",children:r.name}),A.jsx(_r,{type:"button",variant:"ghost",size:"icon",onClick:()=>i(null),children:A.jsx(lg,{className:"h-4 w-4"})})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsx(ZD,{className:"h-12 w-12 mx-auto text-muted-foreground"}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("p",{className:"text-sm text-muted-foreground",children:"   PDF      "}),A.jsx("p",{className:"text-xs text-muted-foreground",children:"(PDF, JPG, PNG, WEBP)"}),A.jsx("input",{type:"file",accept:"application/pdf,image/jpeg,image/jpg,image/png,image/webp",onChange:f,className:"hidden",id:"file-upload"}),A.jsx(Gt,{htmlFor:"file-upload",children:A.jsx(_r,{type:"button",variant:"outline",asChild:!0,children:A.jsx("span",{children:" "})})})]})]})})]}),A.jsx(_r,{type:"submit",className:"w-full",size:"lg",disabled:o,children:o?A.jsxs(A.Fragment,{children:[A.jsx(JD,{className:"ml-2 h-4 w-4 animate-spin"}),"  ..."]}):" "})]})})},XG=({filters:n,onFilterChange:e})=>A.jsx(fg,{className:"p-6",children:A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"search",children:" "}),A.jsxs("div",{className:"relative",children:[A.jsx(Xj,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),A.jsx(ii,{id:"search",type:"search",placeholder:"     ...",value:n.searchTerm||"",onChange:t=>e({...n,searchTerm:t.target.value}),className:"pr-10"})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"filterType",children:" "}),A.jsxs(Nb,{value:n.fileType||"all",onValueChange:t=>e({...n,fileType:t}),children:[A.jsx(IE,{children:A.jsx(Db,{})}),A.jsxs(OE,{children:[A.jsx(Jc,{value:"all",children:""}),A.jsx(Jc,{value:"incoming",children:""}),A.jsx(Jc,{value:"outgoing",children:""})]})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"dateFrom",children:" "}),A.jsx(ii,{id:"dateFrom",type:"date",value:n.dateFrom||"",onChange:t=>e({...n,dateFrom:t.target.value})})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"dateTo",children:" "}),A.jsx(ii,{id:"dateTo",type:"date",value:n.dateTo||"",onChange:t=>e({...n,dateTo:t.target.value})})]})]})]})}),xL=C.forwardRef(({className:n,...e},t)=>A.jsx("div",{className:"relative w-full overflow-auto",children:A.jsx("table",{ref:t,className:Ie("w-full caption-bottom text-sm",n),...e})}));xL.displayName="Table";const yL=C.forwardRef(({className:n,...e},t)=>A.jsx("thead",{ref:t,className:Ie("[&_tr]:border-b",n),...e}));yL.displayName="TableHeader";const wL=C.forwardRef(({className:n,...e},t)=>A.jsx("tbody",{ref:t,className:Ie("[&_tr:last-child]:border-0",n),...e}));wL.displayName="TableBody";const YG=C.forwardRef(({className:n,...e},t)=>A.jsx("tfoot",{ref:t,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));YG.displayName="TableFooter";const eT=C.forwardRef(({className:n,...e},t)=>A.jsx("tr",{ref:t,className:Ie("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",n),...e}));eT.displayName="TableRow";const Sa=C.forwardRef(({className:n,...e},t)=>A.jsx("th",{ref:t,className:Ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...e}));Sa.displayName="TableHead";const _a=C.forwardRef(({className:n,...e},t)=>A.jsx("td",{ref:t,className:Ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...e}));_a.displayName="TableCell";const KG=C.forwardRef(({className:n,...e},t)=>A.jsx("caption",{ref:t,className:Ie("mt-4 text-sm text-muted-foreground",n),...e}));KG.displayName="TableCaption";const qG=xE("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function lR({className:n,variant:e,...t}){return A.jsx("div",{className:Ie(qG({variant:e}),n),...t})}var $E="Dialog",[EL,SL]=bl($E),[QG,da]=EL($E),_L=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=n,o=C.useRef(null),l=C.useRef(null),[u,h]=mp({prop:r,defaultProp:i??!1,onChange:s,caller:$E});return A.jsx(QG,{scope:e,triggerRef:o,contentRef:l,contentId:Qc(),titleId:Qc(),descriptionId:Qc(),open:u,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(d=>!d),[h]),modal:a,children:t})};_L.displayName=$E;var AL="DialogTrigger",TL=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=da(AL,t),s=_t(e,i.triggerRef);return A.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Xb(i.open),...r,ref:s,onClick:Ne(n.onClick,i.onOpenToggle)})});TL.displayName=AL;var Vb="DialogPortal",[JG,bL]=EL(Vb,{forceMount:void 0}),CL=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=da(Vb,e);return A.jsx(JG,{scope:e,forceMount:t,children:C.Children.map(r,a=>A.jsx(yd,{present:t||s.open,children:A.jsx(mE,{asChild:!0,container:i,children:a})}))})};CL.displayName=Vb;var yw="DialogOverlay",kL=C.forwardRef((n,e)=>{const t=bL(yw,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=da(yw,n.__scopeDialog);return s.modal?A.jsx(yd,{present:r||s.open,children:A.jsx(eX,{...i,ref:e})}):null});kL.displayName=yw;var ZG=pp("DialogOverlay.RemoveScroll"),eX=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=da(yw,t);return A.jsx(Rb,{as:ZG,allowPinchZoom:!0,shards:[i.contentRef],children:A.jsx(Xe.div,{"data-state":Xb(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),dd="DialogContent",PL=C.forwardRef((n,e)=>{const t=bL(dd,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=da(dd,n.__scopeDialog);return A.jsx(yd,{present:r||s.open,children:s.modal?A.jsx(tX,{...i,ref:e}):A.jsx(nX,{...i,ref:e})})});PL.displayName=dd;var tX=C.forwardRef((n,e)=>{const t=da(dd,n.__scopeDialog),r=C.useRef(null),i=_t(e,t.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return cO(s)},[]),A.jsx(RL,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ne(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ne(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Ne(n.onFocusOutside,s=>s.preventDefault())})}),nX=C.forwardRef((n,e)=>{const t=da(dd,n.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return A.jsx(RL,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(r.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),RL=C.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=n,o=da(dd,t),l=C.useRef(null),u=_t(e,l);return aO(),A.jsxs(A.Fragment,{children:[A.jsx(Pb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:A.jsx(S1,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Xb(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),A.jsxs(A.Fragment,{children:[A.jsx(iX,{titleId:o.titleId}),A.jsx(aX,{contentRef:l,descriptionId:o.descriptionId})]})]})}),Gb="DialogTitle",FL=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=da(Gb,t);return A.jsx(Xe.h2,{id:i.titleId,...r,ref:e})});FL.displayName=Gb;var NL="DialogDescription",DL=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=da(NL,t);return A.jsx(Xe.p,{id:i.descriptionId,...r,ref:e})});DL.displayName=NL;var IL="DialogClose",OL=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=da(IL,t);return A.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Ne(n.onClick,()=>i.onOpenChange(!1))})});OL.displayName=IL;function Xb(n){return n?"open":"closed"}var ML="DialogTitleWarning",[rX,LL]=X5(ML,{contentName:dd,titleName:Gb,docsSlug:"dialog"}),iX=({titleId:n})=>{const e=LL(ML),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},sX="DialogDescriptionWarning",aX=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LL(sX).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},BL=_L,oX=TL,jL=CL,Yb=kL,Kb=PL,qb=FL,Qb=DL,Jb=OL,UL="AlertDialog",[lX,zte]=bl(UL,[SL]),Cl=SL(),HL=n=>{const{__scopeAlertDialog:e,...t}=n,r=Cl(e);return A.jsx(BL,{...r,...t,modal:!0})};HL.displayName=UL;var cX="AlertDialogTrigger",uX=C.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Cl(t);return A.jsx(oX,{...i,...r,ref:e})});uX.displayName=cX;var hX="AlertDialogPortal",$L=n=>{const{__scopeAlertDialog:e,...t}=n,r=Cl(e);return A.jsx(jL,{...r,...t})};$L.displayName=hX;var dX="AlertDialogOverlay",zL=C.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Cl(t);return A.jsx(Yb,{...i,...r,ref:e})});zL.displayName=dX;var _f="AlertDialogContent",[fX,pX]=lX(_f),mX=_D("AlertDialogContent"),WL=C.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...i}=n,s=Cl(t),a=C.useRef(null),o=_t(e,a),l=C.useRef(null);return A.jsx(rX,{contentName:_f,titleName:VL,docsSlug:"alert-dialog",children:A.jsx(fX,{scope:t,cancelRef:l,children:A.jsxs(Kb,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Ne(i.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[A.jsx(mX,{children:r}),A.jsx(vX,{contentRef:a})]})})})});WL.displayName=_f;var VL="AlertDialogTitle",GL=C.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Cl(t);return A.jsx(qb,{...i,...r,ref:e})});GL.displayName=VL;var XL="AlertDialogDescription",YL=C.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Cl(t);return A.jsx(Qb,{...i,...r,ref:e})});YL.displayName=XL;var gX="AlertDialogAction",KL=C.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,i=Cl(t);return A.jsx(Jb,{...i,...r,ref:e})});KL.displayName=gX;var qL="AlertDialogCancel",QL=C.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:i}=pX(qL,t),s=Cl(t),a=_t(e,i);return A.jsx(Jb,{...s,...r,ref:a})});QL.displayName=qL;var vX=({contentRef:n})=>{const e=`\`${_f}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_f}\` by passing a \`${XL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_f}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},xX=HL,yX=$L,JL=zL,ZL=WL,e3=KL,t3=QL,n3=GL,r3=YL;const cR=xX,wX=yX,i3=C.forwardRef(({className:n,...e},t)=>A.jsx(JL,{className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));i3.displayName=JL.displayName;const tT=C.forwardRef(({className:n,...e},t)=>A.jsxs(wX,{children:[A.jsx(i3,{}),A.jsx(ZL,{ref:t,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...e})]}));tT.displayName=ZL.displayName;const nT=({className:n,...e})=>A.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",n),...e});nT.displayName="AlertDialogHeader";const rT=({className:n,...e})=>A.jsx("div",{className:Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});rT.displayName="AlertDialogFooter";const iT=C.forwardRef(({className:n,...e},t)=>A.jsx(n3,{ref:t,className:Ie("text-lg font-semibold",n),...e}));iT.displayName=n3.displayName;const s3=C.forwardRef(({className:n,...e},t)=>A.jsx(r3,{ref:t,className:Ie("text-sm text-muted-foreground",n),...e}));s3.displayName=r3.displayName;const sT=C.forwardRef(({className:n,...e},t)=>A.jsx(e3,{ref:t,className:Ie(bb(),n),...e}));sT.displayName=e3.displayName;const a3=C.forwardRef(({className:n,...e},t)=>A.jsx(t3,{ref:t,className:Ie(bb({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));a3.displayName=t3.displayName;const EX=({records:n,onDelete:e,onEdit:t})=>{var u,h;const[r,i]=C.useState(null),[s,a]=C.useState(null),o=d=>{if(d.attachedFile){const f=document.createElement("a");f.href=d.attachedFile.data,f.download=d.attachedFile.name,f.click(),an.success("  ")}else if(d.pdfFile){const f=document.createElement("a");f.href=d.pdfFile.data,f.download=d.pdfFile.name,f.click(),an.success("  ")}else an.error("   ")},l=d=>d?new Date(d).toLocaleDateString("en-GB"):"-";return n.length===0?A.jsxs(fg,{className:"p-12 text-center",children:[A.jsx(a2,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),A.jsx("p",{className:"text-lg text-muted-foreground",children:"   "}),A.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"   "})]}):A.jsxs(A.Fragment,{children:[A.jsx(fg,{children:A.jsx("div",{className:"overflow-x-auto",children:A.jsxs(xL,{children:[A.jsx(yL,{children:A.jsxs(eT,{children:[A.jsx(Sa,{className:"text-right",children:""}),A.jsx(Sa,{className:"text-right",children:""}),A.jsx(Sa,{className:"text-right",children:" "}),A.jsx(Sa,{className:"text-right",children:" "}),A.jsx(Sa,{className:"text-right",children:""}),A.jsx(Sa,{className:"text-right",children:" "}),A.jsx(Sa,{className:"text-right",children:" "}),A.jsx(Sa,{className:"text-right",children:""}),A.jsx(Sa,{className:"text-right",children:""})]})}),A.jsx(wL,{children:n.map(d=>A.jsxs(eT,{children:[A.jsx(_a,{children:A.jsx(lR,{variant:d.fileType==="incoming"?"default":"secondary",children:d.fileType==="incoming"?"":""})}),A.jsx(_a,{className:"font-medium",children:d.title}),A.jsx(_a,{children:d.documentNumber}),A.jsx(_a,{className:"text-sm",children:d.issuingEntity||"-"}),A.jsx(_a,{children:d.archiverName}),A.jsx(_a,{children:l(d.documentDate)}),A.jsx(_a,{children:l(d.archiveDate)}),A.jsx(_a,{children:d.attachedFile||d.pdfFile?A.jsx(_r,{variant:"ghost",size:"sm",onClick:()=>o(d),children:A.jsx($j,{className:"h-4 w-4"})}):A.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),A.jsx(_a,{children:A.jsxs("div",{className:"flex gap-2",children:[A.jsx(_r,{variant:"ghost",size:"sm",onClick:()=>a(d),children:A.jsx(zj,{className:"h-4 w-4"})}),A.jsx(_r,{variant:"ghost",size:"sm",onClick:()=>t(d),children:A.jsx(Gj,{className:"h-4 w-4"})}),A.jsx(_r,{variant:"ghost",size:"sm",onClick:()=>i(d.id),children:A.jsx(Yj,{className:"h-4 w-4 text-destructive"})})]})})]},d.id))})]})})}),A.jsx(cR,{open:!!r,onOpenChange:()=>i(null),children:A.jsxs(tT,{children:[A.jsxs(nT,{children:[A.jsx(iT,{children:"  "}),A.jsx(s3,{children:"     .    ."})]}),A.jsxs(rT,{children:[A.jsx(a3,{children:""}),A.jsx(sT,{onClick:()=>{r&&(e(r),i(null),an.success("  "))},children:""})]})]})}),A.jsx(cR,{open:!!s,onOpenChange:()=>a(null),children:A.jsxs(tT,{className:"max-w-2xl",children:[A.jsx(nT,{children:A.jsx(iT,{children:" "})}),s&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),A.jsx("p",{className:"mt-1",children:A.jsx(lR,{variant:s.fileType==="incoming"?"default":"secondary",children:s.fileType==="incoming"?"":""})})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),A.jsx("p",{className:"mt-1",children:s.documentNumber})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),A.jsx("p",{className:"mt-1",children:s.issuingEntity||"-"})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),A.jsx("p",{className:"mt-1",children:s.archiverName})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),A.jsx("p",{className:"mt-1",children:l(s.documentDate)})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),A.jsx("p",{className:"mt-1",children:l(s.archiveDate)})]})]}),A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),A.jsx("p",{className:"mt-1",children:s.title})]}),s.notes&&A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:""}),A.jsx("p",{className:"mt-1 text-sm",children:s.notes})]}),s.extractedText&&A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),A.jsx("div",{className:"mt-2 max-h-32 overflow-y-auto bg-muted/50 p-3 rounded-md",children:A.jsx("p",{className:"text-sm whitespace-pre-wrap",children:s.extractedText})})]}),(s.attachedFile||s.pdfFile)&&A.jsxs("div",{children:[A.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:" "}),A.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[A.jsx(a2,{className:"h-5 w-5"}),A.jsx("span",{className:"text-sm",children:((u=s.attachedFile)==null?void 0:u.name)||((h=s.pdfFile)==null?void 0:h.name)}),A.jsx(_r,{variant:"outline",size:"sm",onClick:()=>o(s),children:""})]})]})]}),A.jsx(rT,{children:A.jsx(sT,{onClick:()=>a(null),children:""})})]})})]})},SX=BL,_X=jL,o3=C.forwardRef(({className:n,...e},t)=>A.jsx(Yb,{ref:t,className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));o3.displayName=Yb.displayName;const l3=C.forwardRef(({className:n,children:e,...t},r)=>A.jsxs(_X,{children:[A.jsx(o3,{}),A.jsxs(Kb,{ref:r,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,A.jsxs(Jb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[A.jsx(lg,{className:"h-4 w-4"}),A.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));l3.displayName=Kb.displayName;const c3=({className:n,...e})=>A.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});c3.displayName="DialogHeader";const u3=C.forwardRef(({className:n,...e},t)=>A.jsx(qb,{ref:t,className:Ie("text-lg font-semibold leading-none tracking-tight",n),...e}));u3.displayName=qb.displayName;const AX=C.forwardRef(({className:n,...e},t)=>A.jsx(Qb,{ref:t,className:Ie("text-sm text-muted-foreground",n),...e}));AX.displayName=Qb.displayName;const TX=({record:n,open:e,onOpenChange:t,onUpdate:r})=>{const[i,s]=C.useState({fileType:"incoming",archiverName:"",issuingEntity:"",documentDate:"",documentNumber:"",title:"",notes:""}),[a,o]=C.useState(null),[l,u]=C.useState(null),[h,d]=C.useState(!1),[f,p]=C.useState(!1);C.useEffect(()=>{n&&(s({fileType:n.fileType,archiverName:n.archiverName,issuingEntity:n.issuingEntity||"",documentDate:n.documentDate,documentNumber:n.documentNumber,title:n.title,notes:n.notes}),n.attachedFile?u({name:n.attachedFile.name,type:n.attachedFile.type}):n.pdfFile&&u({name:n.pdfFile.name,type:"pdf"}))},[n]);const g=y=>{y.preventDefault(),d(!0)},m=()=>{d(!1)},v=y=>{y.preventDefault(),d(!1);const S=y.dataTransfer.files[0];S&&["application/pdf","image/jpeg","image/jpg","image/png","image/webp"].includes(S.type)?(o(S),u(null),an.success("   ")):an.error("   PDF    (JPG, PNG, WEBP)")},x=y=>{var P;const S=(P=y.target.files)==null?void 0:P[0];S&&["application/pdf","image/jpeg","image/jpg","image/png","image/webp"].includes(S.type)?(o(S),u(null),an.success("   ")):an.error("   PDF    (JPG, PNG, WEBP)")},w=async y=>{if(y.preventDefault(),!n||!i.archiverName||!i.documentNumber||!i.title||!i.issuingEntity){an.error("    ");return}p(!0);let S=n.attachedFile;!S&&n.pdfFile&&(S={name:n.pdfFile.name,data:n.pdfFile.data,type:"pdf"});let T=n.extractedText;if(a){const b=new FileReader,F=await new Promise(M=>{b.onload=()=>M(b.result),b.readAsDataURL(a)}),D=a.type.startsWith("image/")?"image":"pdf";try{D==="pdf"?T=await gL(F):T=await vL(F),T&&an.success("     ")}catch(M){console.error("Error extracting text:",M),an.error("    ")}S={name:a.name,data:F,type:D}}const P={...i,attachedFile:S,extractedText:T||void 0};r(n.id,P),t(!1),p(!1),an.success("   ")};return A.jsx(SX,{open:e,onOpenChange:t,children:A.jsxs(l3,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[A.jsx(c3,{children:A.jsx(u3,{children:" "})}),A.jsxs("form",{onSubmit:w,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"edit-fileType",children:"  *"}),A.jsxs(Nb,{value:i.fileType,onValueChange:y=>s({...i,fileType:y}),children:[A.jsx(IE,{children:A.jsx(Db,{})}),A.jsxs(OE,{children:[A.jsx(Jc,{value:"incoming",children:""}),A.jsx(Jc,{value:"outgoing",children:""})]})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"edit-archiverName",children:"  *"}),A.jsx(ii,{id:"edit-archiverName",value:i.archiverName,onChange:y=>s({...i,archiverName:y.target.value}),placeholder:"  ",required:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"edit-issuingEntity",children:"  *"}),A.jsx(ii,{id:"edit-issuingEntity",value:i.issuingEntity,onChange:y=>s({...i,issuingEntity:y.target.value}),placeholder:"     ",required:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"edit-documentDate",children:" "}),A.jsx(ii,{id:"edit-documentDate",type:"date",value:i.documentDate,onChange:y=>s({...i,documentDate:y.target.value})})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"edit-documentNumber",children:"  *"}),A.jsx(ii,{id:"edit-documentNumber",value:i.documentNumber,onChange:y=>s({...i,documentNumber:y.target.value}),placeholder:"  ",required:!0})]})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"edit-title",children:" *"}),A.jsx(ii,{id:"edit-title",value:i.title,onChange:y=>s({...i,title:y.target.value}),placeholder:"  ",required:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{htmlFor:"edit-notes",children:""}),A.jsx(Cb,{id:"edit-notes",value:i.notes,onChange:y=>s({...i,notes:y.target.value}),placeholder:"   ",rows:3})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx(Gt,{children:" PDF  "}),A.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-smooth ${h?"border-primary bg-accent":"border-border"}`,onDragOver:g,onDragLeave:m,onDrop:v,children:a?A.jsxs("div",{className:"flex items-center justify-center gap-4",children:[A.jsxs("span",{className:"text-sm",children:[a.name," ()"]}),A.jsx(_r,{type:"button",variant:"ghost",size:"icon",onClick:()=>o(null),children:A.jsx(lg,{className:"h-4 w-4"})})]}):l?A.jsxs("div",{className:"flex items-center justify-center gap-4",children:[A.jsxs("span",{className:"text-sm",children:[l.name," ()"]}),A.jsx(_r,{type:"button",variant:"ghost",size:"icon",onClick:()=>u(null),children:A.jsx(lg,{className:"h-4 w-4"})})]}):A.jsxs("div",{className:"space-y-4",children:[A.jsx(ZD,{className:"h-12 w-12 mx-auto text-muted-foreground"}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("p",{className:"text-sm text-muted-foreground",children:"   PDF      "}),A.jsx("p",{className:"text-xs text-muted-foreground",children:"(PDF, JPG, PNG, WEBP)"}),A.jsx("input",{type:"file",accept:"application/pdf,image/jpeg,image/jpg,image/png,image/webp",onChange:x,className:"hidden",id:"edit-file-upload"}),A.jsx(Gt,{htmlFor:"edit-file-upload",children:A.jsx(_r,{type:"button",variant:"outline",asChild:!0,children:A.jsx("span",{children:" "})})})]})]})})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx(_r,{type:"submit",className:"flex-1",disabled:f,children:f?A.jsxs(A.Fragment,{children:[A.jsx(JD,{className:"ml-2 h-4 w-4 animate-spin"}),"  ..."]}):" "}),A.jsx(_r,{type:"button",variant:"outline",onClick:()=>t(!1),children:""})]})]})]})})},uR="archive_records",Ui={getRecords:()=>{try{const n=localStorage.getItem(uR);return n?JSON.parse(n):[]}catch(n){return console.error("Error reading from storage:",n),[]}},saveRecords:n=>{try{localStorage.setItem(uR,JSON.stringify(n))}catch(e){throw console.error("Error saving to storage:",e),new Error("   .    .")}},addRecord:n=>{const e=Ui.getRecords();e.unshift(n),Ui.saveRecords(e)},updateRecord:(n,e)=>{const t=Ui.getRecords(),r=t.findIndex(i=>i.id===n);r!==-1&&(t[r]={...t[r],...e},Ui.saveRecords(t))},deleteRecord:n=>{const t=Ui.getRecords().filter(r=>r.id!==n);Ui.saveRecords(t)}};var e_="rovingFocusGroup.onEntryFocus",bX={bubbles:!1,cancelable:!0},N1="RovingFocusGroup",[aT,h3,CX]=lb(N1),[kX,d3]=bl(N1,[CX]),[PX,RX]=kX(N1),f3=C.forwardRef((n,e)=>A.jsx(aT.Provider,{scope:n.__scopeRovingFocusGroup,children:A.jsx(aT.Slot,{scope:n.__scopeRovingFocusGroup,children:A.jsx(FX,{...n,ref:e})})}));f3.displayName=N1;var FX=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...d}=n,f=C.useRef(null),p=_t(e,f),g=kb(s),[m,v]=mp({prop:a,defaultProp:o??null,onChange:l,caller:N1}),[x,w]=C.useState(!1),y=Cs(u),S=h3(t),T=C.useRef(!1),[P,b]=C.useState(0);return C.useEffect(()=>{const F=f.current;if(F)return F.addEventListener(e_,y),()=>F.removeEventListener(e_,y)},[y]),A.jsx(PX,{scope:t,orientation:r,dir:g,loop:i,currentTabStopId:m,onItemFocus:C.useCallback(F=>v(F),[v]),onItemShiftTab:C.useCallback(()=>w(!0),[]),onFocusableItemAdd:C.useCallback(()=>b(F=>F+1),[]),onFocusableItemRemove:C.useCallback(()=>b(F=>F-1),[]),children:A.jsx(Xe.div,{tabIndex:x||P===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:"none",...n.style},onMouseDown:Ne(n.onMouseDown,()=>{T.current=!0}),onFocus:Ne(n.onFocus,F=>{const D=!T.current;if(F.target===F.currentTarget&&D&&!x){const M=new CustomEvent(e_,bX);if(F.currentTarget.dispatchEvent(M),!M.defaultPrevented){const W=S().filter(ie=>ie.focusable),G=W.find(ie=>ie.active),q=W.find(ie=>ie.id===m),ae=[G,q,...W].filter(Boolean).map(ie=>ie.ref.current);g3(ae,h)}}T.current=!1}),onBlur:Ne(n.onBlur,()=>w(!1))})})}),p3="RovingFocusGroupItem",m3=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=n,l=Qc(),u=s||l,h=RX(p3,t),d=h.currentTabStopId===u,f=h3(t),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=h;return C.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),A.jsx(aT.ItemSlot,{scope:t,id:u,focusable:r,active:i,children:A.jsx(Xe.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:Ne(n.onMouseDown,v=>{r?h.onItemFocus(u):v.preventDefault()}),onFocus:Ne(n.onFocus,()=>h.onItemFocus(u)),onKeyDown:Ne(n.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){h.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=IX(v,h.orientation,h.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=f().filter(S=>S.focusable).map(S=>S.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const S=y.indexOf(v.currentTarget);y=h.loop?OX(y,S+1):y.slice(S+1)}setTimeout(()=>g3(y))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:m!=null}):a})})});m3.displayName=p3;var NX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DX(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function IX(n,e,t){const r=DX(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NX[r]}function g3(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function OX(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var MX=f3,LX=m3,zE="Tabs",[BX,Wte]=bl(zE,[d3]),v3=d3(),[jX,Zb]=BX(zE),x3=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=n,h=kb(o),[d,f]=mp({prop:r,onChange:i,defaultProp:s??"",caller:zE});return A.jsx(jX,{scope:t,baseId:Qc(),value:d,onValueChange:f,orientation:a,dir:h,activationMode:l,children:A.jsx(Xe.div,{dir:h,"data-orientation":a,...u,ref:e})})});x3.displayName=zE;var y3="TabsList",w3=C.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=Zb(y3,t),a=v3(t);return A.jsx(MX,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:A.jsx(Xe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});w3.displayName=y3;var E3="TabsTrigger",S3=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,a=Zb(E3,t),o=v3(t),l=T3(a.baseId,r),u=b3(a.baseId,r),h=r===a.value;return A.jsx(LX,{asChild:!0,...o,focusable:!i,active:h,children:A.jsx(Xe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ne(n.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:Ne(n.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:Ne(n.onFocus,()=>{const d=a.activationMode!=="manual";!h&&!i&&d&&a.onValueChange(r)})})})});S3.displayName=E3;var _3="TabsContent",A3=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...a}=n,o=Zb(_3,t),l=T3(o.baseId,r),u=b3(o.baseId,r),h=r===o.value,d=C.useRef(h);return C.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),A.jsx(yd,{present:i||h,children:({present:f})=>A.jsx(Xe.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:d.current?"0s":void 0},children:f&&s})})});A3.displayName=_3;function T3(n,e){return`${n}-trigger-${e}`}function b3(n,e){return`${n}-content-${e}`}var UX=x3,C3=w3,k3=S3,P3=A3;const HX=UX,R3=C.forwardRef(({className:n,...e},t)=>A.jsx(C3,{ref:t,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",n),...e}));R3.displayName=C3.displayName;const oT=C.forwardRef(({className:n,...e},t)=>A.jsx(k3,{ref:t,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),...e}));oT.displayName=k3.displayName;const lT=C.forwardRef(({className:n,...e},t)=>A.jsx(P3,{ref:t,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));lT.displayName=P3.displayName;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ww={};ww.version="0.18.5";var F3=1252,$X=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],N3=function(n){$X.indexOf(n)!=-1&&(F3=n)};function zX(){N3(1252)}var yg=function(n){N3(n)};function WX(){yg(1200),zX()}var _x=function(e){return String.fromCharCode(e)},hR=function(e){return String.fromCharCode(e)},_u,Hc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function wg(n){for(var e="",t=0,r=0,i=0,s=0,a=0,o=0,l=0,u=0;u<n.length;)t=n.charCodeAt(u++),s=t>>2,r=n.charCodeAt(u++),a=(t&3)<<4|r>>4,i=n.charCodeAt(u++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=Hc.charAt(s)+Hc.charAt(a)+Hc.charAt(o)+Hc.charAt(l);return e}function El(n){var e="",t=0,r=0,i=0,s=0,a=0,o=0,l=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)s=Hc.indexOf(n.charAt(u++)),a=Hc.indexOf(n.charAt(u++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=Hc.indexOf(n.charAt(u++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=Hc.indexOf(n.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var at=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),kl=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function fd(n){return at?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function dR(n){return at?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var na=function(e){return at?kl(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function WE(n){if(typeof ArrayBuffer>"u")return na(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function D1(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function VX(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var er=at?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:kl(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function GX(n){for(var e=[],t=0,r=n.length+250,i=fd(n.length+255),s=0;s<n.length;++s){var a=n.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=n.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|o>>6&15|(a&3)<<4,i[t++]=128|o&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>r&&(e.push(i.slice(0,t)),t=0,i=fd(65535),r=65530)}return e.push(i.slice(0,t)),er(e)}var jm=/\u0000/g,Ax=/[\u0001-\u0006]/g;function Af(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function ra(n,e){var t=""+n;return t.length>=e?t:ln("0",e-t.length)+t}function eC(n,e){var t=""+n;return t.length>=e?t:ln(" ",e-t.length)+t}function Ew(n,e){var t=""+n;return t.length>=e?t:t+ln(" ",e-t.length)}function XX(n,e){var t=""+Math.round(n);return t.length>=e?t:ln("0",e-t.length)+t}function YX(n,e){var t=""+n;return t.length>=e?t:ln("0",e-t.length)+t}var fR=Math.pow(2,32);function Id(n,e){if(n>fR||n<-fR)return XX(n,e);var t=Math.round(n);return YX(t,e)}function Sw(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var pR=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],t_=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function KX(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var cn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},mR={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},qX={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function _w(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,a=1,o=0,l=1,u=0,h=0,d=Math.floor(i);u<e&&(d=Math.floor(i),o=d*a+s,h=d*u+l,!(i-d<5e-8));)i=1/(i-d),s=a,a=o,l=u,u=h;if(h>e&&(u>e?(h=l,o=s):(h=u,o=a)),!t)return[0,r*o,h];var f=Math.floor(r*o/h);return[f,r*o-f*h,h]}function Tx(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,a=[],o={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),t&&(s=rY(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var D3=new Date(1899,11,31,0,0,0),QX=D3.getTime(),JX=new Date(1900,2,1,0,0,0);function I3(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=JX&&(t+=24*60*60*1e3),(t-(QX+(n.getTimezoneOffset()-D3.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function tC(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ZX(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function eY(n){var e=n<0?12:11,t=tC(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function tY(n){var e=tC(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function nY(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=eY(n):e===10?t=n.toFixed(10).substr(0,12):t=tY(n),tC(ZX(t.toUpperCase()))}function cT(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):nY(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return su(14,I3(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function rY(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function iY(n,e,t,r){var i="",s=0,a=0,o=t.y,l,u=0;switch(n){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=t.m,u=e.length;break;case 3:return t_[t.m-1][1];case 5:return t_[t.m-1][0];default:return t_[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=t.d,u=e.length;break;case 3:return pR[t.q][0];default:return pR[t.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ra(t.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=ra(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=t.D*24+t.H;break;case"[m]":case"[mm]":l=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":l=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var h=u>0?ra(l,u):"";return h}function $c(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var O3=/%/g;function sY(n,e,t){var r=e.replace(O3,""),i=e.length-r.length;return cl(n,r,t*Math.pow(10,2*i))+ln("%",i)}function aY(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return cl(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function M3(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+M3(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,h){return l+u+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var L3=/# (\?+)( ?)\/( ?)(\d+)/;function oY(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return t+(s===0?"":""+s)+" "+(a===0?ln(" ",n[1].length+1+n[4].length):eC(a,n[1].length)+n[2]+"/"+n[3]+ra(o,n[4].length))}function lY(n,e,t){return t+(e===0?"":""+e)+ln(" ",n[1].length+2+n[4].length)}var B3=/^#*0*\.([0#]+)/,j3=/\).*[0#]/,U3=/\(###\) ###\\?-####/;function Lr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function gR(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function vR(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function cY(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function uY(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function is(n,e,t){if(n.charCodeAt(0)===40&&!e.match(j3)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?is("n",r,t):"("+is("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return aY(n,e,t);if(e.indexOf("%")!==-1)return sY(n,e,t);if(e.indexOf("E")!==-1)return M3(e,t);if(e.charCodeAt(0)===36)return"$"+is(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Id(l,e.length);if(e.match(/^[#?]+$/))return i=Id(t,0),i==="0"&&(i=""),i.length>e.length?i:Lr(e.substr(0,e.length-i.length))+i;if(s=e.match(L3))return oY(s,l,u);if(e.match(/^#+0+$/))return u+Id(l,e.length-e.indexOf("0"));if(s=e.match(B3))return i=gR(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Lr(s[1])).replace(/\.$/,"."+Lr(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+ln("0",Lr(s[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+gR(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+$c(Id(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+is(n,e,-t):$c(""+(Math.floor(t)+cY(t,s[1].length)))+"."+ra(vR(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return is(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Af(is(n,e.replace(/[\\-]/g,""),t)),a=0,Af(Af(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(e.match(U3))return i=is(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=_w(l,Math.pow(10,a)-1,!1),i=""+u,h=cl("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=Ew(o[2],a),h.length<s[4].length&&(h=Lr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=_w(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?eC(o[1],a)+s[2]+"/"+s[3]+Ew(o[2],a):ln(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Id(t,0),e.length<=i.length?i:Lr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=e.indexOf(".")-a,f=e.length-i.length-d;return Lr(e.substr(0,d)+i+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=vR(t,s[1].length),t<0?"-"+is(n,e,-t):$c(uY(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ra(0,3-g.length):"")+g})+"."+ra(a,s[1].length);switch(e){case"###,##0.00":return is(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var p=$c(Id(l,0));return p!=="0"?u+p:"";case"###,###.00":return is(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return is(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function hY(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return cl(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function dY(n,e,t){var r=e.replace(O3,""),i=e.length-r.length;return cl(n,r,t*Math.pow(10,2*i))+ln("%",i)}function H3(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+H3(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,h){return l+u+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Aa(n,e,t){if(n.charCodeAt(0)===40&&!e.match(j3)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Aa("n",r,t):"("+Aa("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return hY(n,e,t);if(e.indexOf("%")!==-1)return dY(n,e,t);if(e.indexOf("E")!==-1)return H3(e,t);if(e.charCodeAt(0)===36)return"$"+Aa(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,l=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+ra(l,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Lr(e.substr(0,e.length-i.length))+i;if(s=e.match(L3))return lY(s,l,u);if(e.match(/^#+0+$/))return u+ra(l,e.length-e.indexOf("0"));if(s=e.match(B3))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Lr(s[1])).replace(/\.$/,"."+Lr(s[1])),i=i.replace(/\.(\d*)$/,function(g,m){return"."+m+ln("0",Lr(s[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+$c(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Aa(n,e,-t):$c(""+t)+"."+ln("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Aa(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Af(Aa(n,e.replace(/[\\-]/g,""),t)),a=0,Af(Af(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(e.match(U3))return i=Aa(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=_w(l,Math.pow(10,a)-1,!1),i=""+u,h=cl("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=Ew(o[2],a),h.length<s[4].length&&(h=Lr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=_w(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?eC(o[1],a)+s[2]+"/"+s[3]+Ew(o[2],a):ln(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Lr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=e.indexOf(".")-a,f=e.length-i.length-d;return Lr(e.substr(0,d)+i+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Aa(n,e,-t):$c(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?ra(0,3-g.length):"")+g})+"."+ra(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=$c(""+l);return p!=="0"?u+p:"";default:if(e.match(/\.[0#?]*$/))return Aa(n,e.slice(0,e.lastIndexOf(".")),t)+Lr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function cl(n,e,t){return(t|0)===t?Aa(n,e,t):is(n,e,t)}function fY(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var $3=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function z3(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":Sw(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match($3))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function pY(n,e,t,r){for(var i=[],s="",a=0,o="",l="t",u,h,d,f="H";a<n.length;)switch(o=n.charAt(a)){case"G":if(!Sw(n,a))throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(d=n.charCodeAt(++a))!==34&&a<n.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=n.charAt(++a),g=p==="("||p===")"?p:"t";i[i.length]={t:g,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(n.charAt(a+1)==="1"||n.charAt(a+1)==="2"){if(u==null&&(u=Tx(e,t,n.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:n.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Tx(e,t),u==null))return"";for(s=o;++a<n.length&&n.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=f),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(u==null&&(u=Tx(e,t)),n.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",f="h",a+=3):n.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",a+=5,f="h"):n.substr(a,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",a+=5,f="h"):(m.t="t",++a),u==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(s=o;n.charAt(a++)!=="]"&&a<n.length;)s+=n.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match($3)){if(u==null&&(u=Tx(e,t),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",z3(n)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<n.length&&(o=n.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<n.length&&"0#?.,E+-%".indexOf(o=n.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;n.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(n.charAt(a)==" "||n.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)s+=n.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+n);i[i.length]={t:"t",v:o},++a;break}var v=0,x=0,w;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=f,l="h",v<1&&(v=1);break;case"s":(w=i[a].v.match(/\.0+$/))&&(x=Math.max(x,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[a].v.match(/[Hh]/)&&(v=1),v<2&&i[a].v.match(/[Mm]/)&&(v=2),v<3&&i[a].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var y="",S;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=iY(i[a].t.charCodeAt(0),i[a].v,u,x),i[a].t="t";break;case"n":case"?":for(S=a+1;i[S]!=null&&((o=i[S].t)==="?"||o==="D"||(o===" "||o==="t")&&i[S+1]!=null&&(i[S+1].t==="?"||i[S+1].t==="t"&&i[S+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[S].v==="/"||i[S].v===" "&&i[S+1]!=null&&i[S+1].t=="?"));)i[a].v+=i[S].v,i[S]={v:"",t:";"},++S;y+=i[a].v,a=S-1;break;case"G":i[a].t="t",i[a].v=cT(e,t);break}var T="",P,b;if(y.length>0){y.charCodeAt(0)==40?(P=e<0&&y.charCodeAt(0)===45?-e:e,b=cl("n",y,P)):(P=e<0&&r>1?-e:e,b=cl("n",y,P),P<0&&i[0]&&i[0].t=="t"&&(b=b.substr(1),i[0].v="-"+i[0].v)),S=b.length-1;var F=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){F=a;break}var D=i.length;if(F===i.length&&b.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(S>=i[a].v.length-1?(S-=i[a].v.length,i[a].v=b.substr(S+1,i[a].v.length)):S<0?i[a].v="":(i[a].v=b.substr(0,S+1),S=-1),i[a].t="t",D=a);S>=0&&D<i.length&&(i[D].v=b.substr(0,S+1)+i[D].v)}else if(F!==i.length&&b.indexOf("E")===-1){for(S=b.indexOf(".")-1,a=F;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===F?i[a].v.indexOf(".")-1:i[a].v.length-1,T=i[a].v.substr(h+1);h>=0;--h)S>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(T=b.charAt(S--)+T);i[a].v=T,i[a].t="t",D=a}for(S>=0&&D<i.length&&(i[D].v=b.substr(0,S+1)+i[D].v),S=b.indexOf(".")+1,a=F;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==F)){for(h=i[a].v.indexOf(".")>-1&&a===F?i[a].v.indexOf(".")+1:0,T=i[a].v.substr(0,h);h<i[a].v.length;++h)S<b.length&&(T+=b.charAt(S++));i[a].v=T,i[a].t="t",D=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(P=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=cl(i[a].t,i[a].v,P),i[a].t="t");var M="";for(a=0;a!==i.length;++a)i[a]!=null&&(M+=i[a].v);return M}var xR=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function yR(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function mY(n,e){var t=fY(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(xR),o=t[1].match(xR);return yR(e,a)?[r,t[0]]:yR(e,o)?[r,t[1]]:[r,t[a!=null&&o!=null?2:1]]}return[r,s]}function su(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:cn)[n],r==null&&(r=t.table&&t.table[mR[n]]||cn[mR[n]]),r==null&&(r=qX[n]||"General");break}if(Sw(r,0))return cT(e,t);e instanceof Date&&(e=I3(e,t.date1904));var i=mY(r,e);if(Sw(i[1]))return cT(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return pY(i[1],e,t,i[0])}function W3(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(cn[t]==null){e<0&&(e=t);continue}if(cn[t]==n){e=t;break}}e<0&&(e=391)}return cn[e]=n,e}function VE(n){for(var e=0;e!=392;++e)n[e]!==void 0&&W3(n[e],e)}function GE(){cn=KX()}var V3=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gY(n){var e=typeof n=="number"?cn[n]:n;return e=e.replace(V3,"(\\d+)"),new RegExp("^"+e+"$")}function vY(n,e,t){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(V3)||[]).forEach(function(d,f){var p=parseInt(t[f+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:r==-1&&i==-1&&s==-1?h:u+"T"+h}var xY=function(){var n={};n.version="1.2.0";function e(){for(var b=0,F=new Array(256),D=0;D!=256;++D)b=D,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,b=b&1?-306674912^b>>>1:b>>>1,F[D]=b;return typeof Int32Array<"u"?new Int32Array(F):F}var t=e();function r(b){var F=0,D=0,M=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)W[M]=b[M];for(M=0;M!=256;++M)for(D=b[M],F=256+M;F<4096;F+=256)D=W[F]=D>>>8^b[D&255];var G=[];for(M=1;M!=16;++M)G[M-1]=typeof Int32Array<"u"?W.subarray(M*256,M*256+256):W.slice(M*256,M*256+256);return G}var i=r(t),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],h=i[5],d=i[6],f=i[7],p=i[8],g=i[9],m=i[10],v=i[11],x=i[12],w=i[13],y=i[14];function S(b,F){for(var D=F^-1,M=0,W=b.length;M<W;)D=D>>>8^t[(D^b.charCodeAt(M++))&255];return~D}function T(b,F){for(var D=F^-1,M=b.length-15,W=0;W<M;)D=y[b[W++]^D&255]^w[b[W++]^D>>8&255]^x[b[W++]^D>>16&255]^v[b[W++]^D>>>24]^m[b[W++]]^g[b[W++]]^p[b[W++]]^f[b[W++]]^d[b[W++]]^h[b[W++]]^u[b[W++]]^l[b[W++]]^o[b[W++]]^a[b[W++]]^s[b[W++]]^t[b[W++]];for(M+=15;W<M;)D=D>>>8^t[(D^b[W++])&255];return~D}function P(b,F){for(var D=F^-1,M=0,W=b.length,G=0,q=0;M<W;)G=b.charCodeAt(M++),G<128?D=D>>>8^t[(D^G)&255]:G<2048?(D=D>>>8^t[(D^(192|G>>6&31))&255],D=D>>>8^t[(D^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,q=b.charCodeAt(M++)&1023,D=D>>>8^t[(D^(240|G>>8&7))&255],D=D>>>8^t[(D^(128|G>>2&63))&255],D=D>>>8^t[(D^(128|q>>6&15|(G&3)<<4))&255],D=D>>>8^t[(D^(128|q&63))&255]):(D=D>>>8^t[(D^(224|G>>12&15))&255],D=D>>>8^t[(D^(128|G>>6&63))&255],D=D>>>8^t[(D^(128|G&63))&255]);return~D}return n.table=t,n.bstr=S,n.buf=T,n.str=P,n}(),Et=function(){var e={};e.version="1.2.1";function t(R,L){for(var I=R.split("/"),O=L.split("/"),j=0,z=0,ne=Math.min(I.length,O.length);j<ne;++j){if(z=I[j].length-O[j].length)return z;if(I[j]!=O[j])return I[j]<O[j]?-1:1}return I.length-O.length}function r(R){if(R.charAt(R.length-1)=="/")return R.slice(0,-1).indexOf("/")===-1?R:r(R.slice(0,-1));var L=R.lastIndexOf("/");return L===-1?R:R.slice(0,L+1)}function i(R){if(R.charAt(R.length-1)=="/")return i(R.slice(0,-1));var L=R.lastIndexOf("/");return L===-1?R:R.slice(L+1)}function s(R,L){typeof L=="string"&&(L=new Date(L));var I=L.getHours();I=I<<6|L.getMinutes(),I=I<<5|L.getSeconds()>>>1,R.write_shift(2,I);var O=L.getFullYear()-1980;O=O<<4|L.getMonth()+1,O=O<<5|L.getDate(),R.write_shift(2,O)}function a(R){var L=R.read_shift(2)&65535,I=R.read_shift(2)&65535,O=new Date,j=I&31;I>>>=5;var z=I&15;I>>>=4,O.setMilliseconds(0),O.setFullYear(I+1980),O.setMonth(z-1),O.setDate(j);var ne=L&31;L>>>=5;var le=L&63;return L>>>=6,O.setHours(L),O.setMinutes(le),O.setSeconds(ne<<1),O}function o(R){Hi(R,0);for(var L={},I=0;R.l<=R.length-4;){var O=R.read_shift(2),j=R.read_shift(2),z=R.l+j,ne={};switch(O){case 21589:I=R.read_shift(1),I&1&&(ne.mtime=R.read_shift(4)),j>5&&(I&2&&(ne.atime=R.read_shift(4)),I&4&&(ne.ctime=R.read_shift(4))),ne.mtime&&(ne.mt=new Date(ne.mtime*1e3));break}R.l=z,L[O]=ne}return L}var l;function u(){return l||(l={})}function h(R,L){if(R[0]==80&&R[1]==75)return Op(R,L);if((R[0]|32)==109&&(R[1]|32)==105)return gi(R,L);if(R.length<512)throw new Error("CFB file size "+R.length+" < 512");var I=3,O=512,j=0,z=0,ne=0,le=0,ee=0,re=[],se=R.slice(0,512);Hi(se,0);var fe=d(se);switch(I=fe[0],I){case 3:O=512;break;case 4:O=4096;break;case 0:if(fe[1]==0)return Op(R,L);default:throw new Error("Major Version: Expected 3 or 4 saw "+I)}O!==512&&(se=R.slice(0,O),Hi(se,28));var Ee=R.slice(0,O);f(se,I);var Ce=se.read_shift(4,"i");if(I===3&&Ce!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ce);se.l+=4,ne=se.read_shift(4,"i"),se.l+=4,se.chk("00100000","Mini Stream Cutoff Size: "),le=se.read_shift(4,"i"),j=se.read_shift(4,"i"),ee=se.read_shift(4,"i"),z=se.read_shift(4,"i");for(var ge=-1,Ae=0;Ae<109&&(ge=se.read_shift(4,"i"),!(ge<0));++Ae)re[Ae]=ge;var Be=p(R,O);v(ee,z,Be,O,re);var $t=w(Be,ne,re,O);$t[ne].name="!Directory",j>0&&le!==q&&($t[le].name="!MiniFAT"),$t[re[0]].name="!FAT",$t.fat_addrs=re,$t.ssz=O;var zt={},hr=[],Lp=[],Bp=[];y(ne,$t,Be,hr,j,zt,Lp,le),g(Lp,Bp,hr),hr.shift();var jp={FileIndex:Lp,FullPaths:Bp};return L&&L.raw&&(jp.raw={header:Ee,sectors:Be}),jp}function d(R){if(R[R.l]==80&&R[R.l+1]==75)return[0,0];R.chk(J,"Header Signature: "),R.l+=16;var L=R.read_shift(2,"u");return[R.read_shift(2,"u"),L]}function f(R,L){var I=9;switch(R.l+=2,I=R.read_shift(2)){case 9:if(L!=3)throw new Error("Sector Shift: Expected 9 saw "+I);break;case 12:if(L!=4)throw new Error("Sector Shift: Expected 12 saw "+I);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+I)}R.chk("0600","Mini Sector Shift: "),R.chk("000000000000","Reserved: ")}function p(R,L){for(var I=Math.ceil(R.length/L)-1,O=[],j=1;j<I;++j)O[j-1]=R.slice(j*L,(j+1)*L);return O[I-1]=R.slice(I*L),O}function g(R,L,I){for(var O=0,j=0,z=0,ne=0,le=0,ee=I.length,re=[],se=[];O<ee;++O)re[O]=se[O]=O,L[O]=I[O];for(;le<se.length;++le)O=se[le],j=R[O].L,z=R[O].R,ne=R[O].C,re[O]===O&&(j!==-1&&re[j]!==j&&(re[O]=re[j]),z!==-1&&re[z]!==z&&(re[O]=re[z])),ne!==-1&&(re[ne]=O),j!==-1&&O!=re[O]&&(re[j]=re[O],se.lastIndexOf(j)<le&&se.push(j)),z!==-1&&O!=re[O]&&(re[z]=re[O],se.lastIndexOf(z)<le&&se.push(z));for(O=1;O<ee;++O)re[O]===O&&(z!==-1&&re[z]!==z?re[O]=re[z]:j!==-1&&re[j]!==j&&(re[O]=re[j]));for(O=1;O<ee;++O)if(R[O].type!==0){if(le=O,le!=re[le])do le=re[le],L[O]=L[le]+"/"+L[O];while(le!==0&&re[le]!==-1&&le!=re[le]);re[O]=-1}for(L[0]+="/",O=1;O<ee;++O)R[O].type!==2&&(L[O]+="/")}function m(R,L,I){for(var O=R.start,j=R.size,z=[],ne=O;I&&j>0&&ne>=0;)z.push(L.slice(ne*G,ne*G+G)),j-=G,ne=Au(I,ne*4);return z.length===0?oe(0):er(z).slice(0,R.size)}function v(R,L,I,O,j){var z=q;if(R===q){if(L!==0)throw new Error("DIFAT chain shorter than expected")}else if(R!==-1){var ne=I[R],le=(O>>>2)-1;if(!ne)return;for(var ee=0;ee<le&&(z=Au(ne,ee*4))!==q;++ee)j.push(z);v(Au(ne,O-4),L-1,I,O,j)}}function x(R,L,I,O,j){var z=[],ne=[];j||(j=[]);var le=O-1,ee=0,re=0;for(ee=L;ee>=0;){j[ee]=!0,z[z.length]=ee,ne.push(R[ee]);var se=I[Math.floor(ee*4/O)];if(re=ee*4&le,O<4+re)throw new Error("FAT boundary crossed: "+ee+" 4 "+O);if(!R[se])break;ee=Au(R[se],re)}return{nodes:z,data:CR([ne])}}function w(R,L,I,O){var j=R.length,z=[],ne=[],le=[],ee=[],re=O-1,se=0,fe=0,Ee=0,Ce=0;for(se=0;se<j;++se)if(le=[],Ee=se+L,Ee>=j&&(Ee-=j),!ne[Ee]){ee=[];var ge=[];for(fe=Ee;fe>=0;){ge[fe]=!0,ne[fe]=!0,le[le.length]=fe,ee.push(R[fe]);var Ae=I[Math.floor(fe*4/O)];if(Ce=fe*4&re,O<4+Ce)throw new Error("FAT boundary crossed: "+fe+" 4 "+O);if(!R[Ae]||(fe=Au(R[Ae],Ce),ge[fe]))break}z[Ee]={nodes:le,data:CR([ee])}}return z}function y(R,L,I,O,j,z,ne,le){for(var ee=0,re=O.length?2:0,se=L[R].data,fe=0,Ee=0,Ce;fe<se.length;fe+=128){var ge=se.slice(fe,fe+128);Hi(ge,64),Ee=ge.read_shift(2),Ce=aC(ge,0,Ee-re),O.push(Ce);var Ae={name:Ce,type:ge.read_shift(1),color:ge.read_shift(1),L:ge.read_shift(4,"i"),R:ge.read_shift(4,"i"),C:ge.read_shift(4,"i"),clsid:ge.read_shift(16),state:ge.read_shift(4,"i"),start:0,size:0},Be=ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2);Be!==0&&(Ae.ct=S(ge,ge.l-8));var $t=ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2);$t!==0&&(Ae.mt=S(ge,ge.l-8)),Ae.start=ge.read_shift(4,"i"),Ae.size=ge.read_shift(4,"i"),Ae.size<0&&Ae.start<0&&(Ae.size=Ae.type=0,Ae.start=q,Ae.name=""),Ae.type===5?(ee=Ae.start,j>0&&ee!==q&&(L[ee].name="!StreamData")):Ae.size>=4096?(Ae.storage="fat",L[Ae.start]===void 0&&(L[Ae.start]=x(I,Ae.start,L.fat_addrs,L.ssz)),L[Ae.start].name=Ae.name,Ae.content=L[Ae.start].data.slice(0,Ae.size)):(Ae.storage="minifat",Ae.size<0?Ae.size=0:ee!==q&&Ae.start!==q&&L[ee]&&(Ae.content=m(Ae,L[ee].data,(L[le]||{}).data))),Ae.content&&Hi(Ae.content,0),z[Ce]=Ae,ne.push(Ae)}}function S(R,L){return new Date((Wi(R,L+4)/1e7*Math.pow(2,32)+Wi(R,L)/1e7-11644473600)*1e3)}function T(R,L){return u(),h(l.readFileSync(R),L)}function P(R,L){var I=L&&L.type;switch(I||at&&Buffer.isBuffer(R)&&(I="buffer"),I||"base64"){case"file":return T(R,L);case"base64":return h(na(El(R)),L);case"binary":return h(na(R),L)}return h(R,L)}function b(R,L){var I=L||{},O=I.root||"Root Entry";if(R.FullPaths||(R.FullPaths=[]),R.FileIndex||(R.FileIndex=[]),R.FullPaths.length!==R.FileIndex.length)throw new Error("inconsistent CFB structure");R.FullPaths.length===0&&(R.FullPaths[0]=O+"/",R.FileIndex[0]={name:O,type:5}),I.CLSID&&(R.FileIndex[0].clsid=I.CLSID),F(R)}function F(R){var L="Sh33tJ5";if(!Et.find(R,"/"+L)){var I=oe(4);I[0]=55,I[1]=I[3]=50,I[2]=54,R.FileIndex.push({name:L,type:2,content:I,size:4,L:69,R:69,C:69}),R.FullPaths.push(R.FullPaths[0]+L),D(R)}}function D(R,L){b(R);for(var I=!1,O=!1,j=R.FullPaths.length-1;j>=0;--j){var z=R.FileIndex[j];switch(z.type){case 0:O?I=!0:(R.FileIndex.pop(),R.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(z.R*z.L*z.C)&&(I=!0),z.R>-1&&z.L>-1&&z.R==z.L&&(I=!0);break;default:I=!0;break}}if(!(!I&&!L)){var ne=new Date(1987,1,19),le=0,ee=Object.create?Object.create(null):{},re=[];for(j=0;j<R.FullPaths.length;++j)ee[R.FullPaths[j]]=!0,R.FileIndex[j].type!==0&&re.push([R.FullPaths[j],R.FileIndex[j]]);for(j=0;j<re.length;++j){var se=r(re[j][0]);O=ee[se],O||(re.push([se,{name:i(se).replace("/",""),type:1,clsid:ie,ct:ne,mt:ne,content:null}]),ee[se]=!0)}for(re.sort(function(Ce,ge){return t(Ce[0],ge[0])}),R.FullPaths=[],R.FileIndex=[],j=0;j<re.length;++j)R.FullPaths[j]=re[j][0],R.FileIndex[j]=re[j][1];for(j=0;j<re.length;++j){var fe=R.FileIndex[j],Ee=R.FullPaths[j];if(fe.name=i(Ee).replace("/",""),fe.L=fe.R=fe.C=-(fe.color=1),fe.size=fe.content?fe.content.length:0,fe.start=0,fe.clsid=fe.clsid||ie,j===0)fe.C=re.length>1?1:-1,fe.size=0,fe.type=5;else if(Ee.slice(-1)=="/"){for(le=j+1;le<re.length&&r(R.FullPaths[le])!=Ee;++le);for(fe.C=le>=re.length?-1:le,le=j+1;le<re.length&&r(R.FullPaths[le])!=r(Ee);++le);fe.R=le>=re.length?-1:le,fe.type=1}else r(R.FullPaths[j+1]||"")==r(Ee)&&(fe.R=j+1),fe.type=2}}}function M(R,L){var I=L||{};if(I.fileType=="mad")return ma(R,I);switch(D(R),I.fileType){case"zip":return Mp(R,I)}var O=function(Ce){for(var ge=0,Ae=0,Be=0;Be<Ce.FileIndex.length;++Be){var $t=Ce.FileIndex[Be];if($t.content){var zt=$t.content.length;zt>0&&(zt<4096?ge+=zt+63>>6:Ae+=zt+511>>9)}}for(var hr=Ce.FullPaths.length+3>>2,Lp=ge+7>>3,Bp=ge+127>>7,jp=Lp+Ae+hr+Bp,gu=jp+127>>7,nS=gu<=109?0:Math.ceil((gu-109)/127);jp+gu+nS+127>>7>gu;)nS=++gu<=109?0:Math.ceil((gu-109)/127);var po=[1,nS,gu,Bp,hr,Ae,ge,0];return Ce.FileIndex[0].size=ge<<6,po[7]=(Ce.FileIndex[0].start=po[0]+po[1]+po[2]+po[3]+po[4]+po[5])+(po[6]+7>>3),po}(R),j=oe(O[7]<<9),z=0,ne=0;{for(z=0;z<8;++z)j.write_shift(1,ae[z]);for(z=0;z<8;++z)j.write_shift(2,0);for(j.write_shift(2,62),j.write_shift(2,3),j.write_shift(2,65534),j.write_shift(2,9),j.write_shift(2,6),z=0;z<3;++z)j.write_shift(2,0);for(j.write_shift(4,0),j.write_shift(4,O[2]),j.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),j.write_shift(4,0),j.write_shift(4,4096),j.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:q),j.write_shift(4,O[3]),j.write_shift(-4,O[1]?O[0]-1:q),j.write_shift(4,O[1]),z=0;z<109;++z)j.write_shift(-4,z<O[2]?O[1]+z:-1)}if(O[1])for(ne=0;ne<O[1];++ne){for(;z<236+ne*127;++z)j.write_shift(-4,z<O[2]?O[1]+z:-1);j.write_shift(-4,ne===O[1]-1?q:ne+1)}var le=function(Ce){for(ne+=Ce;z<ne-1;++z)j.write_shift(-4,z+1);Ce&&(++z,j.write_shift(-4,q))};for(ne=z=0,ne+=O[1];z<ne;++z)j.write_shift(-4,K.DIFSECT);for(ne+=O[2];z<ne;++z)j.write_shift(-4,K.FATSECT);le(O[3]),le(O[4]);for(var ee=0,re=0,se=R.FileIndex[0];ee<R.FileIndex.length;++ee)se=R.FileIndex[ee],se.content&&(re=se.content.length,!(re<4096)&&(se.start=ne,le(re+511>>9)));for(le(O[6]+7>>3);j.l&511;)j.write_shift(-4,K.ENDOFCHAIN);for(ne=z=0,ee=0;ee<R.FileIndex.length;++ee)se=R.FileIndex[ee],se.content&&(re=se.content.length,!(!re||re>=4096)&&(se.start=ne,le(re+63>>6)));for(;j.l&511;)j.write_shift(-4,K.ENDOFCHAIN);for(z=0;z<O[4]<<2;++z){var fe=R.FullPaths[z];if(!fe||fe.length===0){for(ee=0;ee<17;++ee)j.write_shift(4,0);for(ee=0;ee<3;++ee)j.write_shift(4,-1);for(ee=0;ee<12;++ee)j.write_shift(4,0);continue}se=R.FileIndex[z],z===0&&(se.start=se.size?se.start-1:q);var Ee=z===0&&I.root||se.name;if(re=2*(Ee.length+1),j.write_shift(64,Ee,"utf16le"),j.write_shift(2,re),j.write_shift(1,se.type),j.write_shift(1,se.color),j.write_shift(-4,se.L),j.write_shift(-4,se.R),j.write_shift(-4,se.C),se.clsid)j.write_shift(16,se.clsid,"hex");else for(ee=0;ee<4;++ee)j.write_shift(4,0);j.write_shift(4,se.state||0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,0),j.write_shift(4,se.start),j.write_shift(4,se.size),j.write_shift(4,0)}for(z=1;z<R.FileIndex.length;++z)if(se=R.FileIndex[z],se.size>=4096)if(j.l=se.start+1<<9,at&&Buffer.isBuffer(se.content))se.content.copy(j,j.l,0,se.size),j.l+=se.size+511&-512;else{for(ee=0;ee<se.size;++ee)j.write_shift(1,se.content[ee]);for(;ee&511;++ee)j.write_shift(1,0)}for(z=1;z<R.FileIndex.length;++z)if(se=R.FileIndex[z],se.size>0&&se.size<4096)if(at&&Buffer.isBuffer(se.content))se.content.copy(j,j.l,0,se.size),j.l+=se.size+63&-64;else{for(ee=0;ee<se.size;++ee)j.write_shift(1,se.content[ee]);for(;ee&63;++ee)j.write_shift(1,0)}if(at)j.l=j.length;else for(;j.l<j.length;)j.write_shift(1,0);return j}function W(R,L){var I=R.FullPaths.map(function(ee){return ee.toUpperCase()}),O=I.map(function(ee){var re=ee.split("/");return re[re.length-(ee.slice(-1)=="/"?2:1)]}),j=!1;L.charCodeAt(0)===47?(j=!0,L=I[0].slice(0,-1)+L):j=L.indexOf("/")!==-1;var z=L.toUpperCase(),ne=j===!0?I.indexOf(z):O.indexOf(z);if(ne!==-1)return R.FileIndex[ne];var le=!z.match(Ax);for(z=z.replace(jm,""),le&&(z=z.replace(Ax,"!")),ne=0;ne<I.length;++ne)if((le?I[ne].replace(Ax,"!"):I[ne]).replace(jm,"")==z||(le?O[ne].replace(Ax,"!"):O[ne]).replace(jm,"")==z)return R.FileIndex[ne];return null}var G=64,q=-2,J="d0cf11e0a1b11ae1",ae=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(R,L,I){u();var O=M(R,I);l.writeFileSync(L,O)}function H(R){for(var L=new Array(R.length),I=0;I<R.length;++I)L[I]=String.fromCharCode(R[I]);return L.join("")}function X(R,L){var I=M(R,L);switch(L&&L.type||"buffer"){case"file":return u(),l.writeFileSync(L.filename,I),I;case"binary":return typeof I=="string"?I:H(I);case"base64":return wg(typeof I=="string"?I:H(I));case"buffer":if(at)return Buffer.isBuffer(I)?I:kl(I);case"array":return typeof I=="string"?na(I):I}return I}var Z;function N(R){try{var L=R.InflateRaw,I=new L;if(I._processChunk(new Uint8Array([3,0]),I._finishFlushFlag),I.bytesRead)Z=R;else throw new Error("zlib does not expose bytesRead")}catch(O){console.error("cannot use native zlib: "+(O.message||O))}}function B(R,L){if(!Z)return U1(R,L);var I=Z.InflateRaw,O=new I,j=O._processChunk(R.slice(R.l),O._finishFlushFlag);return R.l+=O.bytesRead,j}function U(R){return Z?Z.deflateRawSync(R):mu(R)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Q=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(R){var L=(R<<1|R<<11)&139536|(R<<5|R<<15)&558144;return(L>>16|L>>8|L)&255}for(var me=typeof Uint8Array<"u",ce=me?new Uint8Array(256):[],we=0;we<256;++we)ce[we]=he(we);function Te(R,L){var I=ce[R&255];return L<=8?I>>>8-L:(I=I<<8|ce[R>>8&255],L<=16?I>>>16-L:(I=I<<8|ce[R>>16&255],I>>>24-L))}function Qe(R,L){var I=L&7,O=L>>>3;return(R[O]|(I<=6?0:R[O+1]<<8))>>>I&3}function Oe(R,L){var I=L&7,O=L>>>3;return(R[O]|(I<=5?0:R[O+1]<<8))>>>I&7}function $n(R,L){var I=L&7,O=L>>>3;return(R[O]|(I<=4?0:R[O+1]<<8))>>>I&15}function it(R,L){var I=L&7,O=L>>>3;return(R[O]|(I<=3?0:R[O+1]<<8))>>>I&31}function _e(R,L){var I=L&7,O=L>>>3;return(R[O]|(I<=1?0:R[O+1]<<8))>>>I&127}function Pn(R,L,I){var O=L&7,j=L>>>3,z=(1<<I)-1,ne=R[j]>>>O;return I<8-O||(ne|=R[j+1]<<8-O,I<16-O)||(ne|=R[j+2]<<16-O,I<24-O)||(ne|=R[j+3]<<24-O),ne&z}function cr(R,L,I){var O=L&7,j=L>>>3;return O<=5?R[j]|=(I&7)<<O:(R[j]|=I<<O&255,R[j+1]=(I&7)>>8-O),L+3}function fa(R,L,I){var O=L&7,j=L>>>3;return I=(I&1)<<O,R[j]|=I,L+1}function es(R,L,I){var O=L&7,j=L>>>3;return I<<=O,R[j]|=I&255,I>>>=8,R[j+1]=I,L+8}function Fp(R,L,I){var O=L&7,j=L>>>3;return I<<=O,R[j]|=I&255,I>>>=8,R[j+1]=I&255,R[j+2]=I>>>8,L+16}function Rs(R,L){var I=R.length,O=2*I>L?2*I:L+5,j=0;if(I>=L)return R;if(at){var z=dR(O);if(R.copy)R.copy(z);else for(;j<R.length;++j)z[j]=R[j];return z}else if(me){var ne=new Uint8Array(O);if(ne.set)ne.set(R);else for(;j<I;++j)ne[j]=R[j];return ne}return R.length=O,R}function ts(R){for(var L=new Array(R),I=0;I<R;++I)L[I]=0;return L}function Cd(R,L,I){var O=1,j=0,z=0,ne=0,le=0,ee=R.length,re=me?new Uint16Array(32):ts(32);for(z=0;z<32;++z)re[z]=0;for(z=ee;z<I;++z)R[z]=0;ee=R.length;var se=me?new Uint16Array(ee):ts(ee);for(z=0;z<ee;++z)re[j=R[z]]++,O<j&&(O=j),se[z]=0;for(re[0]=0,z=1;z<=O;++z)re[z+16]=le=le+re[z-1]<<1;for(z=0;z<ee;++z)le=R[z],le!=0&&(se[z]=re[le+16]++);var fe=0;for(z=0;z<ee;++z)if(fe=R[z],fe!=0)for(le=Te(se[z],O)>>O-fe,ne=(1<<O+4-fe)-1;ne>=0;--ne)L[le|ne<<fe]=fe&15|z<<4;return O}var ur=me?new Uint16Array(512):ts(512),pa=me?new Uint16Array(32):ts(32);if(!me){for(var uo=0;uo<512;++uo)ur[uo]=0;for(uo=0;uo<32;++uo)pa[uo]=0}(function(){for(var R=[],L=0;L<32;L++)R.push(5);Cd(R,pa,32);var I=[];for(L=0;L<=143;L++)I.push(8);for(;L<=255;L++)I.push(9);for(;L<=279;L++)I.push(7);for(;L<=287;L++)I.push(8);Cd(I,ur,288)})();var JE=function(){for(var L=me?new Uint8Array(32768):[],I=0,O=0;I<Q.length-1;++I)for(;O<Q[I+1];++O)L[O]=I;for(;O<32768;++O)L[O]=29;var j=me?new Uint8Array(259):[];for(I=0,O=0;I<te.length-1;++I)for(;O<te[I+1];++O)j[O]=I;function z(le,ee){for(var re=0;re<le.length;){var se=Math.min(65535,le.length-re),fe=re+se==le.length;for(ee.write_shift(1,+fe),ee.write_shift(2,se),ee.write_shift(2,~se&65535);se-- >0;)ee[ee.l++]=le[re++]}return ee.l}function ne(le,ee){for(var re=0,se=0,fe=me?new Uint16Array(32768):[];se<le.length;){var Ee=Math.min(65535,le.length-se);if(Ee<10){for(re=cr(ee,re,+(se+Ee==le.length)),re&7&&(re+=8-(re&7)),ee.l=re/8|0,ee.write_shift(2,Ee),ee.write_shift(2,~Ee&65535);Ee-- >0;)ee[ee.l++]=le[se++];re=ee.l*8;continue}re=cr(ee,re,+(se+Ee==le.length)+2);for(var Ce=0;Ee-- >0;){var ge=le[se];Ce=(Ce<<5^ge)&32767;var Ae=-1,Be=0;if((Ae=fe[Ce])&&(Ae|=se&-32768,Ae>se&&(Ae-=32768),Ae<se))for(;le[Ae+Be]==le[se+Be]&&Be<250;)++Be;if(Be>2){ge=j[Be],ge<=22?re=es(ee,re,ce[ge+1]>>1)-1:(es(ee,re,3),re+=5,es(ee,re,ce[ge-23]>>5),re+=3);var $t=ge<8?0:ge-4>>2;$t>0&&(Fp(ee,re,Be-te[ge]),re+=$t),ge=L[se-Ae],re=es(ee,re,ce[ge]>>3),re-=3;var zt=ge<4?0:ge-2>>1;zt>0&&(Fp(ee,re,se-Ae-Q[ge]),re+=zt);for(var hr=0;hr<Be;++hr)fe[Ce]=se&32767,Ce=(Ce<<5^le[se])&32767,++se;Ee-=Be-1}else ge<=143?ge=ge+48:re=fa(ee,re,1),re=es(ee,re,ce[ge]),fe[Ce]=se&32767,++se}re=es(ee,re,0)-1}return ee.l=(re+7)/8|0,ee.l}return function(ee,re){return ee.length<8?z(ee,re):ne(ee,re)}}();function mu(R){var L=oe(50+Math.floor(R.length*1.1)),I=JE(R,L);return L.slice(0,I)}var j1=me?new Uint16Array(32768):ts(32768),Np=me?new Uint16Array(32768):ts(32768),kd=me?new Uint16Array(128):ts(128),ho=1,Dp=1;function Pl(R,L){var I=it(R,L)+257;L+=5;var O=it(R,L)+1;L+=5;var j=$n(R,L)+4;L+=4;for(var z=0,ne=me?new Uint8Array(19):ts(19),le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ee=1,re=me?new Uint8Array(8):ts(8),se=me?new Uint8Array(8):ts(8),fe=ne.length,Ee=0;Ee<j;++Ee)ne[V[Ee]]=z=Oe(R,L),ee<z&&(ee=z),re[z]++,L+=3;var Ce=0;for(re[0]=0,Ee=1;Ee<=ee;++Ee)se[Ee]=Ce=Ce+re[Ee-1]<<1;for(Ee=0;Ee<fe;++Ee)(Ce=ne[Ee])!=0&&(le[Ee]=se[Ce]++);var ge=0;for(Ee=0;Ee<fe;++Ee)if(ge=ne[Ee],ge!=0){Ce=ce[le[Ee]]>>8-ge;for(var Ae=(1<<7-ge)-1;Ae>=0;--Ae)kd[Ce|Ae<<ge]=ge&7|Ee<<3}var Be=[];for(ee=1;Be.length<I+O;)switch(Ce=kd[_e(R,L)],L+=Ce&7,Ce>>>=3){case 16:for(z=3+Qe(R,L),L+=2,Ce=Be[Be.length-1];z-- >0;)Be.push(Ce);break;case 17:for(z=3+Oe(R,L),L+=3;z-- >0;)Be.push(0);break;case 18:for(z=11+_e(R,L),L+=7;z-- >0;)Be.push(0);break;default:Be.push(Ce),ee<Ce&&(ee=Ce);break}var $t=Be.slice(0,I),zt=Be.slice(I);for(Ee=I;Ee<286;++Ee)$t[Ee]=0;for(Ee=O;Ee<30;++Ee)zt[Ee]=0;return ho=Cd($t,j1,286),Dp=Cd(zt,Np,30),L}function ZE(R,L){if(R[0]==3&&!(R[1]&3))return[fd(L),2];for(var I=0,O=0,j=dR(L||1<<18),z=0,ne=j.length>>>0,le=0,ee=0;!(O&1);){if(O=Oe(R,I),I+=3,O>>>1)O>>1==1?(le=9,ee=5):(I=Pl(R,I),le=ho,ee=Dp);else{I&7&&(I+=8-(I&7));var re=R[I>>>3]|R[(I>>>3)+1]<<8;if(I+=32,re>0)for(!L&&ne<z+re&&(j=Rs(j,z+re),ne=j.length);re-- >0;)j[z++]=R[I>>>3],I+=8;continue}for(;;){!L&&ne<z+32767&&(j=Rs(j,z+32767),ne=j.length);var se=Pn(R,I,le),fe=O>>>1==1?ur[se]:j1[se];if(I+=fe&15,fe>>>=4,!(fe>>>8&255))j[z++]=fe;else{if(fe==256)break;fe-=257;var Ee=fe<8?0:fe-4>>2;Ee>5&&(Ee=0);var Ce=z+te[fe];Ee>0&&(Ce+=Pn(R,I,Ee),I+=Ee),se=Pn(R,I,ee),fe=O>>>1==1?pa[se]:Np[se],I+=fe&15,fe>>>=4;var ge=fe<4?0:fe-2>>1,Ae=Q[fe];for(ge>0&&(Ae+=Pn(R,I,ge),I+=ge),!L&&ne<Ce&&(j=Rs(j,Ce+100),ne=j.length);z<Ce;)j[z]=j[z-Ae],++z}}}return L?[j,I+7>>>3]:[j.slice(0,z),I+7>>>3]}function U1(R,L){var I=R.slice(R.l||0),O=ZE(I,L);return R.l+=O[1],O[0]}function Ip(R,L){if(R)typeof console<"u"&&console.error(L);else throw new Error(L)}function Op(R,L){var I=R;Hi(I,0);var O=[],j=[],z={FileIndex:O,FullPaths:j};b(z,{root:L.root});for(var ne=I.length-4;(I[ne]!=80||I[ne+1]!=75||I[ne+2]!=5||I[ne+3]!=6)&&ne>=0;)--ne;I.l=ne+4,I.l+=4;var le=I.read_shift(2);I.l+=6;var ee=I.read_shift(4);for(I.l=ee,ne=0;ne<le;++ne){I.l+=20;var re=I.read_shift(4),se=I.read_shift(4),fe=I.read_shift(2),Ee=I.read_shift(2),Ce=I.read_shift(2);I.l+=8;var ge=I.read_shift(4),Ae=o(I.slice(I.l+fe,I.l+fe+Ee));I.l+=fe+Ee+Ce;var Be=I.l;I.l=ge+4,eS(I,re,se,z,Ae),I.l=Be}return z}function eS(R,L,I,O,j){R.l+=2;var z=R.read_shift(2),ne=R.read_shift(2),le=a(R);if(z&8257)throw new Error("Unsupported ZIP encryption");for(var ee=R.read_shift(4),re=R.read_shift(4),se=R.read_shift(4),fe=R.read_shift(2),Ee=R.read_shift(2),Ce="",ge=0;ge<fe;++ge)Ce+=String.fromCharCode(R[R.l++]);if(Ee){var Ae=o(R.slice(R.l,R.l+Ee));(Ae[21589]||{}).mt&&(le=Ae[21589].mt),((j||{})[21589]||{}).mt&&(le=j[21589].mt)}R.l+=Ee;var Be=R.slice(R.l,R.l+re);switch(ne){case 8:Be=B(R,se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ne)}var $t=!1;z&8&&(ee=R.read_shift(4),ee==134695760&&(ee=R.read_shift(4),$t=!0),re=R.read_shift(4),se=R.read_shift(4)),re!=L&&Ip($t,"Bad compressed size: "+L+" != "+re),se!=I&&Ip($t,"Bad uncompressed size: "+I+" != "+se),Cr(O,Ce,Be,{unsafe:!0,mt:le})}function Mp(R,L){var I=L||{},O=[],j=[],z=oe(1),ne=I.compression?8:0,le=0,ee=0,re=0,se=0,fe=0,Ee=R.FullPaths[0],Ce=Ee,ge=R.FileIndex[0],Ae=[],Be=0;for(ee=1;ee<R.FullPaths.length;++ee)if(Ce=R.FullPaths[ee].slice(Ee.length),ge=R.FileIndex[ee],!(!ge.size||!ge.content||Ce=="Sh33tJ5")){var $t=se,zt=oe(Ce.length);for(re=0;re<Ce.length;++re)zt.write_shift(1,Ce.charCodeAt(re)&127);zt=zt.slice(0,zt.l),Ae[fe]=xY.buf(ge.content,0);var hr=ge.content;ne==8&&(hr=U(hr)),z=oe(30),z.write_shift(4,67324752),z.write_shift(2,20),z.write_shift(2,le),z.write_shift(2,ne),ge.mt?s(z,ge.mt):z.write_shift(4,0),z.write_shift(-4,Ae[fe]),z.write_shift(4,hr.length),z.write_shift(4,ge.content.length),z.write_shift(2,zt.length),z.write_shift(2,0),se+=z.length,O.push(z),se+=zt.length,O.push(zt),se+=hr.length,O.push(hr),z=oe(46),z.write_shift(4,33639248),z.write_shift(2,0),z.write_shift(2,20),z.write_shift(2,le),z.write_shift(2,ne),z.write_shift(4,0),z.write_shift(-4,Ae[fe]),z.write_shift(4,hr.length),z.write_shift(4,ge.content.length),z.write_shift(2,zt.length),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(4,0),z.write_shift(4,$t),Be+=z.l,j.push(z),Be+=zt.length,j.push(zt),++fe}return z=oe(22),z.write_shift(4,101010256),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(2,fe),z.write_shift(2,fe),z.write_shift(4,Be),z.write_shift(4,se),z.write_shift(2,0),er([er(O),er(j),z])}var pi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function tS(R,L){if(R.ctype)return R.ctype;var I=R.name||"",O=I.match(/\.([^\.]+)$/);return O&&pi[O[1]]||L&&(O=(I=L).match(/[\.\\]([^\.\\])+$/),O&&pi[O[1]])?pi[O[1]]:"application/octet-stream"}function Me(R){for(var L=wg(R),I=[],O=0;O<L.length;O+=76)I.push(L.slice(O,O+76));return I.join(`\r
`)+`\r
`}function ot(R){var L=R.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(re){var se=re.charCodeAt(0).toString(16).toUpperCase();return"="+(se.length==1?"0"+se:se)});L=L.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),L.charAt(0)==`
`&&(L="=0D"+L.slice(1)),L=L.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var I=[],O=L.split(`\r
`),j=0;j<O.length;++j){var z=O[j];if(z.length==0){I.push("");continue}for(var ne=0;ne<z.length;){var le=76,ee=z.slice(ne,ne+le);ee.charAt(le-1)=="="?le--:ee.charAt(le-2)=="="?le-=2:ee.charAt(le-3)=="="&&(le-=3),ee=z.slice(ne,ne+le),ne+=le,ne<z.length&&(ee+="="),I.push(ee)}}return I.join(`\r
`)}function kt(R){for(var L=[],I=0;I<R.length;++I){for(var O=R[I];I<=R.length&&O.charAt(O.length-1)=="=";)O=O.slice(0,O.length-1)+R[++I];L.push(O)}for(var j=0;j<L.length;++j)L[j]=L[j].replace(/[=][0-9A-Fa-f]{2}/g,function(z){return String.fromCharCode(parseInt(z.slice(1),16))});return na(L.join(`\r
`))}function mi(R,L,I){for(var O="",j="",z="",ne,le=0;le<10;++le){var ee=L[le];if(!ee||ee.match(/^\s*$/))break;var re=ee.match(/^(.*?):\s*([^\s].*)$/);if(re)switch(re[1].toLowerCase()){case"content-location":O=re[2].trim();break;case"content-type":z=re[2].trim();break;case"content-transfer-encoding":j=re[2].trim();break}}switch(++le,j.toLowerCase()){case"base64":ne=na(El(L.slice(le).join("")));break;case"quoted-printable":ne=kt(L.slice(le));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+j)}var se=Cr(R,O.slice(I.length),ne,{unsafe:!0});z&&(se.ctype=z)}function gi(R,L){if(H(R.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var I=L&&L.root||"",O=(at&&Buffer.isBuffer(R)?R.toString("binary"):H(R)).split(`\r
`),j=0,z="";for(j=0;j<O.length;++j)if(z=O[j],!!/^Content-Location:/i.test(z)&&(z=z.slice(z.indexOf("file")),I||(I=z.slice(0,z.lastIndexOf("/")+1)),z.slice(0,I.length)!=I))for(;I.length>0&&(I=I.slice(0,I.length-1),I=I.slice(0,I.lastIndexOf("/")+1),z.slice(0,I.length)!=I););var ne=(O[1]||"").match(/boundary="(.*?)"/);if(!ne)throw new Error("MAD cannot find boundary");var le="--"+(ne[1]||""),ee=[],re=[],se={FileIndex:ee,FullPaths:re};b(se);var fe,Ee=0;for(j=0;j<O.length;++j){var Ce=O[j];Ce!==le&&Ce!==le+"--"||(Ee++&&mi(se,O.slice(fe,j),I),fe=j)}return se}function ma(R,L){var I=L||{},O=I.boundary||"SheetJS";O="------="+O;for(var j=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+O.slice(2)+'"',"","",""],z=R.FullPaths[0],ne=z,le=R.FileIndex[0],ee=1;ee<R.FullPaths.length;++ee)if(ne=R.FullPaths[ee].slice(z.length),le=R.FileIndex[ee],!(!le.size||!le.content||ne=="Sh33tJ5")){ne=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Be){return"_x"+Be.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Be){return"_u"+Be.charCodeAt(0).toString(16)+"_"});for(var re=le.content,se=at&&Buffer.isBuffer(re)?re.toString("binary"):H(re),fe=0,Ee=Math.min(1024,se.length),Ce=0,ge=0;ge<=Ee;++ge)(Ce=se.charCodeAt(ge))>=32&&Ce<128&&++fe;var Ae=fe>=Ee*4/5;j.push(O),j.push("Content-Location: "+(I.root||"file:///C:/SheetJS/")+ne),j.push("Content-Transfer-Encoding: "+(Ae?"quoted-printable":"base64")),j.push("Content-Type: "+tS(le,ne)),j.push(""),j.push(Ae?ot(se):Me(se))}return j.push(O+`--\r
`),j.join(`\r
`)}function fo(R){var L={};return b(L,R),L}function Cr(R,L,I,O){var j=O&&O.unsafe;j||b(R);var z=!j&&Et.find(R,L);if(!z){var ne=R.FullPaths[0];L.slice(0,ne.length)==ne?ne=L:(ne.slice(-1)!="/"&&(ne+="/"),ne=(ne+L).replace("//","/")),z={name:i(L),type:2},R.FileIndex.push(z),R.FullPaths.push(ne),j||Et.utils.cfb_gc(R)}return z.content=I,z.size=I?I.length:0,O&&(O.CLSID&&(z.clsid=O.CLSID),O.mt&&(z.mt=O.mt),O.ct&&(z.ct=O.ct)),z}function ga(R,L){b(R);var I=Et.find(R,L);if(I){for(var O=0;O<R.FileIndex.length;++O)if(R.FileIndex[O]==I)return R.FileIndex.splice(O,1),R.FullPaths.splice(O,1),!0}return!1}function h8(R,L,I){b(R);var O=Et.find(R,L);if(O){for(var j=0;j<R.FileIndex.length;++j)if(R.FileIndex[j]==O)return R.FileIndex[j].name=i(I),R.FullPaths[j]=I,!0}return!1}function d8(R){D(R,!0)}return e.find=W,e.read=P,e.parse=h,e.write=X,e.writeFile=Y,e.utils={cfb_new:fo,cfb_add:Cr,cfb_del:ga,cfb_mov:h8,cfb_gc:d8,ReadShift:Hm,CheckField:cB,prep_blob:Hi,bconcat:er,use_zlib:N,_deflateRaw:mu,_inflateRaw:U1,consts:K},e}();function yY(n){return typeof n=="string"?WE(n):Array.isArray(n)?VX(n):n}function I1(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=WE(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?Sg(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([yY(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=n,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(n);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=D1(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+n)}function lr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function wR(n,e){for(var t=[],r=lr(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function nC(n){for(var e=[],t=lr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function XE(n){for(var e=[],t=lr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function wY(n){for(var e=[],t=lr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var Aw=new Date(1899,11,30,0,0,0);function hi(n,e){var t=n.getTime(),r=Aw.getTime()+(n.getTimezoneOffset()-Aw.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var G3=new Date,EY=Aw.getTime()+(G3.getTimezoneOffset()-Aw.getTimezoneOffset())*6e4,ER=G3.getTimezoneOffset();function X3(n){var e=new Date;return e.setTime(n*24*60*60*1e3+EY),e.getTimezoneOffset()!==ER&&e.setTime(e.getTime()+(e.getTimezoneOffset()-ER)*6e4),e}var SR=new Date("2017-02-19T19:06:09.000Z"),Y3=isNaN(SR.getFullYear())?new Date("2/19/17"):SR,SY=Y3.getFullYear()==2017;function $r(n,e){var t=new Date(n);if(SY)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(Y3.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function YE(n,e){if(at&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function di(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=di(n[t]));return e}function ln(n,e){for(var t="";t.length<e;)t+=n;return t}function ul(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var _Y=["january","february","march","april","may","june","july","august","september","october","november","december"];function Eg(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&_Y.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function Ge(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return at?r=kl(t):r=GX(t),Et.utils.cfb_add(n,e,r)}Et.utils.cfb_add(n,e,t)}else n.file(e,t)}function rC(){return Et.utils.cfb_new()}var wn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,AY={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},iC=nC(AY),sC=/[&<>'"]/g,TY=/[\u0000-\u0008\u000b-\u001f]/g;function ft(n){var e=n+"";return e.replace(sC,function(t){return iC[t]}).replace(TY,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function _R(n){return ft(n).replace(/ /g,"_x0020_")}var K3=/[\u0000-\u001f]/g;function bY(n){var e=n+"";return e.replace(sC,function(t){return iC[t]}).replace(/\n/g,"<br/>").replace(K3,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function CY(n){var e=n+"";return e.replace(sC,function(t){return iC[t]}).replace(K3,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function kY(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function PY(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function n_(n){for(var e="",t=0,r=0,i=0,s=0,a=0,o=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=n.charCodeAt(t++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function AR(n){var e=fd(2*n.length),t,r,i=1,s=0,a=0,o;for(r=0;r<n.length;r+=i)i=1,(o=n.charCodeAt(r))<128?t=o:o<224?(t=(o&31)*64+(n.charCodeAt(r+1)&63),i=2):o<240?(t=(o&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(o&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function TR(n){return kl(n,"binary").toString("utf8")}var bx="foo bar baz",Um=at&&(TR(bx)==n_(bx)&&TR||AR(bx)==n_(bx)&&AR)||n_,Sg=at?function(n){return kl(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},RY=function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),q3=/(^\s|\s$|\n)/;function tr(n,e){return"<"+n+(e.match(q3)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function _g(n){return lr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function ve(n,e,t){return"<"+n+(t!=null?_g(t):"")+(e!=null?(e.match(q3)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function uT(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function FY(n,e){switch(typeof n){case"string":var t=ve("vt:lpwstr",ft(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return ve((n|0)==n?"vt:i4":"vt:r8",ft(String(n)));case"boolean":return ve("vt:bool",n?"true":"false")}if(n instanceof Date)return ve("vt:filetime",uT(n));throw new Error("Unable to serialize "+n)}var Bn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Cp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],zi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function NY(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function DY(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)n[t+o]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var bR=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},CR=at?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:kl(e)})):bR(n)}:bR,kR=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(km(n,i)));return r.join("").replace(jm,"")},aC=at?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(jm,""):kR(n,e,t)}:kR,PR=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},Q3=at?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):PR(n,e,t)}:PR,RR=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Vd(n,i)));return r.join("")},O1=at?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):RR(e,t,r)}:RR,J3=function(n,e){var t=Wi(n,e);return t>0?O1(n,e+4,e+4+t-1):""},Z3=J3,eB=function(n,e){var t=Wi(n,e);return t>0?O1(n,e+4,e+4+t-1):""},tB=eB,nB=function(n,e){var t=2*Wi(n,e);return t>0?O1(n,e+4,e+4+t-1):""},rB=nB,iB=function(e,t){var r=Wi(e,t);return r>0?aC(e,t+4,t+4+r):""},sB=iB,aB=function(n,e){var t=Wi(n,e);return t>0?O1(n,e+4,e+4+t):""},oB=aB,lB=function(n,e){return NY(n,e)},Tw=lB,oC=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};at&&(Z3=function(e,t){if(!Buffer.isBuffer(e))return J3(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},tB=function(e,t){if(!Buffer.isBuffer(e))return eB(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},rB=function(e,t){if(!Buffer.isBuffer(e))return nB(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},sB=function(e,t){if(!Buffer.isBuffer(e))return iB(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},oB=function(e,t){if(!Buffer.isBuffer(e))return aB(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},Tw=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):lB(e,t)},oC=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Vd=function(n,e){return n[e]},km=function(n,e){return n[e+1]*256+n[e]},IY=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},Wi=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Au=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},OY=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Hm(n,e){var t="",r,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,at&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(l=0;l<n;++l)t+=String.fromCharCode(km(this,u)),u+=2;n*=2;break;case"utf8":t=O1(this,this.l,this.l+n);break;case"utf16le":n*=2,t=aC(this,this.l,this.l+n);break;case"wstr":return Hm.call(this,n,"dbcs");case"lpstr-ansi":t=Z3(this,this.l),n=4+Wi(this,this.l);break;case"lpstr-cp":t=tB(this,this.l),n=4+Wi(this,this.l);break;case"lpwstr":t=rB(this,this.l),n=4+2*Wi(this,this.l);break;case"lpp4":n=4+Wi(this,this.l),t=sB(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+Wi(this,this.l),t=oB(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(a=Vd(this,this.l+n++))!==0;)s.push(_x(a));t=s.join("");break;case"_wstr":for(n=0,t="";(a=km(this,this.l+n))!==0;)s.push(_x(a)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",u=this.l,l=0;l<n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Vd(this,u),this.l=u+1,o=Hm.call(this,n-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(_x(km(this,u))),u+=2}t=s.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",u=this.l,l=0;l!=n;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Vd(this,u),this.l=u+1,o=Hm.call(this,n-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(_x(Vd(this,u))),u+=1}t=s.join("");break;default:switch(n){case 1:return r=Vd(this,this.l),this.l++,r;case 2:return r=(e==="i"?IY:km)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(n>0?Au:OY)(this,this.l),this.l+=4,r):(i=Wi(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=Tw(this,this.l):i=Tw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=Q3(this,this.l,n);break}}return this.l+=n,t}var MY=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},LY=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},BY=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function jY(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)BY(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,MY(this,e,this.l);break;case 8:if(r=8,t==="f"){DY(this,e,this.l);break}case 16:break;case-4:r=4,LY(this,e,this.l);break}return this.l+=r,this}function cB(n,e){var t=Q3(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Hi(n,e){n.l=e,n.read_shift=Hm,n.chk=cB,n.write_shift=jY}function oo(n,e){n.l+=e}function oe(n){var e=fd(n);return Hi(e,0),e}function ci(){var n=[],e=at?256:2048,t=function(u){var h=oe(u);return Hi(h,0),h},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=t(Math.max(u+1,e)))},a=function(){return i(),er(n)},o=function(u){i(),r=u,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:n}}function ue(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=Nee[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=n.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&oC(t)&&n.push(t)}}function $m(n,e,t){var r=di(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function FR(n,e,t){var r=di(n);return r.s=$m(r.s,e.s,t),r.e=$m(r.e,e.s,t),r}function zm(n,e){if(n.cRel&&n.c<0)for(n=di(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=di(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=mt(n);return!n.cRel&&n.cRel!=null&&(t=$Y(t)),!n.rRel&&n.rRel!=null&&(t=UY(t)),t}function r_(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+Ar(n.s.c)+":"+(n.e.cRel?"":"$")+Ar(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+sr(n.s.r)+":"+(n.e.rRel?"":"$")+sr(n.e.r):zm(n.s,e.biff)+":"+zm(n.e,e.biff)}function lC(n){return parseInt(HY(n),10)-1}function sr(n){return""+(n+1)}function UY(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function HY(n){return n.replace(/\$(\d+)$/,"$1")}function cC(n){for(var e=zY(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function Ar(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function $Y(n){return n.replace(/^([A-Z])/,"$$$1")}function zY(n){return n.replace(/^\$([A-Z])/,"$1")}function WY(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function jn(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function mt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Qi(n){var e=n.indexOf(":");return e==-1?{s:jn(n),e:jn(n)}:{s:jn(n.slice(0,e)),e:jn(n.slice(e+1))}}function xn(n,e){return typeof e>"u"||typeof e=="number"?xn(n.s,n.e):(typeof n!="string"&&(n=mt(n)),typeof e!="string"&&(e=mt(e)),n==e?n:n+":"+e)}function Lt(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function NR(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=su(n.z,t?hi(e):e)}catch{}try{return n.w=su((n.XF||{}).numFmtId||(t?14:0),t?hi(e):e)}catch{return""+e}}function Sl(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?M1[n.v]||n.v:e==null?NR(n,n.v):NR(n,e))}function Sd(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function uB(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?jn(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=Lt(s["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),a==-1&&(u.e.r=a=h.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=e[d].length;++f)if(!(typeof e[d][f]>"u")){var p={v:e[d][f]},g=a+d,m=o+f;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),e[d][f]&&typeof e[d][f]=="object"&&!Array.isArray(e[d][f])&&!(e[d][f]instanceof Date))p=e[d][f];else if(Array.isArray(p.v)&&(p.f=e[d][f][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||cn[14],r.cellDates?(p.t="d",p.w=su(p.z,hi(p.v))):(p.t="n",p.v=hi(p.v),p.w=su(p.z,p.v))):p.t="s";if(i)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(p.z=s[g][m].z),s[g][m]=p;else{var v=mt({c:m,r:g});s[v]&&s[v].z&&(p.z=s[v].z),s[v]=p}}}return u.s.c<1e7&&(s["!ref"]=xn(u)),s}function kp(n,e){return uB(null,n,e)}function VY(n){return n.read_shift(4,"i")}function oa(n,e){return e||(e=oe(4)),e.write_shift(4,n),e}function Tr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Un(n,e){var t=!1;return e==null&&(t=!0,e=oe(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function GY(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function XY(n,e){return e||(e=oe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function uC(n,e){var t=n.l,r=n.read_shift(1),i=Tr(n),s=[],a={t:i,h:i};if(r&1){for(var o=n.read_shift(4),l=0;l!=o;++l)s.push(GY(n));a.r=s}else a.r=[{ich:0,ifnt:0}];return n.l=t+e,a}function YY(n,e){var t=!1;return e==null&&(t=!0,e=oe(15+4*n.t.length)),e.write_shift(1,0),Un(n.t,e),t?e.slice(0,e.l):e}var KY=uC;function qY(n,e){var t=!1;return e==null&&(t=!0,e=oe(23+4*n.t.length)),e.write_shift(1,1),Un(n.t,e),e.write_shift(4,1),XY({ich:0,ifnt:0},e),t?e.slice(0,e.l):e}function Ps(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function _d(n,e){return e==null&&(e=oe(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Ad(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Td(n,e){return e==null&&(e=oe(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var QY=Tr,hB=Un;function hC(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function bw(n,e){var t=!1;return e==null&&(t=!0,e=oe(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var JY=Tr,hT=hC,dC=bw;function dB(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?Tw([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Au(e,0)>>2;return t?i/100:i}function fB(n,e){e==null&&(e=oe(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-(1<<29)&&n<1<<29?r=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function pB(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function ZY(n,e){return e||(e=oe(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var bd=pB,Pp=ZY;function Rp(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function pd(n,e){return(e||oe(8)).write_shift(8,n,"f")}function eK(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),a=n.read_shift(1),o=n.read_shift(1),l=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=cK[i];u&&(e.rgb=zR(u));break;case 2:e.rgb=zR([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Cw(n,e){if(e||(e=oe(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function tK(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function nK(n,e){e||(e=oe(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var mB=2,Li=3,Cx=11,kw=19,kx=64,rK=65,iK=71,sK=4108,aK=4126,Qn=80,DR={1:{n:"CodePage",t:mB},2:{n:"Category",t:Qn},3:{n:"PresentationFormat",t:Qn},4:{n:"ByteCount",t:Li},5:{n:"LineCount",t:Li},6:{n:"ParagraphCount",t:Li},7:{n:"SlideCount",t:Li},8:{n:"NoteCount",t:Li},9:{n:"HiddenCount",t:Li},10:{n:"MultimediaClipCount",t:Li},11:{n:"ScaleCrop",t:Cx},12:{n:"HeadingPairs",t:sK},13:{n:"TitlesOfParts",t:aK},14:{n:"Manager",t:Qn},15:{n:"Company",t:Qn},16:{n:"LinksUpToDate",t:Cx},17:{n:"CharacterCount",t:Li},19:{n:"SharedDoc",t:Cx},22:{n:"HyperlinksChanged",t:Cx},23:{n:"AppVersion",t:Li,p:"version"},24:{n:"DigSig",t:rK},26:{n:"ContentType",t:Qn},27:{n:"ContentStatus",t:Qn},28:{n:"Language",t:Qn},29:{n:"Version",t:Qn},255:{},2147483648:{n:"Locale",t:kw},2147483651:{n:"Behavior",t:kw},1919054434:{}},IR={1:{n:"CodePage",t:mB},2:{n:"Title",t:Qn},3:{n:"Subject",t:Qn},4:{n:"Author",t:Qn},5:{n:"Keywords",t:Qn},6:{n:"Comments",t:Qn},7:{n:"Template",t:Qn},8:{n:"LastAuthor",t:Qn},9:{n:"RevNumber",t:Qn},10:{n:"EditTime",t:kx},11:{n:"LastPrinted",t:kx},12:{n:"CreatedDate",t:kx},13:{n:"ModifiedDate",t:kx},14:{n:"PageCount",t:Li},15:{n:"WordCount",t:Li},16:{n:"CharCount",t:Li},17:{n:"Thumbnail",t:iK},18:{n:"Application",t:Qn},19:{n:"DocSecurity",t:Li},255:{},2147483648:{n:"Locale",t:kw},2147483651:{n:"Behavior",t:kw},1919054434:{}};function oK(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var lK=oK([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),cK=di(lK),M1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},uK={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Px={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function gB(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vB(n,e){var t=wY(uK),r=[],i;r[r.length]=wn,r[r.length]=ve("Types",null,{xmlns:Bn.CT,"xmlns:xsd":Bn.xsd,"xmlns:xsi":Bn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ve("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){n[l]&&n[l].length>0&&(i=n[l][0],r[r.length]=ve("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Px[l][e.bookType]||Px[l].xlsx}))},a=function(l){(n[l]||[]).forEach(function(u){r[r.length]=ve("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Px[l][e.bookType]||Px[l].xlsx})})},o=function(l){(n[l]||[]).forEach(function(u){r[r.length]=ve("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var rt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function xB(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Tf(n){var e=[wn,ve("Relationships",null,{xmlns:Bn.RELS})];return lr(n["!id"]).forEach(function(t){e[e.length]=ve("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function dt(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[rt.HLINK,rt.XPATH,rt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function hK(n){var e=[wn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function OR(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function dK(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function fK(n){var e=[wn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(OR(n[t][0],n[t][1])),e.push(dK("",n[t][0]));return e.push(OR("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function yB(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ww.version+"</meta:generator></office:meta></office:document-meta>"}var ed=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function i_(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=ft(e),r[r.length]=t?ve(n,e,t):tr(n,e))}function wB(n,e){var t=e||{},r=[wn,ve("cp:coreProperties",null,{"xmlns:cp":Bn.CORE_PROPS,"xmlns:dc":Bn.dc,"xmlns:dcterms":Bn.dcterms,"xmlns:dcmitype":Bn.dcmitype,"xmlns:xsi":Bn.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&i_("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:uT(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&i_("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:uT(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=ed.length;++s){var a=ed[s],o=t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:n?n[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&i_(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var bf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],EB=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function SB(n){var e=[],t=ve;return n||(n={}),n.Application="SheetJS",e[e.length]=wn,e[e.length]=ve("Properties",null,{xmlns:Bn.EXT_PROPS,"xmlns:vt":Bn.vt}),bf.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=ft(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+ft(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function _B(n){var e=[wn,ve("Properties",null,{xmlns:Bn.CUST_PROPS,"xmlns:vt":Bn.vt})];if(!n)return e.join("");var t=1;return lr(n).forEach(function(i){++t,e[e.length]=ve("property",FY(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:ft(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var MR={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function pK(n,e){var t=[];return lr(MR).map(function(r){for(var i=0;i<ed.length;++i)if(ed[i][1]==r)return ed[i];for(i=0;i<bf.length;++i)if(bf[i][1]==r)return bf[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(tr(MR[r[1]]||r[1],i))}}),ve("DocumentProperties",t.join(""),{xmlns:zi.o})}function mK(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&lr(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var a=0;a<ed.length;++a)if(s==ed[a][1])return;for(a=0;a<bf.length;++a)if(s==bf[a][1])return;for(a=0;a<t.length;++a)if(s==t[a])return;var o=n[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(ve(_R(s),o,{"dt:dt":l}))}}),e&&lr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(ve(_R(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+zi.o+'">'+i.join("")+"</"+r+">"}function gK(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=oe(8);return a.write_shift(4,r),a.write_shift(4,i),a}function LR(n,e){var t=oe(4),r=oe(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=oe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=gK(e);break;case 31:case 80:for(r=oe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return er([t,r])}var AB=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function vK(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function BR(n,e,t){var r=oe(8),i=[],s=[],a=8,o=0,l=oe(8),u=oe(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=oe(8),u.write_shift(4,0),i.unshift(u);var h=[oe(4)];for(h[0].write_shift(4,n.length),o=0;o<n.length;++o){var d=n[o][0];for(l=oe(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);h.push(l)}l=er(h),s.unshift(l),a+=8+l.length}for(o=0;o<n.length;++o)if(!(e&&!e[n[o][0]])&&!(AB.indexOf(n[o][0])>-1||EB.indexOf(n[o][0])>-1)&&n[o][1]!=null){var f=n[o][1],p=0;if(e){p=+e[n[o][0]];var g=t[p];if(g.p=="version"&&typeof f=="string"){var m=f.split(".");f=(+m[0]<<16)+(+m[1]||0)}l=LR(g.t,f)}else{var v=vK(f);v==-1&&(v=31,f=String(f)),l=LR(v,f)}s.push(l),u=oe(8),u.write_shift(4,e?p:2+o),i.push(u),a+=8+l.length}var x=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,x),x+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),er([r].concat(i).concat(s))}function jR(n,e,t,r,i,s){var a=oe(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Et.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=BR(n,t,r);if(o.push(l),i){var u=BR(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return er(o)}function xK(n,e){e||(e=oe(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function yK(n,e){return n.read_shift(e)===1}function Br(n,e){return e||(e=oe(2)),e.write_shift(2,+!!n),e}function TB(n){return n.read_shift(2,"u")}function xs(n,e){return e||(e=oe(2)),e.write_shift(2,n),e}function bB(n,e,t){return t||(t=oe(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function CB(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=n.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=r?n.read_shift(r,i):"";return a}function wK(n){var e=n.t||"",t=oe(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=oe(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return er(i)}function EK(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function SK(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):EK(n,r,t)}function _K(n,e,t){if(t.biff>5)return SK(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function kB(n,e,t){return t||(t=oe(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function UR(n,e){e||(e=oe(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function AK(n){var e=oe(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(t=0;t<a.length;++t)e.write_shift(4,a[t]);if(s==28)r=r.slice(1),UR(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),t=0;t<o.length;++t)e.write_shift(2,o.charCodeAt(t));e.write_shift(2,0),s&8&&UR(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),t=0;t<r.length-3*l;++t)e.write_shift(1,r.charCodeAt(t+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function md(n,e,t,r){return r||(r=oe(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function TK(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),a=n.read_shift(r,"i");return[i,s,a]}function bK(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function PB(n,e){return e||(e=oe(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function fC(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=oe(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function CK(n,e){var t=!e||e.biff==8,r=oe(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function kK(n,e){var t=!e||e.biff>=8?2:1,r=oe(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function PK(n,e){var t=oe(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=wK(n[i]);var s=er([t].concat(r));return s.parts=[t.length].concat(r.map(function(a){return a.length})),s}function RK(){var n=oe(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function FK(n){var e=oe(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function NK(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=oe(i);return s.write_shift(2,(n.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function DK(n,e,t,r){var i=oe(10);return md(n,e,r,i),i.write_shift(4,t),i}function IK(n,e,t,r,i){var s=!i||i.biff==8,a=oe(8+ +s+(1+s)*t.length);return md(n,e,r,a),a.write_shift(2,t.length),s&&a.write_shift(1,1),a.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),a}function OK(n,e,t,r){var i=t&&t.biff==5;r||(r=oe(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function MK(n,e){var t=e.biff==8||!e.biff?4:2,r=oe(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function HR(n,e,t,r){var i=t&&t.biff==5;r||(r=oe(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function LK(n){var e=oe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function BK(n,e,t,r,i,s){var a=oe(8);return md(n,e,r,a),bB(t,s,a),a}function jK(n,e,t,r){var i=oe(14);return md(n,e,r,i),pd(t,i),i}function UK(n,e,t){if(t.biff<8)return HK(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(TK(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function HK(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=CB(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function $K(n){var e=oe(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)PB(n[t],e);return e}function zK(n){var e=oe(24),t=jn(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return er([e,AK(n[1])])}function WK(n){var e=n[1].Tooltip,t=oe(10+2*(e.length+1));t.write_shift(2,2048);var r=jn(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function VK(n){return n||(n=oe(4)),n.write_shift(2,1),n.write_shift(2,1),n}function GK(n,e,t){if(!t.cellStyles)return oo(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),a=n.read_shift(r),o=n.read_shift(r),l=n.read_shift(2);r==2&&(n.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(t.biff>=5||!t.biff)&&(u.level=l>>8&7),u}function XK(n,e){var t=oe(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function YK(n){for(var e=oe(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function KK(n,e,t){var r=oe(15);return B1(r,n,e),r.write_shift(8,t,"f"),r}function qK(n,e,t){var r=oe(9);return B1(r,n,e),r.write_shift(2,t),r}var QK=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=nC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,l){var u=[],h=fd(1);switch(l.type){case"base64":h=na(El(o));break;case"binary":h=na(o);break;case"buffer":case"array":h=o;break}Hi(h,0);var d=h.read_shift(1),f=!!(d&136),p=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,f=!0;break;case 49:p=!0,f=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,v=521;d==2&&(m=h.read_shift(2)),h.l+=3,d!=2&&(m=h.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(v=h.read_shift(2));var x=h.read_shift(2),w=l.codepage||1252;d!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(w=n[h[h.l]]),h.l+=1,h.l+=2),g&&(h.l+=36);for(var y=[],S={},T=Math.min(h.length,d==2?521:v-10-(p?264:0)),P=g?32:11;h.l<T&&h[h.l]!=13;)switch(S={},S.name=_u.utils.decode(w,h.slice(h.l,h.l+P)).replace(/[\u0000\r\n].*$/g,""),h.l+=P,S.type=String.fromCharCode(h.read_shift(1)),d!=2&&!g&&(S.offset=h.read_shift(4)),S.len=h.read_shift(1),d==2&&(S.offset=h.read_shift(2)),S.dec=h.read_shift(1),S.name.length&&y.push(S),d!=2&&(h.l+=g?13:14),S.type){case"B":(!p||S.len!=8)&&l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+S.name+":"+S.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+S.type)}if(h[h.l]!==13&&(h.l=v-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=v;var b=0,F=0;for(u[0]=[],F=0;F!=y.length;++F)u[0][F]=y[F].name;for(;m-- >0;){if(h[h.l]===42){h.l+=x;continue}for(++h.l,u[++b]=[],F=0,F=0;F!=y.length;++F){var D=h.slice(h.l,h.l+y[F].len);h.l+=y[F].len,Hi(D,0);var M=_u.utils.decode(w,D);switch(y[F].type){case"C":M.trim().length&&(u[b][F]=M.replace(/\s+$/,""));break;case"D":M.length===8?u[b][F]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):u[b][F]=M;break;case"F":u[b][F]=parseFloat(M.trim());break;case"+":case"I":u[b][F]=g?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":u[b][F]=!0;break;case"N":case"F":u[b][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[b][F]="##MEMO##"+(g?parseInt(M.trim(),10):D.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(u[b][F]=+M||0);break;case"@":u[b][F]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":u[b][F]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":u[b][F]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[b][F]=-D.read_shift(-8,"f");break;case"B":if(p&&y[F].len==8){u[b][F]=D.read_shift(8,"f");break}case"G":case"P":D.l+=y[F].len;break;case"0":if(y[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[F].type)}}}if(d!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=y,u}function r(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var h=kp(t(o,u),u);return h["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,h}function i(o,l){try{return Sd(r(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&yg(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=ci(),d=Dw(o,{header:1,raw:!0,cellDates:!0}),f=d[0],p=d.slice(1),g=o["!cols"]||[],m=0,v=0,x=0,w=1;for(m=0;m<f.length;++m){if(((g[m]||{}).DBF||{}).name){f[m]=g[m].DBF.name,++x;continue}if(f[m]!=null){if(++x,typeof f[m]=="number"&&(f[m]=f[m].toString(10)),typeof f[m]!="string")throw new Error("DBF Invalid column name "+f[m]+" |"+typeof f[m]+"|");if(f.indexOf(f[m])!==m){for(v=0;v<1024;++v)if(f.indexOf(f[m]+"_"+v)==-1){f[m]+="_"+v;break}}}}var y=Lt(o["!ref"]),S=[],T=[],P=[];for(m=0;m<=y.e.c-y.s.c;++m){var b="",F="",D=0,M=[];for(v=0;v<p.length;++v)p[v][m]!=null&&M.push(p[v][m]);if(M.length==0||f[m]==null){S[m]="?";continue}for(v=0;v<M.length;++v){switch(typeof M[v]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=M[v]instanceof Date?"D":"C";break;default:F="C"}D=Math.max(D,String(M[v]).length),b=b&&b!=F?"C":F}D>250&&(D=250),F=((g[m]||{}).DBF||{}).type,F=="C"&&g[m].DBF.len>D&&(D=g[m].DBF.len),b=="B"&&F=="N"&&(b="N",P[m]=g[m].DBF.dec,D=g[m].DBF.len),T[m]=b=="C"||F=="N"?D:s[b]||0,w+=T[m],S[m]=b}var W=h.next(32);for(W.write_shift(4,318902576),W.write_shift(4,p.length),W.write_shift(2,296+32*x),W.write_shift(2,w),m=0;m<4;++m)W.write_shift(4,0);for(W.write_shift(4,0|(+e[F3]||3)<<8),m=0,v=0;m<f.length;++m)if(f[m]!=null){var G=h.next(32),q=(f[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,q,"sbcs"),G.write_shift(1,S[m]=="?"?"C":S[m],"sbcs"),G.write_shift(4,v),G.write_shift(1,T[m]||s[S[m]]||0),G.write_shift(1,P[m]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),v+=T[m]||s[S[m]]||0}var J=h.next(264);for(J.write_shift(4,13),m=0;m<65;++m)J.write_shift(4,0);for(m=0;m<p.length;++m){var ae=h.next(w);for(ae.write_shift(1,0),v=0;v<f.length;++v)if(f[v]!=null)switch(S[v]){case"L":ae.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":ae.write_shift(8,p[m][v]||0,"f");break;case"N":var ie="0";for(typeof p[m][v]=="number"&&(ie=p[m][v].toFixed(P[v]||0)),x=0;x<T[v]-ie.length;++x)ae.write_shift(1,32);ae.write_shift(1,ie,"sbcs");break;case"D":p[m][v]?(ae.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),ae.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),ae.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):ae.write_shift(8,"00000000","sbcs");break;case"C":var K=String(p[m][v]!=null?p[m][v]:"").slice(0,T[v]);for(ae.write_shift(1,K,"sbcs"),x=0;x<T[v]-K.length;++x)ae.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}}(),JK=function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+lr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(f,p){var g=n[p];return typeof g=="number"?hR(g):g},r=function(f,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?f:hR(m)};n["|"]=254;function i(f,p){switch(p.type){case"base64":return s(El(f),p);case"binary":return s(f,p);case"buffer":return s(at&&Buffer.isBuffer(f)?f.toString("binary"):D1(f),p);case"array":return s(YE(f),p)}throw new Error("Unrecognized type "+p.type)}function s(f,p){var g=f.split(/[\n\r]+/),m=-1,v=-1,x=0,w=0,y=[],S=[],T=null,P={},b=[],F=[],D=[],M=0,W;for(+p.codepage>=0&&yg(+p.codepage);x!==g.length;++x){M=0;var G=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),q=G.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),J=q[0],ae;if(G.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&S.push(G.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,K=!1,Y=!1,H=!1,X=-1,Z=-1;for(w=1;w<q.length;++w)switch(q[w].charAt(0)){case"A":break;case"X":v=parseInt(q[w].slice(1))-1,K=!0;break;case"Y":for(m=parseInt(q[w].slice(1))-1,K||(v=0),W=y.length;W<=m;++W)y[W]=[];break;case"K":ae=q[w].slice(1),ae.charAt(0)==='"'?ae=ae.slice(1,ae.length-1):ae==="TRUE"?ae=!0:ae==="FALSE"?ae=!1:isNaN(ul(ae))?isNaN(Eg(ae).getDate())||(ae=$r(ae)):(ae=ul(ae),T!==null&&z3(T)&&(ae=X3(ae))),ie=!0;break;case"E":H=!0;var N=qq(q[w].slice(1),{r:m,c:v});y[m][v]=[y[m][v],N];break;case"S":Y=!0,y[m][v]=[y[m][v],"S5S"];break;case"G":break;case"R":X=parseInt(q[w].slice(1))-1;break;case"C":Z=parseInt(q[w].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+G)}if(ie&&(y[m][v]&&y[m][v].length==2?y[m][v][0]=ae:y[m][v]=ae,T=null),Y){if(H)throw new Error("SYLK shared formula cannot have own formula");var B=X>-1&&y[X][Z];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");y[m][v][1]=Qq(B[1],{r:m-X,c:v-Z})}break;case"F":var U=0;for(w=1;w<q.length;++w)switch(q[w].charAt(0)){case"X":v=parseInt(q[w].slice(1))-1,++U;break;case"Y":for(m=parseInt(q[w].slice(1))-1,W=y.length;W<=m;++W)y[W]=[];break;case"M":M=parseInt(q[w].slice(1))/20;break;case"F":break;case"G":break;case"P":T=S[parseInt(q[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=q[w].slice(1).split(" "),W=parseInt(D[0],10);W<=parseInt(D[1],10);++W)M=parseInt(D[2],10),F[W-1]=M===0?{hidden:!0}:{wch:M},pC(F[W-1]);break;case"C":v=parseInt(q[w].slice(1))-1,F[v]||(F[v]={});break;case"R":m=parseInt(q[w].slice(1))-1,b[m]||(b[m]={}),M>0?(b[m].hpt=M,b[m].hpx=IB(M)):M===0&&(b[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+G)}U<1&&(T=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+G)}}return b.length>0&&(P["!rows"]=b),F.length>0&&(P["!cols"]=F),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,P]}function a(f,p){var g=i(f,p),m=g[0],v=g[1],x=kp(m,p);return lr(v).forEach(function(w){x[w]=v[w]}),x}function o(f,p){return Sd(a(f,p),p)}function l(f,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(f.t){case"n":v+=f.v||0,f.f&&!f.F&&(v+=";E"+gC(f.f,{r:g,c:m}));break;case"b":v+=f.v?"TRUE":"FALSE";break;case"e":v+=f.w||f.v;break;case"d":v+='"'+(f.w||f.v)+'"';break;case"s":v+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(f,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Pw(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Rw(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&f.push(v)})}function h(f,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*Fw(g.hpx)+";"),v.length>2&&f.push(v+"R"+(m+1))})}function d(f,p){var g=["ID;PWXL;N;E"],m=[],v=Lt(f["!ref"]),x,w=Array.isArray(f),y=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),f["!cols"]&&u(g,f["!cols"]),f["!rows"]&&h(g,f["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var S=v.s.r;S<=v.e.r;++S)for(var T=v.s.c;T<=v.e.c;++T){var P=mt({r:S,c:T});x=w?(f[S]||[])[T]:f[P],!(!x||x.v==null&&(!x.f||x.F))&&m.push(l(x,f,S,T))}return g.join(y)+y+m.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:a,from_sheet:d}}(),ZK=function(){function n(s,a){switch(a.type){case"base64":return e(El(s),a);case"binary":return e(s,a);case"buffer":return e(at&&Buffer.isBuffer(s)?s.toString("binary"):D1(s),a);case"array":return e(YE(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,h=0,d=[];h!==o.length;++h){if(o[h].trim()==="BOT"){d[++l]=[],u=0;continue}if(!(l<0)){var f=o[h].trim().split(","),p=f[0],g=f[1];++h;for(var m=o[h]||"";(m.match(/["]/g)||[]).length&1&&h<o.length-1;)m+=`
`+o[++h];switch(m=m.trim(),+p){case-1:if(m==="BOT"){d[++l]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[l][u]=!0:m==="FALSE"?d[l][u]=!1:isNaN(ul(g))?isNaN(Eg(g).getDate())?d[l][u]=g:d[l][u]=$r(g):d[l][u]=ul(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[l][u++]=m!==""?m:null;break}if(m==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function t(s,a){return kp(n(s,a),a)}function r(s,a){return Sd(t(s,a),a)}var i=function(){var s=function(l,u,h,d,f){l.push(u),l.push(h+","+d),l.push('"'+f.replace(/"/g,'""')+'"')},a=function(l,u,h,d){l.push(u+","+h),l.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var u=[],h=Lt(l["!ref"]),d,f=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,h.e.r-h.s.r+1,""),s(u,"TUPLES",0,h.e.c-h.s.c+1,""),s(u,"DATA",0,0,"");for(var p=h.s.r;p<=h.e.r;++p){a(u,-1,0,"BOT");for(var g=h.s.c;g<=h.e.c;++g){var m=mt({r:p,c:g});if(d=f?(l[p]||[])[g]:l[m],!d){a(u,1,0,"");continue}switch(d.t){case"n":var v=d.w;!v&&d.v!=null&&(v=d.v),v==null?d.f&&!d.F?a(u,1,0,"="+d.f):a(u,1,0,""):a(u,0,v,"V");break;case"b":a(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=su(d.z||cn[14],hi($r(d.v)))),a(u,0,d.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var x=`\r
`,w=u.join(x);return w}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),RB=function(){function n(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(d,f){for(var p=d.split(`
`),g=-1,m=-1,v=0,x=[];v!==p.length;++v){var w=p[v].trim().split(":");if(w[0]==="cell"){var y=jn(w[1]);if(x.length<=y.r)for(g=x.length;g<=y.r;++g)x[g]||(x[g]=[]);switch(g=y.r,m=y.c,w[2]){case"t":x[g][m]=n(w[3]);break;case"v":x[g][m]=+w[3];break;case"vtf":var S=w[w.length-1];case"vtc":switch(w[3]){case"nl":x[g][m]=!!+w[4];break;default:x[g][m]=+w[4];break}w[2]=="vtf"&&(x[g][m]=[x[g][m],S])}}}return f&&f.sheetRows&&(x=x.slice(0,f.sheetRows)),x}function r(d,f){return kp(t(d,f),f)}function i(d,f){return Sd(r(d,f),f)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var f=[],p=[],g,m="",v=Qi(d["!ref"]),x=Array.isArray(d),w=v.s.r;w<=v.e.r;++w)for(var y=v.s.c;y<=v.e.c;++y)if(m=mt({r:w,c:y}),g=x?(d[w]||[])[y]:d[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(e(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=e(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var S=hi($r(g.v));p[2]="vtc",p[3]="nd",p[4]=""+S,p[5]=g.w||su(g.z||cn[14],S);break;case"e":continue}f.push(p.join(":"))}return f.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function h(d){return[s,a,o,a,u(d),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}}(),eq=function(){function n(h,d,f,p,g){g.raw?d[f][p]=h:h===""||(h==="TRUE"?d[f][p]=!0:h==="FALSE"?d[f][p]=!1:isNaN(ul(h))?isNaN(Eg(h).getDate())?d[f][p]=h:d[f][p]=$r(h):d[f][p]=ul(h))}function e(h,d){var f=d||{},p=[];if(!h||h.length===0)return p;for(var g=h.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,x=0,w=0;w<=m;++w)x=g[w].indexOf(" "),x==-1?x=g[w].length:x++,v=Math.max(v,x);for(w=0;w<=m;++w){p[w]=[];var y=0;for(n(g[w].slice(0,v).trim(),p,w,y,f),y=1;y<=(g[w].length-v)/10+1;++y)n(g[w].slice(v+(y-1)*10,v+y*10).trim(),p,w,y,f)}return f.sheetRows&&(p=p.slice(0,f.sheetRows)),p}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var d={},f=!1,p=0,g=0;p<h.length;++p)(g=h.charCodeAt(p))==34?f=!f:!f&&g in t&&(d[g]=(d[g]||0)+1);g=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p]);if(!g.length){d=r;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&g.push([d[p],p])}return g.sort(function(m,v){return m[0]-v[0]||r[m[1]]-r[v[1]]}),t[g.pop()[1]]||44}function s(h,d){var f=d||{},p="",g=f.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(p=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(p=h.charAt(4),h=h.slice(6)):p=i(h.slice(0,1024)):f&&f.FS?p=f.FS:p=i(h.slice(0,1024));var v=0,x=0,w=0,y=0,S=0,T=p.charCodeAt(0),P=!1,b=0,F=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var D=f.dateNF!=null?gY(f.dateNF):null;function M(){var W=h.slice(y,S),G={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)G.t="z";else if(f.raw)G.t="s",G.v=W;else if(W.trim().length===0)G.t="s",G.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(G.t="s",G.v=W.slice(2,-1).replace(/""/g,'"')):Jq(W)?(G.t="n",G.f=W.slice(1)):(G.t="s",G.v=W);else if(W=="TRUE")G.t="b",G.v=!0;else if(W=="FALSE")G.t="b",G.v=!1;else if(!isNaN(w=ul(W)))G.t="n",f.cellText!==!1&&(G.w=W),G.v=w;else if(!isNaN(Eg(W).getDate())||D&&W.match(D)){G.z=f.dateNF||cn[14];var q=0;D&&W.match(D)&&(W=vY(W,f.dateNF,W.match(D)||[]),q=1),f.cellDates?(G.t="d",G.v=$r(W,q)):(G.t="n",G.v=hi($r(W,q))),f.cellText!==!1&&(G.w=su(G.z,G.v instanceof Date?hi(G.v):G.v)),f.cellNF||delete G.z}else G.t="s",G.v=W;if(G.t=="z"||(f.dense?(g[v]||(g[v]=[]),g[v][x]=G):g[mt({c:x,r:v})]=G),y=S+1,F=h.charCodeAt(y),m.e.c<x&&(m.e.c=x),m.e.r<v&&(m.e.r=v),b==T)++x;else if(x=0,++v,f.sheetRows&&f.sheetRows<=v)return!0}e:for(;S<h.length;++S)switch(b=h.charCodeAt(S)){case 34:F===34&&(P=!P);break;case T:case 10:case 13:if(!P&&M())break e;break}return S-y>0&&M(),g["!ref"]=xn(m),g}function a(h,d){return!(d&&d.PRN)||d.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,d):kp(e(h,d),d)}function o(h,d){var f="",p=d.type=="string"?[0,0,0,0]:dte(h,d);switch(d.type){case"base64":f=El(h);break;case"binary":f=h;break;case"buffer":d.codepage==65001?f=h.toString("utf8"):d.codepage&&typeof _u<"u"?f=_u.utils.decode(d.codepage,h):f=at&&Buffer.isBuffer(h)?h.toString("binary"):D1(h);break;case"array":f=YE(h);break;case"string":f=h;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?f=Um(f.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?f=Um(f):d.type=="binary"&&typeof _u<"u"&&d.codepage&&(f=_u.utils.decode(d.codepage,_u.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?RB.to_sheet(d.type=="string"?f:Um(f),d):a(f,d)}function l(h,d){return Sd(o(h,d),d)}function u(h){for(var d=[],f=Lt(h["!ref"]),p,g=Array.isArray(h),m=f.s.r;m<=f.e.r;++m){for(var v=[],x=f.s.c;x<=f.e.c;++x){var w=mt({r:m,c:x});if(p=g?(h[m]||[])[x]:h[w],!p||p.v==null){v.push("          ");continue}for(var y=(p.w||(Sl(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";v.push(y+(x===0?" ":""))}d.push(v.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),$R=function(){function n(N,B,U){if(N){Hi(N,N.l||0);for(var V=U.Enum||X;N.l<N.length;){var te=N.read_shift(2),Q=V[te]||V[65535],he=N.read_shift(2),me=N.l+he,ce=Q.f&&Q.f(N,he,U);if(N.l=me,B(ce,Q,te))return}}}function e(N,B){switch(B.type){case"base64":return t(na(El(N)),B);case"binary":return t(na(N),B);case"buffer":case"array":return t(N,B)}throw"Unsupported type "+B.type}function t(N,B){if(!N)return N;var U=B||{},V=U.dense?[]:{},te="Sheet1",Q="",he=0,me={},ce=[],we=[],Te={s:{r:0,c:0},e:{r:0,c:0}},Qe=U.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)U.Enum=X,n(N,function(_e,Pn,cr){switch(cr){case 0:U.vers=_e,_e>=4096&&(U.qpro=!0);break;case 6:Te=_e;break;case 204:_e&&(Q=_e);break;case 222:Q=_e;break;case 15:case 51:U.qpro||(_e[1].v=_e[1].v.slice(1));case 13:case 14:case 16:cr==14&&(_e[2]&112)==112&&(_e[2]&15)>1&&(_e[2]&15)<15&&(_e[1].z=U.dateNF||cn[14],U.cellDates&&(_e[1].t="d",_e[1].v=X3(_e[1].v))),U.qpro&&_e[3]>he&&(V["!ref"]=xn(Te),me[te]=V,ce.push(te),V=U.dense?[]:{},Te={s:{r:0,c:0},e:{r:0,c:0}},he=_e[3],te=Q||"Sheet"+(he+1),Q="");var fa=U.dense?(V[_e[0].r]||[])[_e[0].c]:V[mt(_e[0])];if(fa){fa.t=_e[1].t,fa.v=_e[1].v,_e[1].z!=null&&(fa.z=_e[1].z),_e[1].f!=null&&(fa.f=_e[1].f);break}U.dense?(V[_e[0].r]||(V[_e[0].r]=[]),V[_e[0].r][_e[0].c]=_e[1]):V[mt(_e[0])]=_e[1];break}},U);else if(N[2]==26||N[2]==14)U.Enum=Z,N[2]==14&&(U.qpro=!0,N.l=0),n(N,function(_e,Pn,cr){switch(cr){case 204:te=_e;break;case 22:_e[1].v=_e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(_e[3]>he&&(V["!ref"]=xn(Te),me[te]=V,ce.push(te),V=U.dense?[]:{},Te={s:{r:0,c:0},e:{r:0,c:0}},he=_e[3],te="Sheet"+(he+1)),Qe>0&&_e[0].r>=Qe)break;U.dense?(V[_e[0].r]||(V[_e[0].r]=[]),V[_e[0].r][_e[0].c]=_e[1]):V[mt(_e[0])]=_e[1],Te.e.c<_e[0].c&&(Te.e.c=_e[0].c),Te.e.r<_e[0].r&&(Te.e.r=_e[0].r);break;case 27:_e[14e3]&&(we[_e[14e3][0]]=_e[14e3][1]);break;case 1537:we[_e[0]]=_e[1],_e[0]==he&&(te=_e[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(V["!ref"]=xn(Te),me[Q||te]=V,ce.push(Q||te),!we.length)return{SheetNames:ce,Sheets:me};for(var Oe={},$n=[],it=0;it<we.length;++it)me[ce[it]]?($n.push(we[it]||ce[it]),Oe[we[it]]=me[we[it]]||me[ce[it]]):($n.push(we[it]),Oe[we[it]]={"!ref":"A1"});return{SheetNames:$n,Sheets:Oe}}function r(N,B){var U=B||{};if(+U.codepage>=0&&yg(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var V=ci(),te=Lt(N["!ref"]),Q=Array.isArray(N),he=[];ye(V,0,s(1030)),ye(V,6,l(te));for(var me=Math.min(te.e.r,8191),ce=te.s.r;ce<=me;++ce)for(var we=sr(ce),Te=te.s.c;Te<=te.e.c;++Te){ce===te.s.r&&(he[Te]=Ar(Te));var Qe=he[Te]+we,Oe=Q?(N[ce]||[])[Te]:N[Qe];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")(Oe.v|0)==Oe.v&&Oe.v>=-32768&&Oe.v<=32767?ye(V,13,p(ce,Te,Oe.v)):ye(V,14,m(ce,Te,Oe.v));else{var $n=Sl(Oe);ye(V,15,d(ce,Te,$n.slice(0,239)))}}return ye(V,1),V.end()}function i(N,B){var U=B||{};if(+U.codepage>=0&&yg(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var V=ci();ye(V,0,a(N));for(var te=0,Q=0;te<N.SheetNames.length;++te)(N.Sheets[N.SheetNames[te]]||{})["!ref"]&&ye(V,27,H(N.SheetNames[te],Q++));var he=0;for(te=0;te<N.SheetNames.length;++te){var me=N.Sheets[N.SheetNames[te]];if(!(!me||!me["!ref"])){for(var ce=Lt(me["!ref"]),we=Array.isArray(me),Te=[],Qe=Math.min(ce.e.r,8191),Oe=ce.s.r;Oe<=Qe;++Oe)for(var $n=sr(Oe),it=ce.s.c;it<=ce.e.c;++it){Oe===ce.s.r&&(Te[it]=Ar(it));var _e=Te[it]+$n,Pn=we?(me[Oe]||[])[it]:me[_e];if(!(!Pn||Pn.t=="z"))if(Pn.t=="n")ye(V,23,M(Oe,it,he,Pn.v));else{var cr=Sl(Pn);ye(V,22,b(Oe,it,he,cr.slice(0,239)))}}++he}}return ye(V,1),V.end()}function s(N){var B=oe(2);return B.write_shift(2,N),B}function a(N){var B=oe(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var U=0,V=0,te=0,Q=0;Q<N.SheetNames.length;++Q){var he=N.SheetNames[Q],me=N.Sheets[he];if(!(!me||!me["!ref"])){++te;var ce=Qi(me["!ref"]);U<ce.e.r&&(U=ce.e.r),V<ce.e.c&&(V=ce.e.c)}}return U>8191&&(U=8191),B.write_shift(2,U),B.write_shift(1,te),B.write_shift(1,V),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function o(N,B,U){var V={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&U.qpro?(V.s.c=N.read_shift(1),N.l++,V.s.r=N.read_shift(2),V.e.c=N.read_shift(1),N.l++,V.e.r=N.read_shift(2),V):(V.s.c=N.read_shift(2),V.s.r=N.read_shift(2),B==12&&U.qpro&&(N.l+=2),V.e.c=N.read_shift(2),V.e.r=N.read_shift(2),B==12&&U.qpro&&(N.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function l(N){var B=oe(8);return B.write_shift(2,N.s.c),B.write_shift(2,N.s.r),B.write_shift(2,N.e.c),B.write_shift(2,N.e.r),B}function u(N,B,U){var V=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(V[0].c=N.read_shift(1),V[3]=N.read_shift(1),V[0].r=N.read_shift(2),N.l+=2):(V[2]=N.read_shift(1),V[0].c=N.read_shift(2),V[0].r=N.read_shift(2)),V}function h(N,B,U){var V=N.l+B,te=u(N,B,U);if(te[1].t="s",U.vers==20768){N.l++;var Q=N.read_shift(1);return te[1].v=N.read_shift(Q,"utf8"),te}return U.qpro&&N.l++,te[1].v=N.read_shift(V-N.l,"cstr"),te}function d(N,B,U){var V=oe(7+U.length);V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,N),V.write_shift(1,39);for(var te=0;te<V.length;++te){var Q=U.charCodeAt(te);V.write_shift(1,Q>=128?95:Q)}return V.write_shift(1,0),V}function f(N,B,U){var V=u(N,B,U);return V[1].v=N.read_shift(2,"i"),V}function p(N,B,U){var V=oe(7);return V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,N),V.write_shift(2,U,"i"),V}function g(N,B,U){var V=u(N,B,U);return V[1].v=N.read_shift(8,"f"),V}function m(N,B,U){var V=oe(13);return V.write_shift(1,255),V.write_shift(2,B),V.write_shift(2,N),V.write_shift(8,U,"f"),V}function v(N,B,U){var V=N.l+B,te=u(N,B,U);if(te[1].v=N.read_shift(8,"f"),U.qpro)N.l=V;else{var Q=N.read_shift(2);S(N.slice(N.l,N.l+Q),te),N.l+=Q}return te}function x(N,B,U){var V=B&32768;return B&=-32769,B=(V?N:0)+(B>=8192?B-16384:B),(V?"":"$")+(U?Ar(B):sr(B))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function S(N,B){Hi(N,0);for(var U=[],V=0,te="",Q="",he="",me="";N.l<N.length;){var ce=N[N.l++];switch(ce){case 0:U.push(N.read_shift(8,"f"));break;case 1:Q=x(B[0].c,N.read_shift(2),!0),te=x(B[0].r,N.read_shift(2),!1),U.push(Q+te);break;case 2:{var we=x(B[0].c,N.read_shift(2),!0),Te=x(B[0].r,N.read_shift(2),!1);Q=x(B[0].c,N.read_shift(2),!0),te=x(B[0].r,N.read_shift(2),!1),U.push(we+Te+":"+Q+te)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(N.read_shift(2));break;case 6:{for(var Qe="";ce=N[N.l++];)Qe+=String.fromCharCode(ce);U.push('"'+Qe.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:me=U.pop(),he=U.pop(),U.push(["AND","OR"][ce-20]+"("+he+","+me+")");break;default:if(ce<32&&y[ce])me=U.pop(),he=U.pop(),U.push(he+y[ce]+me);else if(w[ce]){if(V=w[ce][1],V==69&&(V=N[N.l++]),V>U.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+U.join("|")+"|");return}var Oe=U.slice(-V);U.length-=V,U.push(w[ce][0]+"("+Oe.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}U.length==1?B[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function T(N){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=N.read_shift(2),B[3]=N[N.l++],B[0].c=N[N.l++],B}function P(N,B){var U=T(N);return U[1].t="s",U[1].v=N.read_shift(B-4,"cstr"),U}function b(N,B,U,V){var te=oe(6+V.length);te.write_shift(2,N),te.write_shift(1,U),te.write_shift(1,B),te.write_shift(1,39);for(var Q=0;Q<V.length;++Q){var he=V.charCodeAt(Q);te.write_shift(1,he>=128?95:he)}return te.write_shift(1,0),te}function F(N,B){var U=T(N);U[1].v=N.read_shift(2);var V=U[1].v>>1;if(U[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return U[1].v=V,U}function D(N,B){var U=T(N),V=N.read_shift(4),te=N.read_shift(4),Q=N.read_shift(2);if(Q==65535)return V===0&&te===3221225472?(U[1].t="e",U[1].v=15):V===0&&te===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var he=Q&32768;return Q=(Q&32767)-16446,U[1].v=(1-he*2)*(te*Math.pow(2,Q+32)+V*Math.pow(2,Q)),U}function M(N,B,U,V){var te=oe(14);if(te.write_shift(2,N),te.write_shift(1,U),te.write_shift(1,B),V==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var Q=0,he=0,me=0,ce=0;return V<0&&(Q=1,V=-V),he=Math.log2(V)|0,V/=Math.pow(2,he-31),ce=V>>>0,ce&2147483648||(V/=2,++he,ce=V>>>0),V-=ce,ce|=2147483648,ce>>>=0,V*=Math.pow(2,32),me=V>>>0,te.write_shift(4,me),te.write_shift(4,ce),he+=16383+(Q?32768:0),te.write_shift(2,he),te}function W(N,B){var U=D(N);return N.l+=B-14,U}function G(N,B){var U=T(N),V=N.read_shift(4);return U[1].v=V>>6,U}function q(N,B){var U=T(N),V=N.read_shift(8,"f");return U[1].v=V,U}function J(N,B){var U=q(N);return N.l+=B-10,U}function ae(N,B){return N[N.l+B-1]==0?N.read_shift(B,"cstr"):""}function ie(N,B){var U=N[N.l++];U>B-1&&(U=B-1);for(var V="";V.length<U;)V+=String.fromCharCode(N[N.l++]);return V}function K(N,B,U){if(!(!U.qpro||B<21)){var V=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var te=N.read_shift(B-21,"cstr");return[V,te]}}function Y(N,B){for(var U={},V=N.l+B;N.l<V;){var te=N.read_shift(2);if(te==14e3){for(U[te]=[0,""],U[te][0]=N.read_shift(2);N[N.l];)U[te][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return U}function H(N,B){var U=oe(5+N.length);U.write_shift(2,14e3),U.write_shift(2,B);for(var V=0;V<N.length;++V){var te=N.charCodeAt(V);U[U.l++]=te>127?95:te}return U[U.l++]=0,U}var X={0:{n:"BOF",f:TB},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ae},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ae},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),tq=/^\s|\s$|[\t\n\r]/;function FB(n,e){if(!e.bookSST)return"";var t=[wn];t[t.length]=ve("sst",null,{xmlns:Cp[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(tq)&&(s+=' xml:space="preserve"'),s+=">"+ft(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function nq(n){return[n.read_shift(4),n.read_shift(4)]}function rq(n,e){return e||(e=oe(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var iq=YY;function sq(n){var e=ci();ue(e,159,rq(n));for(var t=0;t<n.length;++t)ue(e,19,iq(n[t]));return ue(e,160),e.end()}function aq(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function NB(n){var e=0,t,r=aq(n),i=r.length+1,s,a,o,l,u;for(t=fd(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)a=t[s],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var oq=function(){function n(i,s){switch(s.type){case"base64":return e(El(i),s);case"binary":return e(i,s);case"buffer":return e(at&&Buffer.isBuffer(i)?i.toString("binary"):D1(i),s);case"array":return e(YE(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,d){Array.isArray(o)&&(o[d]=[]);for(var f=/\\\w+\b/g,p=0,g,m=-1;g=f.exec(h);){switch(g[0]){case"\\cell":var v=h.slice(p,f.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var x={v,t:"s"};Array.isArray(o)?o[d][m]=x:o[mt({r:d,c:m})]=x}break}p=f.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=xn(u),o}function t(i,s){return Sd(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=Lt(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var d=mt({r:u,c:h});o=l?(i[u]||[])[h]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Sl(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function zR(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var lq=6,hl=lq;function Pw(n){return Math.floor((n+Math.round(128/hl)/256)*hl)}function Rw(n){return Math.floor((n-5)/hl*100+.5)/100}function dT(n){return Math.round((n*hl+5)/hl*256)/256}function pC(n){n.width?(n.wpx=Pw(n.width),n.wch=Rw(n.wpx),n.MDW=hl):n.wpx?(n.wch=Rw(n.wpx),n.width=dT(n.wch),n.MDW=hl):typeof n.wch=="number"&&(n.width=dT(n.wch),n.wpx=Pw(n.width),n.MDW=hl),n.customWidth&&delete n.customWidth}var cq=96,DB=cq;function Fw(n){return n*96/DB}function IB(n){return n*DB/96}function uq(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=ve("numFmt",null,{numFmtId:r,formatCode:ft(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ve("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function hq(n){var e=[];return e[e.length]=ve("cellXfs",null),n.forEach(function(t){e[e.length]=ve("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ve("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function OB(n,e){var t=[wn,ve("styleSheet",null,{xmlns:Cp[0],"xmlns:vt":Bn.vt})],r;return n.SSF&&(r=uq(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=hq(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function dq(n,e){var t=n.read_shift(2),r=Tr(n);return[t,r]}function fq(n,e,t){t||(t=oe(6+4*e.length)),t.write_shift(2,n),Un(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function pq(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=tK(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=n.read_shift(1);a!=0&&(r.underline=a);var o=n.read_shift(1);o>0&&(r.family=o);var l=n.read_shift(1);switch(l>0&&(r.charset=l),n.l++,r.color=eK(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Tr(n),r}function mq(n,e){e||(e=oe(25+4*32)),e.write_shift(2,n.sz*20),nK(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),Cw(n.color,e);var r=0;return n.scheme=="major"&&(r=1),n.scheme=="minor"&&(r=2),e.write_shift(1,r),Un(n.name,e),e.length>e.l?e.slice(0,e.l):e}var gq=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],s_,vq=oo;function WR(n,e){e||(e=oe(4*3+8*7+16*1)),s_||(s_=nC(gq));var t=s_[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(Cw({auto:1},e),Cw({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function xq(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function MB(n,e,t){t||(t=oe(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function tm(n,e){return e||(e=oe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var yq=oo;function wq(n,e){return e||(e=oe(51)),e.write_shift(1,0),tm(null,e),tm(null,e),tm(null,e),tm(null,e),tm(null,e),e.length>e.l?e.slice(0,e.l):e}function Eq(n,e){return e||(e=oe(12+4*10)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,+n.builtinId),e.write_shift(1,0),bw(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Sq(n,e,t){var r=oe(2052);return r.write_shift(4,n),bw(e,r),bw(t,r),r.length>r.l?r.slice(0,r.l):r}function _q(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(ue(n,615,oa(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ue(n,44,fq(i,e[i]))}),ue(n,616))}}function Aq(n){var e=1;ue(n,611,oa(e)),ue(n,43,mq({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ue(n,612)}function Tq(n){var e=2;ue(n,603,oa(e)),ue(n,45,WR({patternType:"none"})),ue(n,45,WR({patternType:"gray125"})),ue(n,604)}function bq(n){var e=1;ue(n,613,oa(e)),ue(n,46,wq()),ue(n,614)}function Cq(n){var e=1;ue(n,626,oa(e)),ue(n,47,MB({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ue(n,627)}function kq(n,e){ue(n,617,oa(e.length)),e.forEach(function(t){ue(n,47,MB(t,0))}),ue(n,618)}function Pq(n){var e=1;ue(n,619,oa(e)),ue(n,48,Eq({xfId:0,builtinId:0,name:"Normal"})),ue(n,620)}function Rq(n){var e=0;ue(n,505,oa(e)),ue(n,506)}function Fq(n){var e=0;ue(n,508,Sq(e,"TableStyleMedium9","PivotStyleMedium4")),ue(n,509)}function Nq(n,e){var t=ci();return ue(t,278),_q(t,n.SSF),Aq(t),Tq(t),bq(t),Cq(t),kq(t,e.cellXfs),Pq(t),Rq(t),Fq(t),ue(t,279),t.end()}function LB(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[wn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Dq(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Tr(n)}}function Iq(n){var e=oe(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Un(n.name,e),e.slice(0,e.l)}function Oq(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function Mq(n){var e=oe(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function Lq(n,e){var t=oe(8+2*e.length);return t.write_shift(4,n),Un(e,t),t.slice(0,t.l)}function Bq(n){return n.l+=4,n.read_shift(4)!=0}function jq(n,e){var t=oe(8);return t.write_shift(4,n),t.write_shift(4,1),t}function Uq(){var n=ci();return ue(n,332),ue(n,334,oa(1)),ue(n,335,Iq({name:"XLDAPR",version:12e4,flags:3496657072})),ue(n,336),ue(n,339,Lq(1,"XLDAPR")),ue(n,52),ue(n,35,oa(514)),ue(n,4096,oa(0)),ue(n,4097,xs(1)),ue(n,36),ue(n,53),ue(n,340),ue(n,337,jq(1)),ue(n,51,Mq([[1,0]])),ue(n,338),ue(n,333),n.end()}function BB(){var n=[wn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function Hq(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=mt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var of=1024;function jB(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ve("xml",null,{"xmlns:v":zi.v,"xmlns:o":zi.o,"xmlns:x":zi.x,"xmlns:mv":zi.mv}).replace(/\/>/,">"),ve("o:shapelayout",ve("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),ve("v:shapetype",[ve("v:stroke",null,{joinstyle:"miter"}),ve("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];of<n*1e3;)of+=1e3;return e.forEach(function(s){var a=jn(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ve("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ve("v:fill",l,o),h={on:"t",obscured:"t"};++of,i=i.concat(["<v:shape"+_g({id:"_x0000_s"+of,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ve("v:shadow",null,h),ve("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",tr("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),tr("x:AutoFill","False"),tr("x:Row",String(a.r)),tr("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function UB(n){var e=[wn,ve("comments",null,{xmlns:Cp[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=ft(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=t.indexOf(ft(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(tr("t",ft(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(tr("t",ft(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function $q(n,e,t){var r=[wn,ve("ThreadedComments",null,{xmlns:Bn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(ve("threadedComment",tr("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function zq(n){var e=[wn,ve("personList",null,{xmlns:Bn.TCMNT,"xmlns:x":Cp[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(ve("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Wq(n){var e={};e.iauthor=n.read_shift(4);var t=bd(n);return e.rfx=t.s,e.ref=mt(t.s),n.l+=16,e}function Vq(n,e){return e==null&&(e=oe(36)),e.write_shift(4,n[1].iauthor),Pp(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Gq=Tr;function Xq(n){return Un(n.slice(0,54))}function Yq(n){var e=ci(),t=[];return ue(e,628),ue(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),ue(e,632,Xq(i.a)))})}),ue(e,631),ue(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:jn(r[0]),e:jn(r[0])};ue(e,635,Vq([s,i])),i.t&&i.t.length>0&&ue(e,637,qY(i)),ue(e,636),delete i.iauthor})}),ue(e,634),ue(e,629),e.end()}function Kq(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Et.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var HB=["xlsb","xlsm","xlam","biff8","xla"],qq=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,l?u+=e.r:--u,i+(o?"":"$")+Ar(h)+(l?"":"$")+sr(u)}return function(i,s){return e=s,i.replace(n,t)}}(),mC=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,gC=function(){return function(e,t){return e.replace(mC,function(r,i,s,a,o,l){var u=cC(a)-(s?0:t.c),h=lC(l)-(o?0:t.r),d=h==0?"":o?h+1:"["+h+"]",f=u==0?"":s?u+1:"["+u+"]";return i+"R"+d+"C"+f})}}();function Qq(n,e){return n.replace(mC,function(t,r,i,s,a,o){return r+(i=="$"?i+s:Ar(cC(s)+e.c))+(a=="$"?a+o:sr(lC(o)+e.r))})}function Jq(n){return n.length!=1}function pn(n){n.l+=1}function au(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function $B(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return zB(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),a=au(n),o=au(n);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function zB(n){var e=au(n),t=au(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function Zq(n,e,t){if(t.biff<8)return zB(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=au(n),a=au(n);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function WB(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return eQ(n);var r=n.read_shift(t&&t.biff==12?4:2),i=au(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function eQ(n){var e=au(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function tQ(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function nQ(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return rQ(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function rQ(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function iQ(n,e,t){var r=(n[n.l++]&96)>>5,i=$B(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function sQ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var a=$B(n,s,t);return[r,i,a]}function aQ(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function oQ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function lQ(n,e,t){var r=(n[n.l++]&96)>>5,i=Zq(n,e-1,t);return[r,i]}function cQ(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function VR(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function uQ(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function hQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function dQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function fQ(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function pQ(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function VB(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function mQ(n){return n.read_shift(2),VB(n)}function gQ(n){return n.read_shift(2),VB(n)}function vQ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=WB(n,0,t);return[r,i]}function xQ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=nQ(n,0,t);return[r,i]}function yQ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=WB(n,0,t);return[r,i,s]}function wQ(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[wJ[i],YB[i],r]}function EQ(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:SQ(n);return[i,(s[0]===0?YB:yJ)[s[1]]]}function SQ(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function _Q(n,e,t){n.l+=t&&t.biff==2?3:4}function AQ(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function TQ(n){return n.l++,M1[n.read_shift(1)]}function bQ(n){return n.l++,n.read_shift(2)}function CQ(n){return n.l++,n.read_shift(1)!==0}function kQ(n){return n.l++,Rp(n)}function PQ(n,e,t){return n.l++,CB(n,e-1,t)}function RQ(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=yK(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=M1[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Rp(n);break;case 2:t[1]=_K(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function FQ(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?bd:bK)(n));return i}function NQ(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=RQ(n,t.biff);return a}function DQ(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function IQ(n,e,t){if(t.biff==5)return OQ(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function OQ(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function MQ(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function LQ(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function BQ(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function jQ(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var UQ=oo,HQ=oo,$Q=oo;function L1(n,e,t){return n.l+=2,[tQ(n)]}function vC(n){return n.l+=6,[]}var zQ=L1,WQ=vC,VQ=vC,GQ=L1;function GB(n){return n.l+=2,[TB(n),n.read_shift(2)&1]}var XQ=L1,YQ=GB,KQ=vC,qQ=L1,QQ=L1,JQ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ZQ(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),a=JQ[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:r,c:i,C:s}}function eJ(n){return n.l+=2,[n.read_shift(4)]}function tJ(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function nJ(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function rJ(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function iJ(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function sJ(n){return n.l+=4,[0,0]}var GR={1:{n:"PtgExp",f:AQ},2:{n:"PtgTbl",f:$Q},3:{n:"PtgAdd",f:pn},4:{n:"PtgSub",f:pn},5:{n:"PtgMul",f:pn},6:{n:"PtgDiv",f:pn},7:{n:"PtgPower",f:pn},8:{n:"PtgConcat",f:pn},9:{n:"PtgLt",f:pn},10:{n:"PtgLe",f:pn},11:{n:"PtgEq",f:pn},12:{n:"PtgGe",f:pn},13:{n:"PtgGt",f:pn},14:{n:"PtgNe",f:pn},15:{n:"PtgIsect",f:pn},16:{n:"PtgUnion",f:pn},17:{n:"PtgRange",f:pn},18:{n:"PtgUplus",f:pn},19:{n:"PtgUminus",f:pn},20:{n:"PtgPercent",f:pn},21:{n:"PtgParen",f:pn},22:{n:"PtgMissArg",f:pn},23:{n:"PtgStr",f:PQ},26:{n:"PtgSheet",f:tJ},27:{n:"PtgEndSheet",f:nJ},28:{n:"PtgErr",f:TQ},29:{n:"PtgBool",f:CQ},30:{n:"PtgInt",f:bQ},31:{n:"PtgNum",f:kQ},32:{n:"PtgArray",f:cQ},33:{n:"PtgFunc",f:wQ},34:{n:"PtgFuncVar",f:EQ},35:{n:"PtgName",f:DQ},36:{n:"PtgRef",f:vQ},37:{n:"PtgArea",f:iQ},38:{n:"PtgMemArea",f:MQ},39:{n:"PtgMemErr",f:UQ},40:{n:"PtgMemNoMem",f:HQ},41:{n:"PtgMemFunc",f:LQ},42:{n:"PtgRefErr",f:BQ},43:{n:"PtgAreaErr",f:aQ},44:{n:"PtgRefN",f:xQ},45:{n:"PtgAreaN",f:lQ},46:{n:"PtgMemAreaN",f:rJ},47:{n:"PtgMemNoMemN",f:iJ},57:{n:"PtgNameX",f:IQ},58:{n:"PtgRef3d",f:yQ},59:{n:"PtgArea3d",f:sQ},60:{n:"PtgRefErr3d",f:jQ},61:{n:"PtgAreaErr3d",f:oQ},255:{}},aJ={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},oJ={1:{n:"PtgElfLel",f:GB},2:{n:"PtgElfRw",f:qQ},3:{n:"PtgElfCol",f:zQ},6:{n:"PtgElfRwV",f:QQ},7:{n:"PtgElfColV",f:GQ},10:{n:"PtgElfRadical",f:XQ},11:{n:"PtgElfRadicalS",f:KQ},13:{n:"PtgElfColS",f:WQ},15:{n:"PtgElfColSV",f:VQ},16:{n:"PtgElfRadicalLel",f:YQ},25:{n:"PtgList",f:ZQ},29:{n:"PtgSxName",f:eJ},255:{}},lJ={0:{n:"PtgAttrNoop",f:sJ},1:{n:"PtgAttrSemi",f:pQ},2:{n:"PtgAttrIf",f:dQ},4:{n:"PtgAttrChoose",f:uQ},8:{n:"PtgAttrGoto",f:hQ},16:{n:"PtgAttrSum",f:_Q},32:{n:"PtgAttrBaxcel",f:VR},33:{n:"PtgAttrBaxcel",f:VR},64:{n:"PtgAttrSpace",f:mQ},65:{n:"PtgAttrSpaceSemi",f:gQ},128:{n:"PtgAttrIfError",f:fQ},255:{}};function cJ(n,e,t,r){if(r.biff<8)return oo(n,e);for(var i=n.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=NQ(n,0,r),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=FQ(n,t[a][1],r),s.push(t[a][2]);break;case"PtgExp":r&&r.biff==12&&(t[a][1][1]=n.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-n.l,e!==0&&s.push(oo(n,e)),s}function uJ(n,e,t){for(var r=n.l+e,i,s,a=[];r!=n.l;)e=r-n.l,s=n[n.l],i=GR[s]||GR[aJ[s]],(s===24||s===25)&&(i=(s===24?oJ:lJ)[n[n.l+1]]),!i||!i.f?oo(n,e):a.push([i.n,i.f(n,e,t)]);return a}function hJ(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var dJ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function fJ(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function XB(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function XR(n,e,t){var r=XB(n,e,t);return r=="#REF"?r:fJ(r,t)}function xp(n,e,t,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,u,h,d=0,f=0,p,g="";if(!n[0]||!n[0][0])return"";for(var m=-1,v="",x=0,w=n[0].length;x<w;++x){var y=n[0][x];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),m>=0){switch(n[0][m][1][0]){case 0:v=ln(" ",n[0][m][1][1]);break;case 1:v=ln("\r",n[0][m][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][m][1][0])}u=u+v,m=-1}o.push(u+dJ[y[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=$m(y[1][1],a,i),o.push(zm(h,s));break;case"PtgRefN":h=t?$m(y[1][1],t,i):y[1][1],o.push(zm(h,s));break;case"PtgRef3d":d=y[1][1],h=$m(y[1][2],a,i),g=XR(r,d,i),o.push(g+"!"+zm(h,s));break;case"PtgFunc":case"PtgFuncVar":var S=y[1][0],T=y[1][1];S||(S=0),S&=127;var P=S==0?[]:o.slice(-S);o.length-=S,T==="User"&&(T=P.shift()),o.push(T+"("+P.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=FR(y[1][1],t?{s:t}:a,i),o.push(r_(p,i));break;case"PtgArea":p=FR(y[1][1],a,i),o.push(r_(p,i));break;case"PtgArea3d":d=y[1][1],p=y[1][2],g=XR(r,d,i),o.push(g+"!"+r_(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=y[1][2];var b=(r.names||[])[f-1]||(r[0]||[])[f],F=b?b.Name:"SH33TJSNAME"+String(f);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),o.push(F);break;case"PtgNameX":var D=y[1][1];f=y[1][2];var M;if(i.biff<=5)D<0&&(D=-D),r[D]&&(M=r[D][f]);else{var W="";if(((r[D]||[])[0]||[])[0]==14849||(((r[D]||[])[0]||[])[0]==1025?r[D][f]&&r[D][f].itab>0&&(W=r.SheetNames[r[D][f].itab-1]+"!"):W=r.SheetNames[f-1]+"!"),r[D]&&r[D][f])W+=r[D][f].Name;else if(r[0]&&r[0][f])W+=r[0][f].Name;else{var G=(XB(r,D,i)||"").split(";;");G[f-1]?W=G[f-1]:W+="SH33TJSERRX"}o.push(W);break}M||(M={Name:"SH33TJSERRY"}),o.push(M.Name);break;case"PtgParen":var q="(",J=")";if(m>=0){switch(v="",n[0][m][1][0]){case 2:q=ln(" ",n[0][m][1][1])+q;break;case 3:q=ln("\r",n[0][m][1][1])+q;break;case 4:J=ln(" ",n[0][m][1][1])+J;break;case 5:J=ln("\r",n[0][m][1][1])+J;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][m][1][0])}m=-1}o.push(q+o.pop()+J);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:y[1][1],r:y[1][0]};var ae={c:t.c,r:t.r};if(r.sharedf[mt(h)]){var ie=r.sharedf[mt(h)];o.push(xp(ie,a,ae,r,i))}else{var K=!1;for(l=0;l!=r.arrayf.length;++l)if(u=r.arrayf[l],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){o.push(xp(u[1],a,ae,r,i)),K=!0;break}K||o.push(y[1])}break;case"PtgArray":o.push("{"+hJ(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&Y.indexOf(n[0][x][0])==-1){y=n[0][m];var H=!0;switch(y[1][0]){case 4:H=!1;case 0:v=ln(" ",y[1][1]);break;case 5:H=!1;case 1:v=ln("\r",y[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((H?v:"")+o.pop()+(H?"":v)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function pJ(n){if(n==null){var e=oe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return pd(n);return pd(0)}function mJ(n,e,t,r,i){var s=md(e,t,i),a=pJ(n.v),o=oe(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=oe(n.bf.length),h=0;h<n.bf.length;++h)u[h]=n.bf[h];var d=er([s,a,o,u]);return d}function KE(n,e,t){var r=n.read_shift(4),i=uJ(n,r,t),s=n.read_shift(4),a=s>0?cJ(n,s,i,t):null;return[i,a]}var gJ=KE,qE=KE,vJ=KE,xJ=KE,yJ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},YB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},wJ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function EJ(n){var e="of:="+n.replace(mC,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function SJ(n){return n.replace(/\./,"!")}var Wm=typeof Map<"u";function xC(n,e,t){var r=0,i=n.length;if(t){if(Wm?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=Wm?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(Wm?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function QE(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(hl=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=Rw(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=dT(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function KB(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function pu(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){W3(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function _J(n,e,t){if(n&&n["!ref"]){var r=Lt(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function AJ(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+xn(n[t])+'"/>';return e+"</mergeCells>"}function TJ(n,e,t,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[t];try{e.Workbook&&(l=e.Workbook.Sheets[t].CodeName||l)}catch{}s=!0,a.codeName=Sg(ft(l))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),o=(o||"")+ve("outlinePr",null,u)}!s&&!o||(i[i.length]=ve("sheetPr",o,a))}var bJ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],CJ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function kJ(n){var e={sheet:1};return bJ.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),CJ.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=NB(n.password).toString(16).toUpperCase()),ve("sheetProtection",null,e)}function PJ(n){return KB(n),ve("pageMargins",null,n)}function RJ(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=ve("col",null,QE(i,r)));return t[t.length]="</cols>",t.join("")}function FJ(n,e,t,r){var i=typeof n.ref=="string"?n.ref:xn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,a=Qi(i);a.s.r==a.e.r&&(a.e.r=Qi(e["!ref"]).e.r,i=xn(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),ve("autoFilter",null,{ref:i})}function NJ(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ve("sheetViews",ve("sheetView",null,i),{})}function DJ(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,a=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=M1[n.v];break;case"d":r&&r.cellDates?i=$r(n.v,-1).toISOString():(n=di(n),n.t="n",i=""+(n.v=hi($r(n.v)))),typeof n.z>"u"&&(n.z=cn[14]);break;default:i=n.v;break}var o=tr("v",ft(i)),l={r:e},u=pu(r.cellXfs,n,r);switch(u!==0&&(l.s=u),n.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=tr("v",""+xC(r.Strings,n.v,r.revStrings)),l.t="s";break}l.t="str";break}if(n.t!=s&&(n.t=s,n.v=a),typeof n.f=="string"&&n.f){var h=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;o=ve("f",ft(n.f),h)+(n.v!=null?o:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(l.cm=1),ve("c",o,l)}function IJ(n,e,t,r){var i=[],s=[],a=Lt(n["!ref"]),o="",l,u="",h=[],d=0,f=0,p=n["!rows"],g=Array.isArray(n),m={r:u},v,x=-1;for(f=a.s.c;f<=a.e.c;++f)h[f]=Ar(f);for(d=a.s.r;d<=a.e.r;++d){for(s=[],u=sr(d),f=a.s.c;f<=a.e.c;++f){l=h[f]+u;var w=g?(n[d]||[])[f]:n[l];w!==void 0&&(o=DJ(w,l,n,e))!=null&&s.push(o)}(s.length>0||p&&p[d])&&(m={r:u},p&&p[d]&&(v=p[d],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=Fw(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level)),i[i.length]=ve("row",s.join(""),m))}if(p)for(;d<p.length;++d)p&&p[d]&&(m={r:d+1},v=p[d],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=Fw(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level),i[i.length]=ve("row","",m));return i.join("")}function qB(n,e,t,r){var i=[wn,ve("worksheet",null,{xmlns:Cp[0],"xmlns:r":Bn.r})],s=t.SheetNames[n],a=0,o="",l=t.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",h=Lt(u);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=xn(h)}r||(r={}),l["!comments"]=[];var d=[];TJ(l,t,n,e,i),i[i.length]=ve("dimension",null,{ref:u}),i[i.length]=NJ(l,e,n,t),e.sheetFormat&&(i[i.length]=ve("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=RJ(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=IJ(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=kJ(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=FJ(l["!autofilter"],l,t,n)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=AJ(l["!merges"]));var f=-1,p,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=dt(r,-1,ft(m[1].Target).replace(/#.*$/,""),rt.HLINK),p["r:id"]="rId"+g),(f=m[1].Target.indexOf("#"))>-1&&(p.location=ft(m[1].Target.slice(f+1))),m[1].Tooltip&&(p.tooltip=ft(m[1].Tooltip)),i[i.length]=ve("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=PJ(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=tr("ignoredErrors",ve("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(g=dt(r,-1,"../drawings/drawing"+(n+1)+".xml",rt.DRAW),i[i.length]=ve("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=d),l["!comments"].length>0&&(g=dt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",rt.VML),i[i.length]=ve("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function OJ(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function MJ(n,e,t){var r=oe(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=Fw(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var u={r:n,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var d=-1,f=-1,p=h<<10;p<h+1<<10;++p){u.c=p;var g=Array.isArray(t)?(t[u.r]||[])[u.c]:t[mt(u)];g&&(d<0&&(d=p),f=p)}d<0||(++o,r.write_shift(4,d),r.write_shift(4,f))}var m=r.l;return r.l=l,r.write_shift(4,o),r.l=m,r.length>r.l?r.slice(0,r.l):r}function LJ(n,e,t,r){var i=MJ(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&ue(n,0,i)}var BJ=bd,jJ=Pp;function UJ(){}function HJ(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=QY(n),t}function $J(n,e,t){t==null&&(t=oe(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return Cw({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),hB(n,t),t.slice(0,t.l)}function zJ(n){var e=Ps(n);return[e]}function WJ(n,e,t){return t==null&&(t=oe(8)),_d(e,t)}function VJ(n){var e=Ad(n);return[e]}function GJ(n,e,t){return t==null&&(t=oe(4)),Td(e,t)}function XJ(n){var e=Ps(n),t=n.read_shift(1);return[e,t,"b"]}function YJ(n,e,t){return t==null&&(t=oe(9)),_d(e,t),t.write_shift(1,n.v?1:0),t}function KJ(n){var e=Ad(n),t=n.read_shift(1);return[e,t,"b"]}function qJ(n,e,t){return t==null&&(t=oe(5)),Td(e,t),t.write_shift(1,n.v?1:0),t}function QJ(n){var e=Ps(n),t=n.read_shift(1);return[e,t,"e"]}function JJ(n,e,t){return t==null&&(t=oe(9)),_d(e,t),t.write_shift(1,n.v),t}function ZJ(n){var e=Ad(n),t=n.read_shift(1);return[e,t,"e"]}function eZ(n,e,t){return t==null&&(t=oe(8)),Td(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function tZ(n){var e=Ps(n),t=n.read_shift(4);return[e,t,"s"]}function nZ(n,e,t){return t==null&&(t=oe(12)),_d(e,t),t.write_shift(4,e.v),t}function rZ(n){var e=Ad(n),t=n.read_shift(4);return[e,t,"s"]}function iZ(n,e,t){return t==null&&(t=oe(8)),Td(e,t),t.write_shift(4,e.v),t}function sZ(n){var e=Ps(n),t=Rp(n);return[e,t,"n"]}function aZ(n,e,t){return t==null&&(t=oe(16)),_d(e,t),pd(n.v,t),t}function oZ(n){var e=Ad(n),t=Rp(n);return[e,t,"n"]}function lZ(n,e,t){return t==null&&(t=oe(12)),Td(e,t),pd(n.v,t),t}function cZ(n){var e=Ps(n),t=dB(n);return[e,t,"n"]}function uZ(n,e,t){return t==null&&(t=oe(12)),_d(e,t),fB(n.v,t),t}function hZ(n){var e=Ad(n),t=dB(n);return[e,t,"n"]}function dZ(n,e,t){return t==null&&(t=oe(8)),Td(e,t),fB(n.v,t),t}function fZ(n){var e=Ps(n),t=uC(n);return[e,t,"is"]}function pZ(n){var e=Ps(n),t=Tr(n);return[e,t,"str"]}function mZ(n,e,t){return t==null&&(t=oe(12+4*n.v.length)),_d(e,t),Un(n.v,t),t.length>t.l?t.slice(0,t.l):t}function gZ(n){var e=Ad(n),t=Tr(n);return[e,t,"str"]}function vZ(n,e,t){return t==null&&(t=oe(8+4*n.v.length)),Td(e,t),Un(n.v,t),t.length>t.l?t.slice(0,t.l):t}function xZ(n,e,t){var r=n.l+e,i=Ps(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"b"];if(t.cellFormula){n.l+=2;var o=qE(n,r-n.l,t);a[3]=xp(o,null,i,t.supbooks,t)}else n.l=r;return a}function yZ(n,e,t){var r=n.l+e,i=Ps(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"e"];if(t.cellFormula){n.l+=2;var o=qE(n,r-n.l,t);a[3]=xp(o,null,i,t.supbooks,t)}else n.l=r;return a}function wZ(n,e,t){var r=n.l+e,i=Ps(n);i.r=t["!row"];var s=Rp(n),a=[i,s,"n"];if(t.cellFormula){n.l+=2;var o=qE(n,r-n.l,t);a[3]=xp(o,null,i,t.supbooks,t)}else n.l=r;return a}function EZ(n,e,t){var r=n.l+e,i=Ps(n);i.r=t["!row"];var s=Tr(n),a=[i,s,"str"];if(t.cellFormula){n.l+=2;var o=qE(n,r-n.l,t);a[3]=xp(o,null,i,t.supbooks,t)}else n.l=r;return a}var SZ=bd,_Z=Pp;function AZ(n,e){return e==null&&(e=oe(4)),e.write_shift(4,n),e}function TZ(n,e){var t=n.l+e,r=bd(n),i=hC(n),s=Tr(n),a=Tr(n),o=Tr(n);n.l=t;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function bZ(n,e){var t=oe(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Pp({s:jn(n[0]),e:jn(n[0])},t),dC("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Un(i||"",t),Un(n[1].Tooltip||"",t),Un("",t),t.slice(0,t.l)}function CZ(){}function kZ(n,e,t){var r=n.l+e,i=pB(n),s=n.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var o=gJ(n,r-n.l,t);a[1]=o}else n.l=r;return a}function PZ(n,e,t){var r=n.l+e,i=bd(n),s=[i];if(t.cellFormula){var a=xJ(n,r-n.l,t);s[1]=a,n.l=r}else n.l=r;return s}function RZ(n,e,t){t==null&&(t=oe(18));var r=QE(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var QB=["left","right","top","bottom","header","footer"];function FZ(n){var e={};return QB.forEach(function(t){e[t]=Rp(n)}),e}function NZ(n,e){return e==null&&(e=oe(6*8)),KB(n),QB.forEach(function(t){pd(n[t],e)}),e}function DZ(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function IZ(n,e,t){t==null&&(t=oe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function OZ(n){var e=oe(24);return e.write_shift(4,4),e.write_shift(4,1),Pp(n,e),e}function MZ(n,e){return e==null&&(e=oe(16*4+2)),e.write_shift(2,n.password?NB(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function LZ(){}function BZ(){}function jZ(n,e,t,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=di(e),e.z=e.z||cn[14],e.v=hi($r(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:t,c:r};switch(l.s=pu(i.cellXfs,e,i),e.l&&s["!links"].push([mt(l),e.l]),e.c&&s["!comments"].push([mt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=xC(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?ue(n,18,iZ(e,l)):ue(n,7,nZ(e,l))):(l.t="str",a?ue(n,17,vZ(e,l)):ue(n,6,mZ(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?ue(n,13,dZ(e,l)):ue(n,2,uZ(e,l)):a?ue(n,16,lZ(e,l)):ue(n,5,aZ(e,l)),!0;case"b":return l.t="b",a?ue(n,15,qJ(e,l)):ue(n,4,YJ(e,l)),!0;case"e":return l.t="e",a?ue(n,14,eZ(e,l)):ue(n,3,JJ(e,l)),!0}return a?ue(n,12,GJ(e,l)):ue(n,1,WJ(e,l)),!0}function UZ(n,e,t,r){var i=Lt(e["!ref"]||"A1"),s,a="",o=[];ue(n,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=u;++h){a=sr(h),LJ(n,e,i,h);var d=!1;if(h<=i.e.r)for(var f=i.s.c;f<=i.e.c;++f){h===i.s.r&&(o[f]=Ar(f)),s=o[f]+a;var p=l?(e[h]||[])[f]:e[s];if(!p){d=!1;continue}d=jZ(n,p,h,f,r,e,d)}}ue(n,146)}function HZ(n,e){!e||!e["!merges"]||(ue(n,177,AZ(e["!merges"].length)),e["!merges"].forEach(function(t){ue(n,176,_Z(t))}),ue(n,178))}function $Z(n,e){!e||!e["!cols"]||(ue(n,390),e["!cols"].forEach(function(t,r){t&&ue(n,60,RZ(r,t))}),ue(n,391))}function zZ(n,e){!e||!e["!ref"]||(ue(n,648),ue(n,649,OZ(Lt(e["!ref"]))),ue(n,650))}function WZ(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=dt(t,-1,r[1].Target.replace(/#.*$/,""),rt.HLINK);ue(n,494,bZ(r,i))}}),delete e["!links"]}function VZ(n,e,t,r){if(e["!comments"].length>0){var i=dt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",rt.VML);ue(n,551,dC("rId"+i)),e["!legacy"]=i}}function GZ(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:xn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,o=Qi(s);o.s.r==o.e.r&&(o.e.r=Qi(e["!ref"]).e.r,s=xn(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+t.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),ue(n,161,Pp(Lt(s))),ue(n,162)}}function XZ(n,e,t){ue(n,133),ue(n,137,IZ(e,t)),ue(n,138),ue(n,134)}function YZ(n,e){e["!protect"]&&ue(n,535,MZ(e["!protect"]))}function KZ(n,e,t,r){var i=ci(),s=t.SheetNames[n],a=t.Sheets[s]||{},o=s;try{t&&t.Workbook&&(o=t.Workbook.Sheets[n].CodeName||o)}catch{}var l=Lt(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],ue(i,129),(t.vbaraw||a["!outline"])&&ue(i,147,$J(o,a["!outline"])),ue(i,148,jJ(l)),XZ(i,a,t.Workbook),$Z(i,a),UZ(i,a,n,e),YZ(i,a),GZ(i,a,t,n),HZ(i,a),WZ(i,a,r),a["!margins"]&&ue(i,476,NZ(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&zZ(i,a),VZ(i,a,n,r),ue(i,130),i.end()}function qZ(n,e){n.l+=10;var t=Tr(n);return{name:t}}var QZ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function JZ(n){return!n.Workbook||!n.Workbook.WBProps?"false":PY(n.Workbook.WBProps.date1904)?"true":"false"}var ZZ="][*?/\\".split("");function JB(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return ZZ.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function eee(n,e,t){n.forEach(function(r,i){JB(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function tee(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];eee(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)_J(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function ZB(n){var e=[wn];e[e.length]=ve("workbook",null,{xmlns:Cp[0],"xmlns:r":Bn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(QZ.forEach(function(o){n.Workbook.WBProps[o[0]]!=null&&n.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=n.Workbook.WBProps[o[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ve("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var a={name:ft(n.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=ve("sheet",null,a)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=ve("definedName",ft(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function nee(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=hT(n),t.name=Tr(n),t}function ree(n,e){return e||(e=oe(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),dC(n.strRelID,e),Un(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function iee(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Tr(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function see(n,e){e||(e=oe(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),hB(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function aee(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=JY(n),a=vJ(n,0,t),o=hC(n);n.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function oee(n,e){ue(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};ue(n,156,ree(i))}ue(n,144)}function lee(n,e){e||(e=oe(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Un("SheetJS",e),Un(ww.version,e),Un(ww.version,e),Un("7262",e),e.length>e.l?e.slice(0,e.l):e}function cee(n,e){e||(e=oe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function uee(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(ue(n,135),ue(n,158,cee(i)),ue(n,136))}}function hee(n,e){var t=ci();return ue(t,131),ue(t,128,lee()),ue(t,153,see(n.Workbook&&n.Workbook.WBProps||null)),uee(t,n),oee(t,n),ue(t,132),t.end()}function dee(n,e,t){return(e.slice(-4)===".bin"?hee:ZB)(n)}function fee(n,e,t,r,i){return(e.slice(-4)===".bin"?KZ:qB)(n,t,r,i)}function pee(n,e,t){return(e.slice(-4)===".bin"?Nq:OB)(n,t)}function mee(n,e,t){return(e.slice(-4)===".bin"?sq:FB)(n,t)}function gee(n,e,t){return(e.slice(-4)===".bin"?Yq:UB)(n)}function vee(n){return(n.slice(-4)===".bin"?Uq:BB)()}function xee(n,e){var t=[];return n.Props&&t.push(pK(n.Props,e)),n.Custprops&&t.push(mK(n.Props,n.Custprops)),t.join("")}function yee(){return""}function wee(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(ve("NumberFormat",null,{"ss:Format":ft(cn[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};t.push(ve("Style",s.join(""),a))}),ve("Styles",t.join(""))}function e8(n){return ve("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+gC(n.Ref,{r:0,c:0})})}function Eee(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(e8(i)))}return ve("Names",t.join(""))}function See(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==t&&(o.Name.match(/^_xlfn\./)||s.push(e8(o)))}return s.join("")}function _ee(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(ve("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(ve("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(ve("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(ve("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(tr("ProtectContents","True")),n["!protect"].objects&&i.push(tr("ProtectObjects","True")),n["!protect"].scenarios&&i.push(tr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(tr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(tr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){n["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":ve("WorksheetOptions",i.join(""),{xmlns:zi.x})}function Aee(n){return n.map(function(e){var t=kY(e.t||""),r=ve("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ve("Comment",r,{"ss:Author":e.a})}).join("")}function Tee(n,e,t,r,i,s,a){if(!n||n.v==null&&n.f==null)return"";var o={};if(n.f&&(o["ss:Formula"]="="+ft(gC(n.f,a))),n.F&&n.F.slice(0,e.length)==e){var l=jn(n.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(n.l&&n.l.Target&&(o["ss:HRef"]=ft(n.l.Target),n.l.Tooltip&&(o["x:HRefScreenTip"]=ft(n.l.Tooltip))),t["!merges"])for(var u=t["!merges"],h=0;h!=u.length;++h)u[h].s.c!=a.c||u[h].s.r!=a.r||(u[h].e.c>u[h].s.c&&(o["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(o["ss:MergeDown"]=u[h].e.r-u[h].s.r));var d="",f="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",f=String(n.v);break;case"b":d="Boolean",f=n.v?"1":"0";break;case"e":d="Error",f=M1[n.v];break;case"d":d="DateTime",f=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||cn[14]);break;case"s":d="String",f=CY(n.v||"");break}var p=pu(r.cellXfs,n,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var g=n.v!=null?f:"",m=n.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(n.c||[]).length>0&&(m+=Aee(n.c)),ve("Cell",m,o)}function bee(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=IB(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Cee(n,e,t,r){if(!n["!ref"])return"";var i=Lt(n["!ref"]),s=n["!merges"]||[],a=0,o=[];n["!cols"]&&n["!cols"].forEach(function(v,x){pC(v);var w=!!v.width,y=QE(x,v),S={"ss:Index":x+1};w&&(S["ss:Width"]=Pw(y.width)),v.hidden&&(S["ss:Hidden"]="1"),o.push(ve("Column",null,S))});for(var l=Array.isArray(n),u=i.s.r;u<=i.e.r;++u){for(var h=[bee(u,(n["!rows"]||[])[u])],d=i.s.c;d<=i.e.c;++d){var f=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>d)&&!(s[a].s.r>u)&&!(s[a].e.c<d)&&!(s[a].e.r<u)){(s[a].s.c!=d||s[a].s.r!=u)&&(f=!0);break}if(!f){var p={r:u,c:d},g=mt(p),m=l?(n[u]||[])[d]:n[g];h.push(Tee(m,g,n,e,t,r,p))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function kee(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],a=s?See(s,e,n,t):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?Cee(s,e,n,t):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(_ee(s,e,n,t)),r.join("")}function Pee(n,e){e||(e={}),n.SSF||(n.SSF=di(cn)),n.SSF&&(GE(),VE(n.SSF),e.revssf=XE(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],pu(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(xee(n,e)),t.push(yee()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(ve("Worksheet",kee(r,e,n),{"ss:Name":ft(n.SheetNames[r])}));return t[2]=wee(n,e),t[3]=Eee(n),wn+ve("Workbook",t.join(""),{xmlns:zi.ss,"xmlns:o":zi.o,"xmlns:x":zi.x,"xmlns:ss":zi.ss,"xmlns:dt":zi.dt,"xmlns:html":zi.html})}var a_={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Ree(n,e){var t=[],r=[],i=[],s=0,a,o=wR(DR,"n"),l=wR(IR,"n");if(n.Props)for(a=lr(n.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],n.Props[a[s]]]);if(n.Custprops)for(a=lr(n.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],n.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)AB.indexOf(i[s][0])>-1||EB.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);r.length&&Et.utils.cfb_add(e,"/SummaryInformation",jR(r,a_.SI,l,IR)),(t.length||u.length)&&Et.utils.cfb_add(e,"/DocumentSummaryInformation",jR(t,a_.DSI,o,DR,u.length?u:null,a_.UDI))}function Fee(n,e){var t=e||{},r=Et.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Et.utils.cfb_add(r,i,t8(n,t)),t.biff==8&&(n.Props||n.Custprops)&&Ree(n,r),t.biff==8&&n.vbaraw&&Kq(r,Et.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var Nee={0:{f:OJ},1:{f:zJ},2:{f:cZ},3:{f:QJ},4:{f:XJ},5:{f:sZ},6:{f:pZ},7:{f:tZ},8:{f:EZ},9:{f:wZ},10:{f:xZ},11:{f:yZ},12:{f:VJ},13:{f:hZ},14:{f:ZJ},15:{f:KJ},16:{f:oZ},17:{f:gZ},18:{f:rZ},19:{f:uC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:aee},40:{},42:{},43:{f:pq},44:{f:dq},45:{f:vq},46:{f:yq},47:{f:xq},48:{},49:{f:VY},50:{},51:{f:Oq},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:GK},62:{f:fZ},63:{f:Hq},64:{f:LZ},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:oo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:DZ},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:HJ},148:{f:BJ,p:16},151:{f:CZ},152:{},153:{f:iee},154:{},155:{},156:{f:nee},157:{},158:{},159:{T:1,f:nq},160:{T:-1},161:{T:1,f:bd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:SZ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Dq},336:{T:-1},337:{f:Bq,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:hT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:UK},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:kZ},427:{f:PZ},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:FZ},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:UJ},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:TZ},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:hT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Gq},633:{T:1},634:{T:-1},635:{T:1,f:Wq},636:{T:-1},637:{f:KY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:qZ},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:BZ},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ye(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,a=n.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&oC(t)&&n.push(t)}}function Dee(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return ye(n,e,t,i);var s=e;if(!isNaN(s)){for(var a=t.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var h=n.next(4);for(h.write_shift(2,s),h.write_shift(2,u),n.push(t.slice(l,l+u)),l+=u;l<i;){for(h=n.next(4),h.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;h.write_shift(2,u),n.push(t.slice(l,l+u)),l+=u}}}function B1(n,e,t){return n||(n=oe(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function Iee(n,e,t,r){var i=oe(9);return B1(i,n,e),bB(t,r||"b",i),i}function Oee(n,e,t){var r=oe(8+2*t.length);return B1(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Mee(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?hi($r(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ye(n,2,qK(t,r,i)):ye(n,3,KK(t,r,i));return;case"b":case"e":ye(n,5,Iee(t,r,e.v,e.t));return;case"s":case"str":ye(n,4,Oee(t,r,(e.v||"").slice(0,255)));return}ye(n,1,B1(null,t,r))}function Lee(n,e,t,r){var i=Array.isArray(e),s=Lt(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=xn(s)}for(var u=s.s.r;u<=s.e.r;++u){o=sr(u);for(var h=s.s.c;h<=s.e.c;++h){u===s.s.r&&(l[h]=Ar(h)),a=l[h]+o;var d=i?(e[u]||[])[h]:e[a];d&&Mee(n,d,u,h)}}}function Bee(n,e){for(var t=e||{},r=ci(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return ye(r,t.biff==4?1033:t.biff==3?521:9,fC(n,16,t)),Lee(r,n.Sheets[n.SheetNames[i]],i,t),ye(r,10),r.end()}function jee(n,e,t){ye(n,49,NK({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}function Uee(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ye(n,1054,OK(i,e[i],t))})}function Hee(n,e){var t=oe(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),ye(n,2151,t),t=oe(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),PB(Lt(e["!ref"]||"A1"),t),t.write_shift(4,4),ye(n,2152,t)}function $ee(n,e){for(var t=0;t<16;++t)ye(n,224,HR({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){ye(n,224,HR(r,0,e))})}function zee(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];ye(n,440,zK(r)),r[1].Tooltip&&ye(n,2048,WK(r))}delete e["!links"]}function Wee(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&ye(n,125,XK(QE(i,r),i))})}}function Vee(n,e,t,r,i){var s=16+pu(i.cellXfs,e,i);if(e.v==null&&!e.bf){ye(n,513,md(t,r,s));return}if(e.bf)ye(n,6,mJ(e,t,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?hi($r(e.v)):e.v;ye(n,515,jK(t,r,a,s));break;case"b":case"e":ye(n,517,BK(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=xC(i.Strings,e.v,i.revStrings);ye(n,253,DK(t,r,o,s))}else ye(n,516,IK(t,r,(e.v||"").slice(0,255),s,i));break;default:ye(n,513,md(t,r,s))}}function Gee(n,e,t){var r=ci(),i=t.SheetNames[n],s=t.Sheets[i]||{},a=(t||{}).Workbook||{},o=(a.Sheets||[])[n]||{},l=Array.isArray(s),u=e.biff==8,h,d="",f=[],p=Lt(s["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}ye(r,2057,fC(t,16,e)),ye(r,13,xs(1)),ye(r,12,xs(100)),ye(r,15,Br(!0)),ye(r,17,Br(!1)),ye(r,16,pd(.001)),ye(r,95,Br(!0)),ye(r,42,Br(!1)),ye(r,43,Br(!1)),ye(r,130,xs(1)),ye(r,128,LK()),ye(r,131,Br(!1)),ye(r,132,Br(!1)),u&&Wee(r,s["!cols"]),ye(r,512,MK(p,e)),u&&(s["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){d=sr(m);for(var v=p.s.c;v<=p.e.c;++v){m===p.s.r&&(f[v]=Ar(v)),h=f[v]+d;var x=l?(s[m]||[])[v]:s[h];x&&(Vee(r,x,m,v,e),u&&x.l&&s["!links"].push([h,x.l]))}}var w=o.CodeName||o.name||i;return u&&ye(r,574,FK((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&ye(r,229,$K(s["!merges"])),u&&zee(r,s),ye(r,442,kB(w)),u&&Hee(r,s),ye(r,10),r.end()}function Xee(n,e,t){var r=ci(),i=(n||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=t.biff==8,l=t.biff==5;if(ye(r,2057,fC(n,5,t)),t.bookType=="xla"&&ye(r,135),ye(r,225,o?xs(1200):null),ye(r,193,xK(2)),l&&ye(r,191),l&&ye(r,192),ye(r,226),ye(r,92,CK("SheetJS",t)),ye(r,66,xs(o?1200:1252)),o&&ye(r,353,xs(0)),o&&ye(r,448),ye(r,317,YK(n.SheetNames.length)),o&&n.vbaraw&&ye(r,211),o&&n.vbaraw){var u=a.CodeName||"ThisWorkbook";ye(r,442,kB(u))}ye(r,156,xs(17)),ye(r,25,Br(!1)),ye(r,18,Br(!1)),ye(r,19,xs(0)),o&&ye(r,431,Br(!1)),o&&ye(r,444,xs(0)),ye(r,61,RK()),ye(r,64,Br(!1)),ye(r,141,xs(0)),ye(r,34,Br(JZ(n)=="true")),ye(r,14,Br(!0)),o&&ye(r,439,Br(!1)),ye(r,218,xs(0)),jee(r,n,t),Uee(r,n.SSF,t),$ee(r,t),o&&ye(r,352,Br(!1));var h=r.end(),d=ci();o&&ye(d,140,VK()),o&&t.Strings&&Dee(d,252,PK(t.Strings)),ye(d,10);var f=d.end(),p=ci(),g=0,m=0;for(m=0;m<n.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*n.SheetNames[m].length;var v=h.length+g+f.length;for(m=0;m<n.SheetNames.length;++m){var x=s[m]||{};ye(p,133,kK({pos:v,hs:x.Hidden||0,dt:0,name:n.SheetNames[m]},t)),v+=e[m].length}var w=p.end();if(g!=w.length)throw new Error("BS8 "+g+" != "+w.length);var y=[];return h.length&&y.push(h),w.length&&y.push(w),f.length&&y.push(f),er(y)}function Yee(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=di(cn)),n&&n.SSF&&(GE(),VE(n.SSF),t.revssf=XE(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,yC(t),t.cellXfs=[],pu(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Gee(i,t,n);return r.unshift(Xee(n,r,t)),er(r)}function t8(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Qi(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Yee(n,e);case 4:case 3:case 2:return Bee(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Kee(n,e,t,r){for(var i=n["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>a)&&!(i[u].e.r<t||i[u].e.c<a)){if(i[u].s.r<t||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var h=mt({r:t,c:a}),d=r.dense?(n[t]||[])[a]:n[h],f=d&&d.v!=null&&(d.h||bY(d.w||(Sl(d),d.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?f='<span contenteditable="true">'+f+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+d.l.Target+'">'+f+"</a>")),p.id=(r.id||"sjs")+"-"+h,s.push(ve("td",f,p))}}var g="<tr>";return g+s.join("")+"</tr>"}var qee='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Qee="</body></html>";function Jee(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function n8(n,e){var t=e||{},r=t.header!=null?t.header:qee,i=t.footer!=null?t.footer:Qee,s=[r],a=Qi(n["!ref"]);t.dense=Array.isArray(n),s.push(Jee(n,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push(Kee(n,a,o,t));return s.push("</table>"+i),s.join("")}function r8(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?jn(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var h=Qi(n["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),i==-1&&(u.e.r=i=h.e.r+1)}var d=[],f=0,p=n["!rows"]||(n["!rows"]=[]),g=0,m=0,v=0,x=0,w=0,y=0;for(n["!cols"]||(n["!cols"]=[]);g<o.length&&m<l;++g){var S=o[g];if(YR(S)){if(r.display)continue;p[m]={hidden:!0}}var T=S.children;for(v=x=0;v<T.length;++v){var P=T[v];if(!(r.display&&YR(P))){var b=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):RY(P.innerHTML),F=P.getAttribute("data-z")||P.getAttribute("z");for(f=0;f<d.length;++f){var D=d[f];D.s.c==x+s&&D.s.r<m+i&&m+i<=D.e.r&&(x=D.e.c+1-s,f=-1)}y=+P.getAttribute("colspan")||1,((w=+P.getAttribute("rowspan")||1)>1||y>1)&&d.push({s:{r:m+i,c:x+s},e:{r:m+i+(w||1)-1,c:x+s+(y||1)-1}});var M={t:"s",v:b},W=P.getAttribute("data-t")||P.getAttribute("t")||"";b!=null&&(b.length==0?M.t=W||"z":r.raw||b.trim().length==0||W=="s"||(b==="TRUE"?M={t:"b",v:!0}:b==="FALSE"?M={t:"b",v:!1}:isNaN(ul(b))?isNaN(Eg(b).getDate())||(M={t:"d",v:$r(b)},r.cellDates||(M={t:"n",v:hi(M.v)}),M.z=r.dateNF||cn[14]):M={t:"n",v:ul(b)})),M.z===void 0&&F!=null&&(M.z=F);var G="",q=P.getElementsByTagName("A");if(q&&q.length)for(var J=0;J<q.length&&!(q[J].hasAttribute("href")&&(G=q[J].getAttribute("href"),G.charAt(0)!="#"));++J);G&&G.charAt(0)!="#"&&(M.l={Target:G}),r.dense?(n[m+i]||(n[m+i]=[]),n[m+i][x+s]=M):n[mt({c:x+s,r:m+i})]=M,u.e.c<x+s&&(u.e.c=x+s),x+=y}}++m}return d.length&&(n["!merges"]=(n["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,m-1+i),n["!ref"]=xn(u),m>=l&&(n["!fullref"]=xn((u.e.r=o.length-g+m-1+i,u))),n}function i8(n,e){var t=e||{},r=t.dense?[]:{};return r8(r,n,e)}function Zee(n,e){return Sd(i8(n,e),e)}function YR(n){var e="",t=ete(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function ete(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var tte=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+_g({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return wn+e}}(),KR=function(){var n=function(s){return ft(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+ft(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,h=0,d=Qi(s["!ref"]||"A1"),f=s["!merges"]||[],p=0,g=Array.isArray(s);if(s["!cols"])for(h=0;h<=d.e.c;++h)l.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var m="",v=s["!rows"]||[];for(u=0;u<d.s.r;++u)m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=d.e.r;++u){for(m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",l.push("        <table:table-row"+m+`>
`),h=0;h<d.s.c;++h)l.push(e);for(;h<=d.e.c;++h){var x=!1,w={},y="";for(p=0;p!=f.length;++p)if(!(f[p].s.c>h)&&!(f[p].s.r>u)&&!(f[p].e.c<h)&&!(f[p].e.r<u)){(f[p].s.c!=h||f[p].s.r!=u)&&(x=!0),w["table:number-columns-spanned"]=f[p].e.c-f[p].s.c+1,w["table:number-rows-spanned"]=f[p].e.r-f[p].s.r+1;break}if(x){l.push(t);continue}var S=mt({r:u,c:h}),T=g?(s[u]||[])[h]:s[S];if(T&&T.f&&(w["table:formula"]=ft(EJ(T.f)),T.F&&T.F.slice(0,S.length)==S)){var P=Qi(T.F);w["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,w["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!T){l.push(e);continue}switch(T.t){case"b":y=T.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=T.v?"true":"false";break;case"n":y=T.w||String(T.v||0),w["office:value-type"]="float",w["office:value"]=T.v||0;break;case"s":case"str":y=T.v==null?"":T.v,w["office:value-type"]="string";break;case"d":y=T.w||$r(T.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=$r(T.v).toISOString(),w["table:style-name"]="ce1";break;default:l.push(e);continue}var b=n(y);if(T.l&&T.l.Target){var F=T.l.Target;F=F.charAt(0)=="#"?"#"+SJ(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),b=ve("text:a",b,{"xlink:href":F.replace(/&/g,"&amp;")})}l.push("          "+ve("table:table-cell",ve("text:p",b,{}),w)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var d=u["!cols"][h];if(d.width==null&&d.wpx==null&&d.wch==null)continue;pC(d),d.ods=o;var f=u["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=l;var d=u["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[wn],u=_g({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=_g({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+h+`>
`),l.push(yB().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=a.SheetNames.length;++d)l.push(r(a.Sheets[a.SheetNames[d]],a,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function s8(n,e){if(e.bookType=="fods")return KR(n,e);var t=rC(),r="",i=[],s=[];return r="mimetype",Ge(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Ge(t,r,KR(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Ge(t,r,tte(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Ge(t,r,wn+yB()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Ge(t,r,fK(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Ge(t,r,hK(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Nw(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function nte(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):na(Sg(n))}function rte(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function ou(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function ite(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function Ag(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function ht(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Cf(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function _n(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Ag(n,t),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=t[0];n[t[0]++]>=128;);o=n.slice(l,t[0])}break;case 5:a=4,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=Ag(n,t),o=n.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Wn(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(ht(r*8+i.type)),i.type==2&&e.push(ht(i.data.length)),e.push(i.data))})}),ou(e)}function Ds(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Ag(n,r),s=_n(n.slice(r[0],r[0]+i));r[0]+=i;var a={id:Cf(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=_n(o.data),u=Cf(l[3][0].data);a.messages.push({meta:l,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=Cf(s[3][0].data)>>>0>0),t.push(a)}return t}function Od(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:ht(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:ht(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:ht(a.data.length)}],r[2].push({data:Wn(a.meta),type:2})});var s=Wn(r);e.push(ht(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),ou(e)}function ste(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Ag(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[t[0]]>>2&7)+4,l=(e[t[0]++]&224)<<3,l|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,s==2?(l=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(l=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[ou(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var h=ou(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function Is(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(ste(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return ou(e)}function Md(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=ht(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,t+=r}return ou(e)}function o_(n,e){var t=new Uint8Array(32),r=Nw(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,ite(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function l_(n,e){var t=new Uint8Array(32),r=Nw(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function Dl(n){var e=_n(n);return Ag(e[1][0].data)}function ate(n,e,t){var r,i,s,a;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=n[8])==null?void 0:s[0])==null?void 0:a.data)&&Cf(n[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=Nw(n[7][0].data),h=0,d=[],f=Nw(n[4][0].data),p=0,g=[],m=0;m<e.length;++m){if(e[m]==null){u.setUint16(m*2,65535,!0),f.setUint16(m*2,65535);continue}u.setUint16(m*2,h,!0),f.setUint16(m*2,p,!0);var v,x;switch(typeof e[m]){case"string":v=o_({t:"s",v:e[m]},t),x=l_({t:"s",v:e[m]},t);break;case"number":v=o_({t:"n",v:e[m]},t),x=l_({t:"n",v:e[m]},t);break;case"boolean":v=o_({t:"b",v:e[m]},t),x=l_({t:"b",v:e[m]},t);break;default:throw new Error("Unsupported value "+e[m])}d.push(v),h+=v.length,g.push(x),p+=x.length,++l}for(n[2][0].data=ht(l);m<n[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),f.setUint16(m*2,65535,!0);return n[6][0].data=ou(d),n[3][0].data=ou(g),l}function ote(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Qi(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(xn(r)));var s=Dw(t,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(B){return B.forEach(function(U){typeof U=="string"&&a.push(U)})});var o={},l=[],u=Et.read(e.numbers,{type:"base64"});u.FileIndex.map(function(B,U){return[B,u.FullPaths[U]]}).forEach(function(B){var U=B[0],V=B[1];if(U.type==2&&U.name.match(/\.iwa/)){var te=U.content,Q=Is(te),he=Ds(Q);he.forEach(function(me){l.push(me.id),o[me.id]={deps:[],location:V,type:Cf(me.messages[0].meta[1][0].data)}})}}),l.sort(function(B,U){return B-U});var h=l.filter(function(B){return B>1}).map(function(B){return[B,ht(B)]});u.FileIndex.map(function(B,U){return[B,u.FullPaths[U]]}).forEach(function(B){var U=B[0];if(B[1],!!U.name.match(/\.iwa/)){var V=Ds(Is(U.content));V.forEach(function(te){te.messages.forEach(function(Q){h.forEach(function(he){te.messages.some(function(me){return Cf(me.meta[1][0].data)!=11006&&rte(me.data,he[1])})&&o[he[0]].deps.push(te.id)})})})}});for(var d=Et.find(u,o[1].location),f=Ds(Is(d.content)),p,g=0;g<f.length;++g){var m=f[g];m.id==1&&(p=m)}var v=Dl(_n(p.messages[0].data)[1][0].data);for(d=Et.find(u,o[v].location),f=Ds(Is(d.content)),g=0;g<f.length;++g)m=f[g],m.id==v&&(p=m);for(v=Dl(_n(p.messages[0].data)[2][0].data),d=Et.find(u,o[v].location),f=Ds(Is(d.content)),g=0;g<f.length;++g)m=f[g],m.id==v&&(p=m);for(v=Dl(_n(p.messages[0].data)[2][0].data),d=Et.find(u,o[v].location),f=Ds(Is(d.content)),g=0;g<f.length;++g)m=f[g],m.id==v&&(p=m);var x=_n(p.messages[0].data);{x[6][0].data=ht(r.e.r+1),x[7][0].data=ht(r.e.c+1);var w=Dl(x[46][0].data),y=Et.find(u,o[w].location),S=Ds(Is(y.content));{for(var T=0;T<S.length&&S[T].id!=w;++T);if(S[T].id!=w)throw"Bad ColumnRowUIDMapArchive";var P=_n(S[T].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var b=0;b<=r.e.c;++b){var F=[];F[1]=F[2]=[{type:0,data:ht(b+420690)}],P[1].push({type:2,data:Wn(F)}),P[2].push({type:0,data:ht(b)}),P[3].push({type:0,data:ht(b)})}P[4]=[],P[5]=[],P[6]=[];for(var D=0;D<=r.e.r;++D)F=[],F[1]=F[2]=[{type:0,data:ht(D+726270)}],P[4].push({type:2,data:Wn(F)}),P[5].push({type:0,data:ht(D)}),P[6].push({type:0,data:ht(D)});S[T].messages[0].data=Wn(P)}y.content=Md(Od(S)),y.size=y.content.length,delete x[46];var M=_n(x[4][0].data);{M[7][0].data=ht(r.e.r+1);var W=_n(M[1][0].data),G=Dl(W[2][0].data);y=Et.find(u,o[G].location),S=Ds(Is(y.content));{if(S[0].id!=G)throw"Bad HeaderStorageBucket";var q=_n(S[0].messages[0].data);for(D=0;D<s.length;++D){var J=_n(q[2][0].data);J[1][0].data=ht(D),J[4][0].data=ht(s[D].length),q[2][D]={type:q[2][0].type,data:Wn(J)}}S[0].messages[0].data=Wn(q)}y.content=Md(Od(S)),y.size=y.content.length;var ae=Dl(M[2][0].data);y=Et.find(u,o[ae].location),S=Ds(Is(y.content));{if(S[0].id!=ae)throw"Bad HeaderStorageBucket";for(q=_n(S[0].messages[0].data),b=0;b<=r.e.c;++b)J=_n(q[2][0].data),J[1][0].data=ht(b),J[4][0].data=ht(r.e.r+1),q[2][b]={type:q[2][0].type,data:Wn(J)};S[0].messages[0].data=Wn(q)}y.content=Md(Od(S)),y.size=y.content.length;var ie=Dl(M[4][0].data);(function(){for(var B=Et.find(u,o[ie].location),U=Ds(Is(B.content)),V,te=0;te<U.length;++te){var Q=U[te];Q.id==ie&&(V=Q)}var he=_n(V.messages[0].data);{he[3]=[];var me=[];a.forEach(function(Te,Qe){me[1]=[{type:0,data:ht(Qe)}],me[2]=[{type:0,data:ht(1)}],me[3]=[{type:2,data:nte(Te)}],he[3].push({type:2,data:Wn(me)})})}V.messages[0].data=Wn(he);var ce=Od(U),we=Md(ce);B.content=we,B.size=B.content.length})();var K=_n(M[3][0].data);{var Y=K[1][0];delete K[2];var H=_n(Y.data);{var X=Dl(H[2][0].data);(function(){for(var B=Et.find(u,o[X].location),U=Ds(Is(B.content)),V,te=0;te<U.length;++te){var Q=U[te];Q.id==X&&(V=Q)}var he=_n(V.messages[0].data);{delete he[6],delete K[7];var me=new Uint8Array(he[5][0].data);he[5]=[];for(var ce=0,we=0;we<=r.e.r;++we){var Te=_n(me);ce+=ate(Te,s[we],a),Te[1][0].data=ht(we),he[5].push({data:Wn(Te),type:2})}he[1]=[{type:0,data:ht(r.e.c+1)}],he[2]=[{type:0,data:ht(r.e.r+1)}],he[3]=[{type:0,data:ht(ce)}],he[4]=[{type:0,data:ht(r.e.r+1)}]}V.messages[0].data=Wn(he);var Qe=Od(U),Oe=Md(Qe);B.content=Oe,B.size=B.content.length})()}Y.data=Wn(H)}M[3][0].data=Wn(K)}x[4][0].data=Wn(M)}p.messages[0].data=Wn(x);var Z=Od(f),N=Md(Z);return d.content=N,d.size=d.content.length,u}function lte(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function yC(n){lte([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function cte(n,e){return e.bookType=="ods"?s8(n,e):e.bookType=="numbers"?ote(n,e):e.bookType=="xlsb"?ute(n,e):hte(n,e)}function ute(n,e){of=1024,n&&!n.SSF&&(n.SSF=di(cn)),n&&n.SSF&&(GE(),VE(n.SSF),e.revssf=XE(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Wm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=HB.indexOf(e.bookType)>-1,i=gB();yC(e=e||{});var s=rC(),a="",o=0;if(e.cellXfs=[],pu(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",Ge(s,a,wB(n.Props,e)),i.coreprops.push(a),dt(e.rels,2,a,rt.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}for(n.Props.Worksheets=n.Props.SheetNames.length,Ge(s,a,SB(n.Props)),i.extprops.push(a),dt(e.rels,3,a,rt.EXT_PROPS),n.Custprops!==n.Props&&lr(n.Custprops||{}).length>0&&(a="docProps/custom.xml",Ge(s,a,_B(n.Custprops)),i.custprops.push(a),dt(e.rels,4,a,rt.CUST_PROPS)),o=1;o<=n.SheetNames.length;++o){var h={"!id":{}},d=n.Sheets[n.SheetNames[o-1]],f=(d||{})["!type"]||"sheet";switch(f){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,Ge(s,a,fee(o-1,a,e,n,h)),i.sheets.push(a),dt(e.wbrels,-1,"worksheets/sheet"+o+"."+t,rt.WS[0])}if(d){var p=d["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+o+"."+t,Ge(s,m,gee(p,m)),i.comments.push(m),dt(h,-1,"../comments"+o+"."+t,rt.CMNT),g=!0),d["!legacy"]&&g&&Ge(s,"xl/drawings/vmlDrawing"+o+".vml",jB(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}h["!id"].rId1&&Ge(s,xB(a),Tf(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,Ge(s,a,mee(e.Strings,a,e)),i.strs.push(a),dt(e.wbrels,-1,"sharedStrings."+t,rt.SST)),a="xl/workbook."+t,Ge(s,a,dee(n,a)),i.workbooks.push(a),dt(e.rels,1,a,rt.WB),a="xl/theme/theme1.xml",Ge(s,a,LB(n.Themes,e)),i.themes.push(a),dt(e.wbrels,-1,"theme/theme1.xml",rt.THEME),a="xl/styles."+t,Ge(s,a,pee(n,a,e)),i.styles.push(a),dt(e.wbrels,-1,"styles."+t,rt.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",Ge(s,a,n.vbaraw),i.vba.push(a),dt(e.wbrels,-1,"vbaProject.bin",rt.VBA)),a="xl/metadata."+t,Ge(s,a,vee(a)),i.metadata.push(a),dt(e.wbrels,-1,"metadata."+t,rt.XLMETA),Ge(s,"[Content_Types].xml",vB(i,e)),Ge(s,"_rels/.rels",Tf(e.rels)),Ge(s,"xl/_rels/workbook."+t+".rels",Tf(e.wbrels)),delete e.revssf,delete e.ssf,s}function hte(n,e){of=1024,n&&!n.SSF&&(n.SSF=di(cn)),n&&n.SSF&&(GE(),VE(n.SSF),e.revssf=XE(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Wm?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=HB.indexOf(e.bookType)>-1,i=gB();yC(e=e||{});var s=rC(),a="",o=0;if(e.cellXfs=[],pu(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",Ge(s,a,wB(n.Props,e)),i.coreprops.push(a),dt(e.rels,2,a,rt.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var l=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(n.SheetNames[u]);n.Props.SheetNames=l}n.Props.Worksheets=n.Props.SheetNames.length,Ge(s,a,SB(n.Props)),i.extprops.push(a),dt(e.rels,3,a,rt.EXT_PROPS),n.Custprops!==n.Props&&lr(n.Custprops||{}).length>0&&(a="docProps/custom.xml",Ge(s,a,_B(n.Custprops)),i.custprops.push(a),dt(e.rels,4,a,rt.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=n.SheetNames.length;++o){var d={"!id":{}},f=n.Sheets[n.SheetNames[o-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,Ge(s,a,qB(o-1,e,n,d)),i.sheets.push(a),dt(e.wbrels,-1,"worksheets/sheet"+o+"."+t,rt.WS[0])}if(f){var g=f["!comments"],m=!1,v="";if(g&&g.length>0){var x=!1;g.forEach(function(w){w[1].forEach(function(y){y.T==!0&&(x=!0)})}),x&&(v="xl/threadedComments/threadedComment"+o+"."+t,Ge(s,v,$q(g,h,e)),i.threadedcomments.push(v),dt(d,-1,"../threadedComments/threadedComment"+o+"."+t,rt.TCMNT)),v="xl/comments"+o+"."+t,Ge(s,v,UB(g)),i.comments.push(v),dt(d,-1,"../comments"+o+"."+t,rt.CMNT),m=!0}f["!legacy"]&&m&&Ge(s,"xl/drawings/vmlDrawing"+o+".vml",jB(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&Ge(s,xB(a),Tf(d))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,Ge(s,a,FB(e.Strings,e)),i.strs.push(a),dt(e.wbrels,-1,"sharedStrings."+t,rt.SST)),a="xl/workbook."+t,Ge(s,a,ZB(n)),i.workbooks.push(a),dt(e.rels,1,a,rt.WB),a="xl/theme/theme1.xml",Ge(s,a,LB(n.Themes,e)),i.themes.push(a),dt(e.wbrels,-1,"theme/theme1.xml",rt.THEME),a="xl/styles."+t,Ge(s,a,OB(n,e)),i.styles.push(a),dt(e.wbrels,-1,"styles."+t,rt.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",Ge(s,a,n.vbaraw),i.vba.push(a),dt(e.wbrels,-1,"vbaProject.bin",rt.VBA)),a="xl/metadata."+t,Ge(s,a,BB()),i.metadata.push(a),dt(e.wbrels,-1,"metadata."+t,rt.XLMETA),h.length>1&&(a="xl/persons/person.xml",Ge(s,a,zq(h)),i.people.push(a),dt(e.wbrels,-1,"persons/person.xml",rt.PEOPLE)),Ge(s,"[Content_Types].xml",vB(i,e)),Ge(s,"_rels/.rels",Tf(e.rels)),Ge(s,"xl/_rels/workbook."+t+".rels",Tf(e.wbrels)),delete e.revssf,delete e.ssf,s}function dte(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=El(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function a8(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return I1(e.file,Et.write(n,{type:at?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Et.write(n,e)}function fte(n,e){var t=di(e||{}),r=cte(n,t);return pte(r,t)}function pte(n,e){var t={},r=at?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?Et.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(WE(i))}return e.password&&typeof encrypt_agile<"u"?a8(encrypt_agile(i,e.password),e):e.type==="file"?I1(e.file,i):e.type=="string"?Um(i):i}function mte(n,e){var t=e||{},r=Fee(n,t);return a8(r,t)}function Ta(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return wg(Sg(r));case"binary":return Sg(r);case"string":return n;case"file":return I1(e.file,r,"utf8");case"buffer":return at?kl(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Ta(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function gte(n,e){switch(e.type){case"base64":return wg(n);case"binary":return n;case"string":return n;case"file":return I1(e.file,n,"binary");case"buffer":return at?kl(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Rx(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?wg(t):e.type=="string"?Um(t):t;case"file":return I1(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function o8(n,e){WX(),tee(n);var t=di(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=o8(n,t);return t.type="array",WE(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Ta(Pee(n,t),t);case"slk":case"sylk":return Ta(JK.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Ta(n8(n.Sheets[n.SheetNames[i]],t),t);case"txt":return gte(l8(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Ta(wC(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Ta(ZK.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return Rx(QK.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Ta(eq.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Ta(oq.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Ta(RB.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Ta(s8(n,t),t);case"wk1":return Rx($R.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return Rx($R.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Rx(t8(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),mte(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return fte(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function vte(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function xte(n,e,t){var r={};return r.type="file",r.file=e,vte(r),o8(n,r)}function yte(n,e,t,r,i,s,a,o){var l=sr(t),u=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,f=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:t,enumerable:!1})}catch{f.__rowNum__=t}else f.__rowNum__=t;if(!a||n[t])for(var p=e.s.c;p<=e.e.c;++p){var g=a?n[t][p]:n[r[p]+l];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[p]!=null&&(f[s[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[p]!=null){if(m==null)if(g.t=="e"&&m===null)f[s[p]]=null;else if(u!==void 0)f[s[p]]=u;else if(h&&m===null)f[s[p]]=null;else continue;else f[s[p]]=h&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Sl(g,m,o);m!=null&&(d=!1)}}return{row:f,isempty:d}}function Dw(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},h=u.range!=null?u.range:n["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof h){case"string":l=Lt(h);break;case"number":l=Lt(n["!ref"]),l.s.r=h;break;default:l=h}r>0&&(i=0);var d=sr(l.s.r),f=[],p=[],g=0,m=0,v=Array.isArray(n),x=l.s.r,w=0,y={};v&&!n[x]&&(n[x]=[]);var S=u.skipHidden&&n["!cols"]||[],T=u.skipHidden&&n["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(S[w]||{}).hidden)switch(f[w]=Ar(w),t=v?n[x][w]:n[f[w]+d],r){case 1:s[w]=w-l.s.c;break;case 2:s[w]=f[w];break;case 3:s[w]=u.header[w-l.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=Sl(t,null,u),m=y[a]||0,!m)y[a]=1;else{do o=a+"_"+m++;while(y[o]);y[a]=m,y[o]=1}s[w]=o}for(x=l.s.r+i;x<=l.e.r;++x)if(!(T[x]||{}).hidden){var P=yte(n,l,x,f,r,s,v,u);(P.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=P.row)}return p.length=g,p}var qR=/"/g;function wte(n,e,t,r,i,s,a,o){for(var l=!0,u=[],h="",d=sr(t),f=e.s.c;f<=e.e.c;++f)if(r[f]){var p=o.dense?(n[t]||[])[f]:n[r[f]+d];if(p==null)h="";else if(p.v!=null){l=!1,h=""+(o.rawNumbers&&p.t=="n"?p.v:Sl(p,null,o));for(var g=0,m=0;g!==h.length;++g)if((m=h.charCodeAt(g))===i||m===s||m===34||o.forceQuotes){h='"'+h.replace(qR,'""')+'"';break}h=="ID"&&(h='"ID"')}else p.f!=null&&!p.F?(l=!1,h="="+p.f,h.indexOf(",")>=0&&(h='"'+h.replace(qR,'""')+'"')):h="";u.push(h)}return o.blankrows===!1&&l?null:u.join(a)}function wC(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=Lt(n["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),h="",d=[];r.dense=Array.isArray(n);for(var f=r.skipHidden&&n["!cols"]||[],p=r.skipHidden&&n["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(f[g]||{}).hidden||(d[g]=Ar(g));for(var m=0,v=i.s.r;v<=i.e.r;++v)(p[v]||{}).hidden||(h=wte(n,i,v,d,a,l,s,r),h!=null&&(r.strip&&(h=h.replace(u,"")),(h||r.blankrows!==!1)&&t.push((m++?o:"")+h)));return delete r.dense,t.join("")}function l8(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=wC(n,e);return t}function Ete(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=Lt(n["!ref"]),s="",a=[],o,l=[],u=Array.isArray(n);for(o=i.s.c;o<=i.e.c;++o)a[o]=Ar(o);for(var h=i.s.r;h<=i.e.r;++h)for(s=sr(h),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,t=u?(n[h]||[])[o]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}l[l.length]=e+"="+r}return l}function c8(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?jn(r.origin):r.origin;a=l.r,o=l.c}var u,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var d=Lt(s["!ref"]);h.e.c=Math.max(h.e.c,d.e.c),h.e.r=Math.max(h.e.r,d.e.r),a==-1&&(a=d.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var f=r.header||[],p=0;e.forEach(function(m,v){lr(m).forEach(function(x){(p=f.indexOf(x))==-1&&(f[p=f.length]=x);var w=m[x],y="z",S="",T=mt({c:o+p,r:a+v+i});u=Tg(s,T),w&&typeof w=="object"&&!(w instanceof Date)?s[T]=w:(typeof w=="number"?y="n":typeof w=="boolean"?y="b":typeof w=="string"?y="s":w instanceof Date?(y="d",r.cellDates||(y="n",w=hi(w)),S=r.dateNF||cn[14]):w===null&&r.nullError&&(y="e",w=0),u?(u.t=y,u.v=w,delete u.w,delete u.R,S&&(u.z=S)):s[T]=u={t:y,v:w},S&&(u.z=S))})}),h.e.c=Math.max(h.e.c,o+f.length-1);var g=sr(a);if(i)for(p=0;p<f.length;++p)s[Ar(p+o)+g]={t:"s",v:f[p]};return s["!ref"]=xn(h),s}function Ste(n,e){return c8(null,n,e)}function Tg(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=jn(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Tg(n,mt(e)):Tg(n,mt({r:e,c:t||0}))}function _te(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Ate(){return{SheetNames:[],Sheets:{}}}function Tte(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=a+i)!=-1;++i);}if(JB(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function bte(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=_te(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Cte(n,e){return n.z=e,n}function u8(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function kte(n,e,t){return u8(n,"#"+e,t)}function Pte(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Rte(n,e,t,r){for(var i=typeof e!="string"?e:Lt(e),s=typeof e=="string"?e:xn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Tg(n,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=t,r&&(l.D=!0))}return n}var c_={encode_col:Ar,encode_row:sr,encode_cell:mt,encode_range:xn,decode_col:cC,decode_row:lC,split_cell:WY,decode_cell:jn,decode_range:Qi,format_cell:Sl,sheet_add_aoa:uB,sheet_add_json:c8,sheet_add_dom:r8,aoa_to_sheet:kp,json_to_sheet:Ste,table_to_sheet:i8,table_to_book:Zee,sheet_to_csv:wC,sheet_to_txt:l8,sheet_to_json:Dw,sheet_to_html:n8,sheet_to_formulae:Ete,sheet_to_row_object_array:Dw,sheet_get_cell:Tg,book_new:Ate,book_append_sheet:Tte,book_set_sheet_visibility:bte,cell_set_number_format:Cte,cell_set_hyperlink:u8,cell_set_internal_link:kte,cell_add_comment:Pte,sheet_set_array_formula:Rte,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Fte=(n,e="archive-records")=>{const t=n.map(s=>{var a,o,l;return{" ":s.fileType==="incoming"?"":""," ":new Date(s.archiveDate).toLocaleDateString("ar-SA")," ":s.archiverName," ":s.issuingEntity||""," ":new Date(s.documentDate).toLocaleDateString("ar-SA")," ":s.documentNumber,:s.title,:s.notes," ":(a=s.attachedFile)!=null&&a.type||s.pdfFile?"PDF":""," ":((o=s.attachedFile)==null?void 0:o.name)||((l=s.pdfFile)==null?void 0:l.name)||""}}),r=c_.json_to_sheet(t);r["!cols"]=[{wch:10},{wch:15},{wch:20},{wch:25},{wch:15},{wch:15},{wch:30},{wch:40},{wch:12},{wch:25}];const i=c_.book_new();c_.book_append_sheet(i,r,""),xte(i,`${e}.xlsx`)},Nte=(n,e="archive-records")=>{const t=[" "," "," "," "," "," ","",""," "," "],r=n.map(l=>{var u,h,d;return[l.fileType==="incoming"?"":"",new Date(l.archiveDate).toLocaleDateString("ar-SA"),l.archiverName,l.issuingEntity||"",new Date(l.documentDate).toLocaleDateString("ar-SA"),l.documentNumber,l.title,l.notes,(u=l.attachedFile)!=null&&u.type||l.pdfFile?"PDF":"",((h=l.attachedFile)==null?void 0:h.name)||((d=l.pdfFile)==null?void 0:d.name)||""]}),i=["\uFEFF"+t.join(","),...r.map(l=>l.map(u=>`"${u}"`).join(","))].join(`
`),s=new Blob([i],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),o=URL.createObjectURL(s);a.setAttribute("href",o),a.setAttribute("download",`${e}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},Dte=()=>{const[n,e]=C.useState([]),[t,r]=C.useState({fileType:"all",searchTerm:""}),[i,s]=C.useState(null),[a,o]=C.useState(!1);C.useEffect(()=>{e(Ui.getRecords())},[]);const l=p=>{Ui.addRecord(p),e(Ui.getRecords())},u=p=>{Ui.deleteRecord(p),e(Ui.getRecords())},h=(p,g)=>{Ui.updateRecord(p,g),e(Ui.getRecords())},d=p=>{s(p),o(!0)},f=C.useMemo(()=>n.filter(p=>{if(t.fileType&&t.fileType!=="all"&&p.fileType!==t.fileType)return!1;if(t.dateFrom){const g=new Date(p.archiveDate),m=new Date(t.dateFrom);if(g<m)return!1}if(t.dateTo){const g=new Date(p.archiveDate),m=new Date(t.dateTo);if(m.setHours(23,59,59,999),g>m)return!1}if(t.searchTerm){const g=t.searchTerm.toLowerCase();return p.title.toLowerCase().includes(g)||p.documentNumber.toLowerCase().includes(g)||p.archiverName.toLowerCase().includes(g)||p.issuingEntity&&p.issuingEntity.toLowerCase().includes(g)||p.notes.toLowerCase().includes(g)||p.extractedText&&p.extractedText.toLowerCase().includes(g)}return!0}),[n,t]);return A.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[A.jsx("header",{className:"bg-primary text-primary-foreground py-6 shadow-lg",children:A.jsx("div",{className:"container mx-auto px-4",children:A.jsx("h1",{className:"text-3xl font-bold text-center",children:"   "})})}),A.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-7xl flex-1",children:[A.jsxs("div",{className:"mb-8",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[A.jsx("div",{className:"p-2 bg-gradient-primary rounded-lg",children:A.jsx(Wj,{className:"h-8 w-8 text-primary-foreground"})}),A.jsx("h2",{className:"text-4xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"  "})]}),A.jsx("p",{className:"text-muted-foreground text-lg",children:"           "})]}),A.jsxs(HX,{defaultValue:"add",className:"space-y-6",children:[A.jsxs(R3,{className:"grid w-full max-w-md grid-cols-2",children:[A.jsx(oT,{value:"add",children:"  "}),A.jsxs(oT,{value:"view",children:["  (",n.length,")"]})]}),A.jsx(lT,{value:"add",className:"space-y-6",children:A.jsx(GG,{onSubmit:l})}),A.jsxs(lT,{value:"view",className:"space-y-6",children:[A.jsx(XG,{filters:t,onFilterChange:r}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",f.length,"   ",n.length," "]}),f.length>0&&A.jsxs("div",{className:"flex gap-2",children:[A.jsxs(_r,{variant:"outline",size:"sm",onClick:()=>{Fte(f,"-"),an.success("    Excel ")},className:"gap-2",children:[A.jsx(Vj,{className:"h-4 w-4"})," Excel"]}),A.jsxs(_r,{variant:"outline",size:"sm",onClick:()=>{Nte(f,"-"),an.success("    CSV ")},className:"gap-2",children:[A.jsx(a2,{className:"h-4 w-4"})," CSV"]})]})]}),A.jsx(EX,{records:f,onDelete:u,onEdit:d})]})]}),A.jsx(TX,{record:i,open:a,onOpenChange:o,onUpdate:h})]}),A.jsx("footer",{className:"bg-muted text-muted-foreground py-4 mt-8 border-t",children:A.jsx("div",{className:"container mx-auto px-4",children:A.jsx("p",{className:"text-center text-sm",children:"   -  GIS"})})})]})},Ite=()=>{const n=rO();return C.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",n.pathname)},[n.pathname]),A.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:A.jsxs("div",{className:"text-center",children:[A.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),A.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),A.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Ote=new xH,Mte=()=>A.jsx(wH,{client:Ote,children:A.jsxs(Y9,{children:[A.jsx(RU,{}),A.jsx(l7,{}),A.jsx(s$,{children:A.jsxs(n$,{children:[A.jsx(v2,{path:"/",element:A.jsx(Dte,{})}),A.jsx(v2,{path:"*",element:A.jsx(Ite,{})})]})})]})});wD(document.getElementById("root")).render(A.jsx(Mte,{}));
